.var
  isNalDrag: boolean;
  ДрагМетНазв: array [1..10] of string;
  ДрагМетКол : array [1..10] of string;
  ДрагМетЕд  : array [1..10] of string;
  Завод_цена4, Надбавка5, Стоимость6, СтавкаНДС7,
  СуммаНДС8, ВсегоНДС9, СтавкаНП10, СуммаНП11, ВсегоНДСНП12, РознЦена13: double;
  АСтоимость6, АСуммаНДС8, АВсегоНДС9, АСуммаНП11, АВсегоНДСНП12: double;
.endvar
.create view TtnDrag
var
  pNrec: comp;
from
  SpSopr
, KatMc
, KatParty
, KatEd
, NalDrag
, KatDrag
, RzSpDoc
, SpGrNal NalNDS
, SpGrNal NalNp

where
((
       pNrec             ==  SpSopr.NRec
  AND  SpSopr.cMCUSL     ==  KatMC.NRec
  AND  SpSopr.cParty     ==  KatParty.NRec
  AND  word(3)           ==  NalDrag.TiDk
  AND  KatMC.NRec        ==  NalDrag.cKatos
  AND  NalDrag.cKatDrag  ==  KatDrag.NRec
  AND  KatDrag.cKatEd    ==  KatEd.NRec
  AND  SpSopr.cOwner     ==  RzSpDoc.NRec
  AND  KatMC.cGrNal      ==  NalNDS.cGrNal
  AND  KatMC.cGrNal      ==  NalNp.cGrNal
  AND  coGetTune('Nalog.cNalogNDS')  ==  NalNDS.cNalog
  AND  coGetTune('Nalog.cNalogProd') ==  NalNp.cNalog
))
;
.begin
  isNalDrag := FALSE;

  АСтоимость6   := 0;
  АСуммаНДС8    := 0;
  АВсегоНДС9    := 0;
  АСуммаНП11    := 0;
  АВсегоНДСНП12 := 0;

end.
