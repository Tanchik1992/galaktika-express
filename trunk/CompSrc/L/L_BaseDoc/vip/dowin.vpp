//********************************************************************************
//                                                        (c) корпорация Галактика
// Галактика 7.12 - логистика
// Окно списка ДО
//********************************************************************************

Browse brVSchet ('перейдите к нужной записи и нажмите <Enter>',, sci178InsPM);
Fields { Font = { Color = if ( IsValid(tnPick2), ColorMark, 0 ) }};
//******************************************************************************
  Picked          #3'√'
                  : [1], Skip, NoAutoSize, Centered;
//******************************************************************************
  KatNotes.sName  #3'Статус'
                  : [7], Protect, NoAutoSize, Centered;
//******************************************************************************
  BaseDoc.dDoc    #3'Дата' ('Дата выписки документа, возможен быстрый поиск',,)
                  : [10,'DD/MM/YYYY'] , Protect, NoAutoSize, Centered;
//******************************************************************************
  '' + BaseDoc.DesGr
                  #3'Группа'     ('Код группы пользователей')
                  : [5], Protect, Centered, NoAutoSize;
//******************************************************************************
  '' + BaseDoc.Descr
                  #3'Дескр.'
                  : [5], Skip, NoAutoSize, Centered;
//******************************************************************************
  BaseDoc.NoDoc   #3'№ докум.' ('Номер документа, возможен быстрый поиск',,)
                  : [9], Protect, NoAutoSize;
//******************************************************************************
  KatOrg.Name     #3'Контрагент'
                  : [21], Protect, NoDel;
//******************************************************************************
  BaseDoc.Total   #3'Сумма по документу' ('Сумма к оплате по документу, возможен быстрый поиск', ,)
                  : [20, '\2p[|-]3666`666`666`666`666.88'], Protect, NoAutoSize;
//******************************************************************************
  SimvolB         #3'Вал'
                  : [4], Skip, NoAutoSize, Centered, { Font = { Italic = true } };
//******************************************************************************
  if(isvalid(tnKatSopr), 'Н', '')
                  #3'Н' ('Признак наличия сопроводительных документов по ДО')
                  : [1], Protect, Centered, NoAutoSize;
//******************************************************************************
  if(isvalid(tnBaseFin), 'П', '')
                  #3'П' ('Признак наличия платежей по документу')
                  : [1], Protect, Centered, NoAutoSize;
//******************************************************************************
#include ofpdof3.vpp  // поле "Сформировано фин.обязательство"
//******************************************************************************
end; // browse;

Browse brVSchet1 ('перейдите к нужной записи и нажмите <Enter>',, sci178InsPM);
Fields { Font = { Color = if ( IsValid(tnPick2), ColorMark, 0 ) }};
//******************************************************************************
  Picked          #3'√'
                  : [1], Skip, NoAutoSize, Centered;
//******************************************************************************
  NakFinDop       '' (' ! -отгружено>оплачено; * -отгружено<оплачено; + -оплачено и отгружено.', hcKouDocFSost)
                  : [1], Protect, NoAutoSize, Centered, NoDel;
//******************************************************************************
  KatNotes.sName  #3'Стат.'
                  : [4], Skip, NoAutoSize, Centered;
//******************************************************************************
  BaseDoc.dDoc    #3'Дата' ('Дата выписки документа, возможен быстрый поиск', hcKouDocFBegDate)
                  : [9,'DD/MM/YYYY'], Protect, NoAutoSize, Centered;
//******************************************************************************
  '' + BaseDoc.DesGr
                  #3'Группа'     ('Код группы пользователей')
                  : [5], Protect, Centered, NoAutoSize;
//******************************************************************************
  '' + BaseDoc.Descr
                  #3'Дескр.'
                  : [5], Skip, NoAutoSize, Centered;
//******************************************************************************
  BaseDoc.NoDoc   #3'№ докум.' ('Номер документа, возможен быстрый поиск', hcKouDocFNum)
                  : [7], Protect, NoAutoSize, Centered;
//******************************************************************************
  KatOrg.Name     #3'Контрагент' ('Наименование контрагента', hcKouDocFOrg)
                  : [10], Protect,NoDel;
//******************************************************************************
  BaseDoc.Total   #3'Сумма по докум.' ('Сумма по документу к оплате, возможен быстрый поиск',hcKouDocFDogSum)
                  : [15, '\2p[|-]3666666`666`666.88'], Protect, NoAutoSize;
//******************************************************************************
  SimvolB         #3'Вал'
                  : [4], Skip, NoAutoSize, Centered, { Font = { Italic = true } };
//******************************************************************************
  TmpSaldo3.Price #3'Оплата'
                  : [15, '\2p[|-]3666666`666`666.88'], [brForVPrice], Protect, NoAutoSize, LessNull;
//******************************************************************************
  TmpSaldo3.Kol   #3'Отгрузка'
                  : [15, '\2p[|-]3666666`666`666.88'], [brForVPrice], Protect, NoAutoSize, LessNull;
//******************************************************************************
  (TmpSaldo3.Kol-TmpSaldo3.Price)
                  #3'Баланс' ('Баланс по документу, равен разности: отгрузка минус оплата')
                  : [15, '\2p[|-]3666666`666`666.88'], [brForVPrice], Protect, NoAutoSize, LessNull;
//******************************************************************************
  if(TmpSaldo3.cParty = 1, 'СвНН', if(TmpSaldo3.VPrice = 0, '', DoubleToStr(TmpSaldo3.VPrice, '\2p[|-]3666666`666`666.88')))
                  #3'НН'
                  : [15], Protect, NoAutoSize,
                  { Font = { Color = if((TmpSaldo3.cParty = 0) and (abs(TmpSaldo3.VPrice - BaseDoc.Total) >= 0.01)
                                    , ColorSysRed
                                    , if(IsValid(tnPick2), ColorMark, 0 ) ) }};
//******************************************************************************
end; // browse;
