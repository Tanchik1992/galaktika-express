!-----------------------------------------------------
!     новые бланки СФ (с 15.03.2001)
!-----------------------------------------------------
#declare s_ProcNDS(_ProcNDS,bVhodNal=true)
  if(wCountry<>0, string(#_ProcNDS, 3, 0), string(#_ProcNDS, 3, 0)+'%')

#end

#doc
Счет-фактура для РФ - А4 (c 15.03.2001г.)
#end
.linkform 'PRBDOC_110C' prototype is 'PRBDOC'
.NameInList 'Счет-фактура для РФ - А4 (c 15.03.2001г.)'
.group 'Продажа'
.group 'Предоплата продаж'
.set filler '-'
!----------------------------------------
.create view vSpStep
from
 SpStep   ,
 KatParty
where
((
     comp(PosNRec) == SpStep.nRec
and  SpStep.cParty == KatParty.nRec
));

.create view vBaseDoc
from
 BaseDoc
where
((
   comp(BaseDocNRec) == BaseDoc.nRec
));
!-------------------------------------------------------------------
.var
 SrcCountry,          // Новые графы СФ "Страна происхождения"
 GTDNumber : string;  //                "Номер ГТД"
 StrPrim1, StrPrim2 : String;
 ArdOrgGruzTo,
 ArdOrgGruzFrom : string;
.endvar
!-------------------------------------------------------------------
.var
 Akciz : double
 CenaAk : double
 SumAk  : double
 totSumAk : double
.endvar
.{
.begin
  if (nRecGrOtp = nRecMy)
    ArdOrgGruzFrom := 'он же'
  else
    ArdOrgGruzFrom := Grpost + if(grSFAdrPostOtp<>'',', ','') + grSFAdrPostOtp;
  ArdOrgGruzTo := Grpol + if(grSFAdrPostPol<>'',', ','') + grSFAdrPostPol;
end.
.FIELDS
 nomer ddoc
 #f_(post)
 #f_(SFAdrJurMy)
 sGetTune('KatOrg.FldView.UNN')
 #f_(innpost)
 #f_(ArdOrgGruzFrom)   //Grpost)
!gradpost
 #f_(ArdOrgGruzTo)  //grpol)
 BaseFinNumber BaseFinDate
! gradpol
 #f_(HeadOrg)
 #f_(SFAdrJurPol)   //adpol)
 sGetTune('KatOrg.FldView.UNN')
 #f_(innpol)
.ENDFIELDS

            БСчет-фактура N Б @@@@@@@@@@@@  Бот Б @@@@@@@@@@@@@@@@@@@@@@

 И  БПродавец Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  Б^ продавца  Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БГрузоотправитель и его адрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БГрузополучатель и его адрес Б  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БК платежно-расчетному документу  Б И
.{ CheckEnter IsBaseFin
        № @@@@@@@@@@@@@@@@@@@@@ от @@@@@@@@@@@
.}
 И  БПокупатель Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  Б^ покупателя  Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
.{ CheckEnter IsExClass
.}
.{ CheckEnter IsGroup
.}
 Ш┌────────────────────────────────┬──────┬──────────┬────────────┬───────────────┬──────────┬──────┬──────────────┬───────────────┬──────────┬────────┐ Ш
 Ш│ Наименование товара            │Еди-  │Количество│   Цена     │   Стоимость   │В том чис-│Нало- │ Сумма налога │   Стоимость   │  Страна  │ Номер  │ Ш
 Ш│(описание выполненных           │ница  │          │ (тариф) за │ товаров (ра-  │ ле акциз │говая │              │ товаров (ра-  │  проис-  │грузовой│ Ш
 Ш│ работ, оказанных               │изме- │          │ единицу из-│ бот, услуг),  │          │ставка│              │ бот, услуг),  │  хожде-  │таможен-│ Ш
 Ш│ услуг)                         │рения │          │ мерения    │  всего без    │          │      │              │ всего с уче-  │  ния     │ной дек-│ Ш
 Ш│                                │      │          │            │   налога      │          │      │              │  том налога   │          │ларации │ Ш
 Ш├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
 Ш│                1               │  2   │    3     │      4     │       5       │     6    │  7   │      8       │       9       │    10    │   11   │ Ш
 Ш├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
.begin
  TotSumAk := 0;
 end.
.{
.{ table 'vSpStep.SpStep'
.begin
!--------------------------------------
#include BDBla2vp.frn
!--------------------------------------;
 Akciz := Ak/kol;
 CenaAk := cenabez + AkCiz;
 SumAk  := sbez + Ak;
 TotSumAk := TotSumAk + SumAk;
 end.
.fields
  mc
  ed kol
  cenaAk sumAk Ak
  #f_(if(IsExistNDS, string(procnds, 3, 0)+'%', '-'))
  Lpad(if(IsExistNDS, DoubleToStr(Nds, '\2p[|-]366`666`666.88'), '-'), 14)
  Newsumma-NSel
  SrcCountry
  GTDNumber
.endfields
 Ш│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@@@@@@│&'#&&&&&&&│&'#&&&&&&.&&│&'#&&&&&&&&&.&&│&'#&&&&.&&│@~#@@@│^│&'#&&&&&&&&&.&&│@~@@@@@@@@│@~@@@@@@│ Ш
.} //table 'vSpStep.SpStep'
.}
.fields
!  TotSumAk c2
  n2
  k1-p2
  Director Main_Buh
.endfields
 Ш├────────────────────────────────┴──────┴──────────┴────────────┴───────────────┴──────────┴──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
 Ш│  Всего к оплате                                                                                 │&#&&&&&&&&&.&&│&#&&&&&&&&&&.&&│          │        │ Ш
 Ш└─────────────────────────────────────────────────────────────────────────────────────────────────┴──────────────┴───────────────┴──────────┴────────┘ Ш


 Ш       Руководитель организации                     @@@@@@@@@@@@@@@@@@@@@@@@@@ Главный бухгалтер                 ^ Ш
 Ш       (индивидуальный предприниматель)                                        (реквизиты свидетельства о Ш
 Ш                                                                                государственной регистрации Ш
 Ш                                                                                индивидуального предпринимателя) Ш

 Ш       М.П. Ш

 Ш       Выдал                                                                     (подпись ответственного лица от продавца) Ш
.begin
  // Для России
  if (wGetTune('Country') = 0)
  {
    StrPrim1 := 'Первый экземпляр - покупателю, второй экземпляр - продавцу.';
    StrPrim2 := ' ';
  }
  else
  {
    StrPrim1 := '1. Без печати недействителен.';
    StrPrim2 := '2. Первый экземпляр - покупателю, второй экземпляр - продавцу.';
  }
end.
.fields
   StrPrim1
   StrPrim2
   page_symb
.endfields
        БПримечания. Б
       ^
       ^

.if Delimiter
 Р---------------------------------------------------------------------------------------------------------------------------- Р
.end
^
.}
.endform
!
!===============================================================================
!
#doc
Счет-фактура на закупку для РФ (новая, A4) (c 15.03.2001г.)
#end
.linkform 'PRBDOC_206C' prototype is 'PRBDOC'
.NameInList 'Счет-фактура на закупку для РФ (новая, A4) (c 15.03.2001г.)'
.group 'Закупка'
.group 'Предоплата закупок'
.set filler '-'
!----------------------------------------
.create view vSpStep
from
 SpStep   ,
 KatParty
where
((
     comp(PosNRec) == SpStep.nRec
and  SpStep.cParty == KatParty.nRec
));
.create view vBaseDoc
from
 BaseDoc
where
((
   comp(BaseDocNRec) == BaseDoc.nRec
));
!-------------------------------------------------------------------
.var
 SrcCountry,          // Новые графы СФ "Страна происхождения"
 GTDNumber : string;  //                "Номер ГТД"
 StrPrim1, StrPrim2 : String;
 ArdOrgGruzTo,
 ArdOrgGruzFrom : string;
.endvar
!-------------------------------------------------------------------
.var
 Akciz : double
 CenaAk : double
 SumAk  : double
 totSumAk : double
.endvar
.{
.begin
  if (vBaseDoc.BaseDoc.cOrg = vBaseDoc.BaseDoc.cGrOtpr)
    ArdOrgGruzFrom := 'он же'
  else
    ArdOrgGruzFrom := Grpost + if(grSFAdrPostOtp<>'',', ','') + grSFAdrPostOtp;
  ArdOrgGruzTo := Grpol + if(grSFAdrPostPol<>'',', ','') + grSFAdrPostPol;
end.
.FIELDS
 nomer ddoc
 #f_(pol)
 #f_(SFAdrJurPol) //adpol)
 sGetTune('KatOrg.FldView.UNN')
 #f_(innpol)
 #f_(ArdOrgGruzFrom) //Grpost)
! gradpost
 #f_(ArdOrgGruzTo)   //grpol)
 BaseFinNumber BaseFinDate
! gradpol
 #f_(post)
 #f_(SFAdrJurMy) //adpost)
 sGetTune('KatOrg.FldView.UNN')
 #f_(innpost)
.ENDFIELDS

            БСчет-фактура N Б @@@@@@@@@@@@  Бот Б @@@@@@@@@@@@@@@@@@@@@@

 И  БПродавец Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  Б^ продавца  Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БГрузоотправитель и его адрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БГрузополучатель и его адрес Б  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БК платежно-расчетному документу  Б И
.{ CheckEnter IsBaseFin
        № @@@@@@@@@@@@@@@@@@@@@ от @@@@@@@@@@@
.}
 И  БПокупатель Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  Б^ покупателя  Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
.{ CheckEnter IsExClass
.}
.{ CheckEnter IsGroup
.}

 Ш┌────────────────────────────────┬──────┬──────────┬────────────┬───────────────┬──────────┬──────┬──────────────┬───────────────┬──────────┬────────┐ Ш
 Ш│ Наименование товара            │Еди-  │Количество│   Цена     │   Стоимость   │В том чис-│Нало- │ Сумма налога │   Стоимость   │  Страна  │ Номер  │ Ш
 Ш│(описание выполненных           │ница  │          │ (тариф) за │ товаров (ра-  │ ле акциз │говая │              │ товаров (ра-  │  проис-  │грузовой│ Ш
 Ш│ работ, оказанных               │изме- │          │ единицу из-│ бот, услуг),  │          │ставка│              │ бот, услуг),  │  хожде-  │таможен-│ Ш
 Ш│ услуг)                         │рения │          │ мерения    │  всего без    │          │      │              │ всего с уче-  │  ния     │ной дек-│ Ш
 Ш│                                │      │          │            │   налога      │          │      │              │  том налога   │          │ларации │ Ш
 Ш├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
 Ш│                1               │  2   │    3     │      4     │       5       │     6    │  7   │      8       │       9       │    10    │   11   │ Ш
 Ш├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
.begin
  TotSumAk := 0;
 end.
.{
.{ table 'vSpStep.SpStep'
.begin
!--------------------------------------
#include BDBla2vp.frn
!--------------------------------------
 Akciz := Ak/kol;
 CenaAk := cenabez + AkCiz;
 SumAk  := sbez + Ak;
 TotSumAk := TotSumAk + SumAk;
 end.
.fields
  mc
  ed kol
  cenaAk sumAk Ak
  #f_(if (IsExistNDS, string(procnds, 3, 0)+'%', ''))
  Lpad(if(IsExistNDS, DoubleToStr(Nds, '\2p[|-]366`666`666.88'), '-'), 14)
  Newsumma-NSel
!  NSel
  SrcCountry
  GTDNumber
.endfields
 Ш│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@@@@@@│&'#&&&&&&&│&'#&&&&&&.&&│&'#&&&&&&&&&.&&│&'#&&&&.&&│@~#@@@│^│&'#&&&&&&&&&.&&│@~@@@@@@@@│@~@@@@@@│ Ш
.} //table 'vSpStep.SpStep'
.}
.fields
!  TotSumAk c2
  n2
  k1-p2
.endfields
 Ш├────────────────────────────────┴──────┴──────────┴────────────┴───────────────┴──────────┴──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
 Ш│  Всего к оплате                                                                                 │&#&&&&&&&&&.&&│&#&&&&&&&&&&.&&│          │        │ Ш
 Ш└─────────────────────────────────────────────────────────────────────────────────────────────────┴──────────────┴───────────────┴──────────┴────────┘ Ш

        Ш
       Руководитель организации                                                Главный бухгалтер
       (индивидуальный предприниматель)                                        (реквизиты свидетельства о
                                                                                государственной регистрации
                                                                                индивидуального предпринимателя)

       М.П.


       Выдал                                                                     (подпись ответственного лица от продавца)
        Ш
.begin
  // Для России
  if (wGetTune('Country') = 0)
  {
    StrPrim1 := 'Первый экземпляр - покупателю, второй экземпляр - продавцу.';
    StrPrim2 := ' ';
  }
  else
  {
    StrPrim1 := '1. Без печати недействителен.';
    StrPrim2 := '2. Первый экземпляр - покупателю, второй экземпляр - продавцу.';
  }
end.
.fields
   StrPrim1
   StrPrim2
   page_symb
.endfields
        БПримечания. Б
       ^
       ^

.if Delimiter
 Р---------------------------------------------------------------------------------------------------------------------------- Р
.end
^
.}
.endform
!-------------------------------------------------------------------
#doc
Счет-фактура (c 16.02.2004г.)
#end
.linkform 'PRBDOC_110C_160204' prototype is 'PRBDOC'
.NameInList 'Счет-фактура (c 16.02.2004г.)'
.group 'Продажа'
.group 'Предоплата продаж'
.set filler '-'
!----------------------------------------
.create view vSpStep
from
 BaseDoc,
 KatOrg,
 SpStep   ,
 KatParty
where
((
        comp(PosNRec) == SpStep.nRec
and     SpStep.cParty == KatParty.nRec
));
.create view vBaseDoc
from
 BaseDoc
where
((
    comp(BaseDocNRec) == BaseDoc.nRec
));
!-------------------------------------------------------------------
.var
 SrcCountry,          // Новые графы СФ "Страна происхождения"
 GTDNumber : string;  //                "Номер ГТД"
 cRecMyOrg : comp;
 ArdOrgGruzFrom,
 ArdOrgGruzTo : string;
 boIsVhodNal     : boolean;
.endvar
!-------------------------------------------------------------------
.var
 Akciz : double
 CenaAk : double
 SumAk  : double
 totSumAk : double
.endvar
.{
.begin
boIsVhodNal     := false;
if (vBaseDoc.GetFirst fastfirstrow BaseDoc = 0)
   {
     boIsVhodNal     := (vBaseDoc.BaseDoc.VhodNal = 1);
   }

if (nRecGrOtp = nRecMy)
  ArdOrgGruzFrom := 'он же'
else
  ArdOrgGruzFrom := Grpost + if(grSFAdrPostOtp<>'',', ','') + grSFAdrPostOtp;
ArdOrgGruzTo := Grpol + if(grSFAdrPostPol<>'',', ','') + grSFAdrPostPol;
end.
.FIELDS
 nomer ddoc
 #f_(post)
 #f_(SFAdrJurMy) //adpost)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpost) +
   ' / ' +
 #f_(KODPLATNDS_post)
 #f_(ArdOrgGruzFrom)   //Grpost)
! gradpost
 #f_(ArdOrgGruzTo)  //grpol)
 BaseFinNumber BaseFinDate
! gradpol
 #f_(pol)
 #f_(SFAdrJurPol)   //adpol)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpol) +
   ' / ' +
 #f_(KODPLATNDS_pol)
.ENDFIELDS
 Ш                                                                                                                                        Приложение № 1 Ш
 Ш                                                                            к Правилам ведения журналов учета полученных и выставленных счетов-фактур, Ш
 Ш                                                                           книг покупок и книг продаж при расчетах по налогу на добавленную стоимость, Ш
 Ш                                                             утвержденным постановлением Правительства Российской Федерации от 2 декабря 2000 г. № 914 Ш
 Ш                                                                  (в ред. постановления Правительства Российской Федерации от 16 февраля 2004 г. № 84) Ш

            БСчет-фактура N Б @@@@@@@@@@@@  Бот Б @@@@@@@@@@@@@@@@@@@@@@

 И  БПродавец Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  Б^ продавца  Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БГрузоотправитель и его адрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БГрузополучатель и его адрес Б  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БК платежно-расчетному документу  Б И
.{ CheckEnter IsBaseFin
        № @@@@@@@@@@@@@@@@@@@@@ от @@@@@@@@@@@
.}
 И  БПокупатель Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  Б^ покупателя  Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
.{ CheckEnter IsExClass
.}
.{ CheckEnter IsGroup
.}
 Ш┌────────────────────────────────┬──────┬──────────┬────────────┬───────────────┬──────────┬──────┬──────────────┬───────────────┬──────────┬────────┐ Ш
 Ш│ Наименование товара            │Еди-  │Количество│   Цена     │   Стоимость   │В том чис-│Нало- │ Сумма налога │   Стоимость   │  Страна  │ Номер  │ Ш
 Ш│(описание выполненных           │ница  │          │ (тариф) за │ товаров (ра-  │ ле акциз │говая │              │ товаров (ра-  │  проис-  │грузовой│ Ш
 Ш│ работ, оказанных               │изме- │          │ единицу из-│ бот, услуг),  │          │ставка│              │ бот, услуг),  │  хожде-  │таможен-│ Ш
 Ш│ услуг)                         │рения │          │ мерения    │  всего без    │          │      │              │ всего с уче-  │  ния     │ной дек-│ Ш
 Ш│                                │      │          │            │   налога      │          │      │              │  том налога   │          │ларации │ Ш
 Ш├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
 Ш│                1               │  2   │    3     │      4     │       5       │     6    │  7   │      8       │       9       │    10    │   11   │ Ш
 Ш├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
.begin
  TotSumAk := 0;
 end.
.{
.{ table 'vSpStep.SpStep'
.begin
!--------------------------------------
#include BDBla2vp.frn
!--------------------------------------
 Akciz := Ak/kol;
 CenaAk := cenabez + AkCiz;
 SumAk  := sbez + Ak;
 TotSumAk := TotSumAk + SumAk;
 end.
.fields
  mc
  ed kol
  cenaAk sumAk Ak
  if(IsExistNDS, #s_ProcNDS(procnds, boIsVhodNal), '-')
  Lpad(if(IsExistNDS, DoubleToStr(Nds, '\2p[|-]366`666`666.88'), '-'), 14)
  Newsumma-NSel
  #f_(SrcCountry)
  #f_(GTDNumber  )
.endfields
 Ш│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@#@@@@│&'#&&&&&&&│&'#&&&&&&.&&│&'#&&&&&&&&&.&&│&'#&&&&.&&│@~#@@@│^│&'#&&&&&&&&&.&&│@~@@@@@@@@│@~@@@@@@│ Ш
.} //table 'vSpStep.SpStep'
.}
.fields
!  TotSumAk c2
  n2
  k1-p2
  Director Main_Buh
  page_symb
.endfields
 Ш├────────────────────────────────┴──────┴──────────┴────────────┴───────────────┴──────────┴──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
 Ш│  Всего к оплате                                                                                 │&#&&&&&&&&&.&&│&#&&&&&&&&&&.&&│          │        │ Ш
 Ш└─────────────────────────────────────────────────────────────────────────────────────────────────┴──────────────┴───────────────┴──────────┴────────┘ Ш

        Ш
       Руководитель организации                     @@@@@@@@@@@@@@@@@@@@@@@@@@ Главный бухгалтер                 ^
                                      (подпись)              (Ф.И.О.)                              (подпись)              (Ф.И.О.)

       Индивидуальный предприниматель
                                      (подпись)              (Ф.И.О.)          (реквизиты свидетельства о
                                                                                государственной регистрации
                                                                                индивидуального предпринимателя)
       Примечание.
       Первый экземпляр - покупателю, второй экземпляр - продавцу.
        Ш
.if Delimiter
 Р---------------------------------------------------------------------------------------------------------------------------- Р
.end
^
.}
.endform

!
!===============================================================================
!
#doc
Счет-фактура с реквизитами грузоотправителя (c 16.02.2004г.)
#end
.linkform 'PRBDOC_110C_160204_1' prototype is 'PRBDOC'
.NameInList 'Счет-фактура с реквизитами грузоотправителя (c 16.02.2004г.)'
.group 'Продажа'
.group 'Предоплата продаж'
.set filler '-'
!----------------------------------------
.create view vSpStep
from
 BaseDoc,
 KatOrg,
 SpStep   ,
 KatParty
where
((
        comp(PosNRec) == SpStep.nRec
and     SpStep.cParty == KatParty.nRec
));
.create view vBaseDoc
from
 BaseDoc
where
((
    comp(BaseDocNRec) == BaseDoc.nRec
));
!-------------------------------------------------------------------
.var
 SrcCountry,          // Новые графы СФ "Страна происхождения"
 GTDNumber : string;  //                "Номер ГТД"
 ArdOrgGruzFrom,
 ArdOrgGruzTo : string;
 boIsVhodNal     : boolean;
.endvar
!-------------------------------------------------------------------
.var
 Akciz : double
 CenaAk : double
 SumAk  : double
 totSumAk : double
.endvar
.{
.begin
  boIsVhodNal     := false;
  if (vBaseDoc.GetFirst fastfirstrow BaseDoc = 0)
    boIsVhodNal     := (vBaseDoc.BaseDoc.VhodNal = 1);

  ArdOrgGruzFrom := Grpost + if(grSFAdrPostOtp<>'',', ','') + grSFAdrPostOtp;
  ArdOrgGruzTo := Grpol + if(grSFAdrPostPol<>'',', ','') + grSFAdrPostPol;
end.
.FIELDS
 nomer ddoc
 #f_(post)
 #f_(SFAdrJurMy) //adpost)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpost) +
   ' / ' +
 #f_(KODPLATNDS_post)
 #f_(ArdOrgGruzFrom)   //Grpost)
! gradpost
 #f_(ArdOrgGruzTo)  //grpol)
 BaseFinNumber BaseFinDate
! gradpol
 #f_(pol)
 #f_(SFAdrJurPol)   //adpol)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpol) +
   ' / ' +
 #f_(KODPLATNDS_pol)
.ENDFIELDS
 Ш                                                                                                                                        Приложение № 1 Ш
 Ш                                                                            к Правилам ведения журналов учета полученных и выставленных счетов-фактур, Ш
 Ш                                                                           книг покупок и книг продаж при расчетах по налогу на добавленную стоимость, Ш
 Ш                                                             утвержденным постановлением Правительства Российской Федерации от 2 декабря 2000 г. № 914 Ш
 Ш                                                                  (в ред. постановления Правительства Российской Федерации от 16 февраля 2004 г. № 84) Ш

            БСчет-фактура N Б @@@@@@@@@@@@  Бот Б @@@@@@@@@@@@@@@@@@@@@@

 И  БПродавец Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  Б^ продавца  Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БГрузоотправитель и его адрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БГрузополучатель и его адрес Б  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БК платежно-расчетному документу  Б И
.{ CheckEnter IsBaseFin
        № @@@@@@@@@@@@@@@@@@@@@ от @@@@@@@@@@@
.}
 И  БПокупатель Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  Б^ покупателя  Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
.{ CheckEnter IsExClass
.}
.{ CheckEnter IsGroup
.}
 Ш┌────────────────────────────────┬──────┬──────────┬────────────┬───────────────┬──────────┬──────┬──────────────┬───────────────┬──────────┬────────┐ Ш
 Ш│ Наименование товара            │Еди-  │Количество│   Цена     │   Стоимость   │В том чис-│Нало- │ Сумма налога │   Стоимость   │  Страна  │ Номер  │ Ш
 Ш│(описание выполненных           │ница  │          │ (тариф) за │ товаров (ра-  │ ле акциз │говая │              │ товаров (ра-  │  проис-  │грузовой│ Ш
 Ш│ работ, оказанных               │изме- │          │ единицу из-│ бот, услуг),  │          │ставка│              │ бот, услуг),  │  хожде-  │таможен-│ Ш
 Ш│ услуг)                         │рения │          │ мерения    │  всего без    │          │      │              │ всего с уче-  │  ния     │ной дек-│ Ш
 Ш│                                │      │          │            │   налога      │          │      │              │  том налога   │          │ларации │ Ш
 Ш├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
 Ш│                1               │  2   │    3     │      4     │       5       │     6    │  7   │      8       │       9       │    10    │   11   │ Ш
 Ш├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
.begin
  TotSumAk := 0;
 end.
.{
.{ table 'vSpStep.SpStep'
.begin
!--------------------------------------
#include BDBla2vp.frn
!--------------------------------------
 Akciz := Ak/kol;
 CenaAk := cenabez + AkCiz;
 SumAk  := sbez + Ak;
 TotSumAk := TotSumAk + SumAk;
 end.
.fields
  mc
  ed kol
  cenaAk sumAk Ak
  if(IsExistNDS, #s_ProcNDS(procnds, boIsVhodNal), '-')
  Lpad(if(IsExistNDS, DoubleToStr(Nds, '\2p[|-]366`666`666.88'), '-'), 14)
  Newsumma-NSel
  #f_(SrcCountry)
  #f_(GTDNumber  )
.endfields
 Ш│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@#@@@@│&'#&&&&&&&│&'#&&&&&&.&&│&'#&&&&&&&&&.&&│&'#&&&&.&&│@~#@@@│^│&'#&&&&&&&&&.&&│@~@@@@@@@@│@~@@@@@@│ Ш
.} //table 'vSpStep.SpStep'
.}
.fields
!  TotSumAk c2
  n2
  k1-p2
  Director Main_Buh
  page_symb
.endfields
 Ш├────────────────────────────────┴──────┴──────────┴────────────┴───────────────┴──────────┴──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
 Ш│  Всего к оплате                                                                                 │&#&&&&&&&&&.&&│&#&&&&&&&&&&.&&│          │        │ Ш
 Ш└─────────────────────────────────────────────────────────────────────────────────────────────────┴──────────────┴───────────────┴──────────┴────────┘ Ш

        Ш
       Руководитель организации                     @@@@@@@@@@@@@@@@@@@@@@@@@@ Главный бухгалтер                 ^
                                      (подпись)              (Ф.И.О.)                              (подпись)              (Ф.И.О.)

       Индивидуальный предприниматель
                                      (подпись)              (Ф.И.О.)          (реквизиты свидетельства о
                                                                                государственной регистрации
                                                                                индивидуального предпринимателя)
       Примечание.
       Первый экземпляр - покупателю, второй экземпляр - продавцу.
        Ш
.if Delimiter
 Р---------------------------------------------------------------------------------------------------------------------------- Р
.end
^
.}
.endform
!
!===============================================================================
!
#doc
Счет-фактура рублевый для вал.-руб. документов (c 16.02.2004г.)
#end
.linkform 'PRBDOC_110C_160204_2' prototype is 'PRBDOC'
.NameInList 'Счет-фактура рублевый для вал.-руб. документов (c 16.02.2004г.)'
.group 'Продажа'
.group 'Предоплата продаж'
.set filler '-'
!----------------------------------------
.create view vSpStep
from
 BaseDoc,
 KatOrg,
 SpStep   ,
 KatParty
where
((
        comp(PosNRec) == SpStep.nRec
and     SpStep.cParty == KatParty.nRec
));
.create view vBaseDoc
from
 BaseDoc
where
((
   comp(BaseDocNRec) == BaseDoc.nRec
));
!-------------------------------------------------------------------
.var
 SrcCountry,          // Новые графы СФ "Страна происхождения"
 GTDNumber : string;  //                "Номер ГТД"
 cRecMyOrg : comp;
 ArdOrgGruzFrom,
 ArdOrgGruzTo : string;
 boIsVhodNal     : boolean;
.endvar
!-------------------------------------------------------------------
.var
 AkcizR : double
 CenaAkR : double
 SumAkR  : double
 totSumAkR : double
.endvar
.{
.begin
  boIsVhodNal     :=false;
  if (vBaseDoc.GetFirst fastfirstrow BaseDoc = 0)
    boIsVhodNal     := (vBaseDoc.BaseDoc.VhodNal = 1);

  if (nRecGrOtp = nRecMy)
    ArdOrgGruzFrom := 'он же'
  else
    ArdOrgGruzFrom := Grpost + if(grSFAdrPostOtp<>'',', ','') + grSFAdrPostOtp;
  ArdOrgGruzTo := Grpol + if(grSFAdrPostPol<>'',', ','') + grSFAdrPostPol;
end.
.FIELDS
 nomer ddoc
 #f_(post)
 #f_(SFAdrJurMy) //adpost)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpost) +
   ' / ' +
 #f_(KODPLATNDS_post)
 #f_(ArdOrgGruzFrom)   //Grpost)
! gradpost
 #f_(ArdOrgGruzTo)  //grpol)
 BaseFinNumber BaseFinDate
! gradpol
 #f_(pol)
 #f_(SFAdrJurPol)   //adpol)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpol) +
   ' / ' +
 #f_(KODPLATNDS_pol)
.ENDFIELDS
 Ш                                                                                                                                        Приложение № 1 Ш
 Ш                                                                            к Правилам ведения журналов учета полученных и выставленных счетов-фактур, Ш
 Ш                                                                           книг покупок и книг продаж при расчетах по налогу на добавленную стоимость, Ш
 Ш                                                             утвержденным постановлением Правительства Российской Федерации от 2 декабря 2000 г. № 914 Ш
 Ш                                                                  (в ред. постановления Правительства Российской Федерации от 16 февраля 2004 г. № 84) Ш

            БСчет-фактура N Б @@@@@@@@@@@@  Бот Б @@@@@@@@@@@@@@@@@@@@@@

 И  БПродавец Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  Б^ продавца  Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БГрузоотправитель и его адрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БГрузополучатель и его адрес Б  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БК платежно-расчетному документу  Б И
.{ CheckEnter IsBaseFin
        № @@@@@@@@@@@@@@@@@@@@@ от @@@@@@@@@@@
.}
 И  БПокупатель Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  Б^ покупателя  Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
.{ CheckEnter IsExClass
.}
.{ CheckEnter IsGroup
.}
 Ш┌────────────────────────────────┬──────┬──────────┬────────────┬───────────────┬──────────┬──────┬──────────────┬───────────────┬──────────┬────────┐ Ш
 Ш│ Наименование товара            │Еди-  │Количество│   Цена     │   Стоимость   │В том чис-│Нало- │ Сумма налога │   Стоимость   │  Страна  │ Номер  │ Ш
 Ш│(описание выполненных           │ница  │          │ (тариф) за │ товаров (ра-  │ ле акциз │говая │              │ товаров (ра-  │  проис-  │грузовой│ Ш
 Ш│ работ, оказанных               │изме- │          │ единицу из-│ бот, услуг),  │          │ставка│              │ бот, услуг),  │  хожде-  │таможен-│ Ш
 Ш│ услуг)                         │рения │          │ мерения    │  всего без    │          │      │              │ всего с уче-  │  ния     │ной дек-│ Ш
 Ш│                                │      │          │            │   налога      │          │      │              │  том налога   │          │ларации │ Ш
 Ш├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
 Ш│                1               │  2   │    3     │      4     │       5       │     6    │  7   │      8       │       9       │    10    │   11   │ Ш
 Ш├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
.begin
  TotSumAkR := 0;
 end.
.{
.{ table 'vSpStep.SpStep'
.begin
!--------------------------------------
#include BDBla2vp.frn
!--------------------------------------
 AkcizR := AkR/kol;
 CenaAkR := cenabezR + AkCizR;
 SumAkR  := sbezR + AkR;
 TotSumAkR := TotSumAkR + SumAkR;
 end.
.fields
  mc
  #f_(ed)
  kol
  cenaAkR sumAkR AkR
  if (IsExistNDS, #s_ProcNDS(procnds, boIsVhodNal), '-')
  Lpad(if(IsExistNDS, DoubleToStr(NdsR, '\2p[|-]366`666`666.88'), '-'), 14)
  NewsummaR-NSelR
  #f_(SrcCountry)
  #f_(GTDNumber)
.endfields
 Ш│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@~@@@@│&'#&&&&&&&│&'#&&&&&&.&&│&'#&&&&&&&&&.&&│&'#&&&&.&&│@~#@@@│^│&'#&&&&&&&&&.&&│@~@@@@@@@@│@~@@@@@@│ Ш
.} //table 'vSpStep.SpStep'
.}
.fields
!  TotSumAk c2
  n2r
  k1r-p2r
  Director Main_Buh
  page_symb
.endfields
 Ш├────────────────────────────────┴──────┴──────────┴────────────┴───────────────┴──────────┴──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
 Ш│  Всего к оплате                                                                                 │&#&&&&&&&&&.&&│&#&&&&&&&&&&.&&│          │        │ Ш
 Ш└─────────────────────────────────────────────────────────────────────────────────────────────────┴──────────────┴───────────────┴──────────┴────────┘ Ш

        Ш
       Руководитель организации                     @@@@@@@@@@@@@@@@@@@@@@@@@@ Главный бухгалтер                 ^
                                      (подпись)              (Ф.И.О.)                              (подпись)              (Ф.И.О.)

       Индивидуальный предприниматель
                                      (подпись)              (Ф.И.О.)          (реквизиты свидетельства о
                                                                                государственной регистрации
                                                                                индивидуального предпринимателя)
       Примечание.
       Первый экземпляр - покупателю, второй экземпляр - продавцу.
        Ш
.if Delimiter
 Р---------------------------------------------------------------------------------------------------------------------------- Р
.end
^
.}
.endform

!
!===============================================================================
!
#doc
Счет-фактура рублевый для вал.-руб. документов с реквизитами грузоотправителя (c 16.02.2004г.)
#end
.linkform 'PRBDOC_110C_160204_3' prototype is 'PRBDOC'
.NameInList 'Счет-фактура рублевый для вал.-руб. документов с реквизитами грузоотправителя (c 16.02.2004г.)'
.group 'Продажа'
.group 'Предоплата продаж'
.set filler '-'
!----------------------------------------
.create view vSpStep
from
 BaseDoc,
 KatOrg,
 SpStep   ,
 KatParty
where
((
        comp(PosNRec) == SpStep.nRec
and     SpStep.cParty == KatParty.nRec
));
.create view vBaseDoc
from
 BaseDoc
where
((
   comp(BaseDocNRec) == BaseDoc.nRec
));
!-------------------------------------------------------------------
.var
 SrcCountry,          // Новые графы СФ "Страна происхождения"
 GTDNumber : string;  //                "Номер ГТД"
 ArdOrgGruzFrom,
 ArdOrgGruzTo    : string;
 boIsVhodNal     : boolean;
.endvar
!-------------------------------------------------------------------
.var
 AkcizR : double
 CenaAkR : double
 SumAkR  : double
 totSumAkR : double
.endvar
.{
.begin
 boIsVhodNal     :=false;
 if (vBaseDoc.GetFirst fastfirstrow BaseDoc = 0)
   boIsVhodNal     := (vBaseDoc.BaseDoc.VhodNal = 1);

 ArdOrgGruzFrom := Grpost + if(grSFAdrPostOtp<>'',', ','') + grSFAdrPostOtp;
 ArdOrgGruzTo := Grpol + if(grSFAdrPostPol<>'',', ','') + grSFAdrPostPol;
end.
.FIELDS
 nomer ddoc
 #f_(post)
 #f_(SFAdrJurMy) //adpost)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpost) +
   ' / ' +
 #f_(KODPLATNDS_post)
 #f_(ArdOrgGruzFrom)   //Grpost)
! gradpost
 #f_(ArdOrgGruzTo)  //grpol)
 BaseFinNumber BaseFinDate
! gradpol
 #f_(pol)
 #f_(SFAdrJurPol)   //adpol)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpol) +
   ' / ' +
 #f_(KODPLATNDS_pol)
.ENDFIELDS
 Ш                                                                                                                                        Приложение № 1 Ш
 Ш                                                                            к Правилам ведения журналов учета полученных и выставленных счетов-фактур, Ш
 Ш                                                                           книг покупок и книг продаж при расчетах по налогу на добавленную стоимость, Ш
 Ш                                                             утвержденным постановлением Правительства Российской Федерации от 2 декабря 2000 г. № 914 Ш
 Ш                                                                  (в ред. постановления Правительства Российской Федерации от 16 февраля 2004 г. № 84) Ш

            БСчет-фактура N Б @@@@@@@@@@@@  Бот Б @@@@@@@@@@@@@@@@@@@@@@

 И  БПродавец Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  Б^ продавца  Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БГрузоотправитель и его адрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БГрузополучатель и его адрес Б  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БК платежно-расчетному документу  Б И
.{ CheckEnter IsBaseFin
        № @@@@@@@@@@@@@@@@@@@@@ от @@@@@@@@@@@
.}
 И  БПокупатель Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  Б^ покупателя  Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
.{ CheckEnter IsExClass
.}
.{ CheckEnter IsGroup
.}
 Ш┌────────────────────────────────┬──────┬──────────┬────────────┬───────────────┬──────────┬──────┬──────────────┬───────────────┬──────────┬────────┐ Ш
 Ш│ Наименование товара            │Еди-  │Количество│   Цена     │   Стоимость   │В том чис-│Нало- │ Сумма налога │   Стоимость   │  Страна  │ Номер  │ Ш
 Ш│(описание выполненных           │ница  │          │ (тариф) за │ товаров (ра-  │ ле акциз │говая │              │ товаров (ра-  │  проис-  │грузовой│ Ш
 Ш│ работ, оказанных               │изме- │          │ единицу из-│ бот, услуг),  │          │ставка│              │ бот, услуг),  │  хожде-  │таможен-│ Ш
 Ш│ услуг)                         │рения │          │ мерения    │  всего без    │          │      │              │ всего с уче-  │  ния     │ной дек-│ Ш
 Ш│                                │      │          │            │   налога      │          │      │              │  том налога   │          │ларации │ Ш
 Ш├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
 Ш│                1               │  2   │    3     │      4     │       5       │     6    │  7   │      8       │       9       │    10    │   11   │ Ш
 Ш├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
.begin
  TotSumAkR := 0;
 end.
.{
.{ table 'vSpStep.SpStep'
.begin
!--------------------------------------
#include BDBla2vp.frn
!--------------------------------------
 AkcizR := AkR/kol;
 CenaAkR := cenabezR + AkCizR;
 SumAkR  := sbezR + AkR;
 TotSumAkR := TotSumAkR + SumAkR;
 end.
.fields
  mc
  #f_(ed)
  kol
  cenaAkR sumAkR AkR
  if (IsExistNDS, #s_ProcNDS(procnds, boIsVhodNal), '-')
  Lpad(if(IsExistNDS, DoubleToStr(NdsR, '\2p[|-]366`666`666.88'), '-'), 14)
  NewsummaR-NSelR
  #f_(SrcCountry)
  #f_(GTDNumber)
.endfields
 Ш│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@~@@@@│&'#&&&&&&&│&'#&&&&&&.&&│&'#&&&&&&&&&.&&│&'#&&&&.&&│@~#@@@│^│&'#&&&&&&&&&.&&│@~@@@@@@@@│@~@@@@@@│ Ш
.} //table 'vSpStep.SpStep'
.}
.fields
!  TotSumAk c2
  n2r
  k1r-p2r
  Director Main_Buh
  page_symb
.endfields
 Ш├────────────────────────────────┴──────┴──────────┴────────────┴───────────────┴──────────┴──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
 Ш│  Всего к оплате                                                                                 │&#&&&&&&&&&.&&│&#&&&&&&&&&&.&&│          │        │ Ш
 Ш└─────────────────────────────────────────────────────────────────────────────────────────────────┴──────────────┴───────────────┴──────────┴────────┘ Ш

        Ш
       Руководитель организации                     @@@@@@@@@@@@@@@@@@@@@@@@@@ Главный бухгалтер                 ^
                                      (подпись)              (Ф.И.О.)                              (подпись)              (Ф.И.О.)

       Индивидуальный предприниматель
                                      (подпись)              (Ф.И.О.)          (реквизиты свидетельства о
                                                                                государственной регистрации
                                                                                индивидуального предпринимателя)
       Примечание.
       Первый экземпляр - покупателю, второй экземпляр - продавцу.
        Ш
.if Delimiter
 Р---------------------------------------------------------------------------------------------------------------------------- Р
.end
^
.}
.endform
!
!===============================================================================
!
#doc
Счет-фактура (c 16.02.2004г.)
#end
.linkform 'PRBDOC_206C_160204' prototype is 'PRBDOC'
.NameInList 'Счет-фактура (c 16.02.2004г.)'
.group 'Закупка'
.group 'Предоплата закупок'
.set filler '-'
!----------------------------------------
.create view vSpStep
from
 BaseDoc,
 KatOrg,
 SpStep   ,
 KatParty
where
((
        comp(PosNRec) == SpStep.nRec
and     SpStep.cParty == KatParty.nRec
));
.create view vBaseDoc
from
 BaseDoc
where
((
   comp(BaseDocNRec) == BaseDoc.nRec
));
!-------------------------------------------------------------------
.var
 SrcCountry,          // Новые графы СФ "Страна происхождения"
 GTDNumber : string;  //                "Номер ГТД"
 ArdOrgGruzTo,
 ArdOrgGruzFrom : string;
 boIsVhodNal     : boolean;
.endvar
!-------------------------------------------------------------------
.var
 Akciz : double
 CenaAk : double
 SumAk  : double
 totSumAk : double
.endvar
.{
.begin
  boIsVhodNal     := false;
  if (vBaseDoc.GetFirst fastfirstrow BaseDoc = 0)
    boIsVhodNal     := (vBaseDoc.BaseDoc.VhodNal = 1);

  if (vBaseDoc.BaseDoc.cOrg = vBaseDoc.BaseDoc.cGrOtpr)
    ArdOrgGruzFrom := 'он же'
  else
    ArdOrgGruzFrom := Grpost + if(grSFAdrPostOtp<>'',', ','') + grSFAdrPostOtp;
  ArdOrgGruzTo := Grpol + if(grSFAdrPostPol<>'',', ','') + grSFAdrPostPol;
end.
.FIELDS
 nomer ddoc
 #f_(pol)
 #f_(SFAdrJurPol) //adpol)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpol) +
   ' / ' +
 #f_(KODPLATNDS_pol)
 #f_(ArdOrgGruzFrom) //Grpost)
! gradpost
 #f_(ArdOrgGruzTo)   //grpol)
 BaseFinNumber BaseFinDate
! gradpol
 #f_(post)
 #f_(SFAdrJurMy) //adpost)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpost) +
   ' / ' +
 #f_(KODPLATNDS_post)
.ENDFIELDS
 Ш                                                                                                                                        Приложение № 1 Ш
 Ш                                                                            к Правилам ведения журналов учета полученных и выставленных счетов-фактур, Ш
 Ш                                                                           книг покупок и книг продаж при расчетах по налогу на добавленную стоимость, Ш
 Ш                                                             утвержденным постановлением Правительства Российской Федерации от 2 декабря 2000 г. № 914 Ш
 Ш                                                                  (в ред. постановления Правительства Российской Федерации от 16 февраля 2004 г. № 84) Ш

            БСчет-фактура N Б @@@@@@@@@@@@  Бот Б @@@@@@@@@@@@@@@@@@@@@@

 И  БПродавец Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  Б^ продавца  Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БГрузоотправитель и его адрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БГрузополучатель и его адрес Б  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БК платежно-расчетному документу  Б И
.{ CheckEnter IsBaseFin
        № @@@@@@@@@@@@@@@@@@@@@ от @@@@@@@@@@@
.}
 И  БПокупатель Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
 И  Б^ покупателя  Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
.{ CheckEnter IsExClass
.}
.{ CheckEnter IsGroup
.}

 Ш┌────────────────────────────────┬──────┬──────────┬────────────┬───────────────┬──────────┬──────┬──────────────┬───────────────┬──────────┬────────┐ Ш
 Ш│ Наименование товара            │Еди-  │Количество│   Цена     │   Стоимость   │В том чис-│Нало- │ Сумма налога │   Стоимость   │  Страна  │ Номер  │ Ш
 Ш│(описание выполненных           │ница  │          │ (тариф) за │ товаров (ра-  │ ле акциз │говая │              │ товаров (ра-  │  проис-  │грузовой│ Ш
 Ш│ работ, оказанных               │изме- │          │ единицу из-│ бот, услуг),  │          │ставка│              │ бот, услуг),  │  хожде-  │таможен-│ Ш
 Ш│ услуг)                         │рения │          │ мерения    │  всего без    │          │      │              │ всего с уче-  │  ния     │ной дек-│ Ш
 Ш│                                │      │          │            │   налога      │          │      │              │  том налога   │          │ларации │ Ш
 Ш├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
 Ш│                1               │  2   │    3     │      4     │       5       │     6    │  7   │      8       │       9       │    10    │   11   │ Ш
 Ш├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
.begin
  TotSumAk := 0;
 end.
.{
.{ table 'vSpStep.SpStep'
.begin
!--------------------------------------
#include BDBla2vp.frn
!--------------------------------------
 Akciz := Ak/kol;
 CenaAk := cenabez + AkCiz;
 SumAk  := sbez + Ak;
 TotSumAk := TotSumAk + SumAk;
 end.
.fields
  mc
  ed kol
  cenaAk sumAk Ak
  if (IsExistNDS, #s_ProcNDS(procnds, boIsVhodNal), '')
  Lpad(if(IsExistNDS, DoubleToStr(Nds, '\2p[|-]366`666`666.88'), '-'), 14)
  Newsumma-NSel
!  NSel
  SrcCountry
  GTDNumber
.endfields
 Ш│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@~#@@@│&'#&&&&&&&│&'#&&&&&&.&&│&'#&&&&&&&&&.&&│&'#&&&&.&&│@~#@@@│^│&'#&&&&&&&&&.&&│@~@@@@@@@@│@~@@@@@@│ Ш
.} //table 'vSpStep.SpStep'
.}
.fields
!  TotSumAk c2
  n2
  k1-p2
  page_symb
.endfields
 Ш├────────────────────────────────┴──────┴──────────┴────────────┴───────────────┴──────────┴──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
 Ш│  Всего к оплате                                                                                 │&#&&&&&&&&&.&&│&#&&&&&&&&&&.&&│          │        │ Ш
 Ш└─────────────────────────────────────────────────────────────────────────────────────────────────┴──────────────┴───────────────┴──────────┴────────┘ Ш

        Ш
       Руководитель организации                                                Главный бухгалтер
                                      (подпись)              (Ф.И.О.)                              (подпись)              (Ф.И.О.)

       Индивидуальный предприниматель
                                      (подпись)              (Ф.И.О.)          (реквизиты свидетельства о
                                                                                государственной регистрации
                                                                                индивидуального предпринимателя)
       Примечание.
       Первый экземпляр - покупателю, второй экземпляр - продавцу.
        Ш
.if Delimiter
 Р---------------------------------------------------------------------------------------------------------------------------- Р
.end
^
.}
.endform
!===============================================================================
!
!-----------------------------------------------------
!     новые бланки СФ (с 11.05.2006)
!-----------------------------------------------------
#doc
Счет-фактура (c 11.05.2006г.)
#end
.linkform 'PRBDOC_110C_110506' prototype is 'PRBDOC'
.NameInList 'Счет-фактура (c 11.05.2006г.)'
.group 'Продажа'
.group 'Предоплата продаж'
.set filler '-'
!----------------------------------------
.create view vSpStep
from
 BaseDoc,
 KatOrg,
 SpStep   ,
 KatParty
where
((
        comp(PosNRec) == SpStep.nRec
and     SpStep.cParty == KatParty.nRec
));
.create view vBaseDoc
from
  BaseDoc
where
((
    comp(BaseDocNRec) == BaseDoc.nRec
));
!-------------------------------------------------------------------
.var
 SrcCountry,          // Новые графы СФ "Страна происхождения"
 GTDNumber : string;  //                "Номер ГТД"
 MyKPP, OrgKPP, MyINN, OrgINN : String;
 cRecMyOrg : comp;
 ArdOrgGruzFrom,
 ArdOrgGruzTo    : string;
 boIsVhodNal     : boolean;
.endvar
!-------------------------------------------------------------------
.var
 Akciz : double
 CenaAk : double
 SumAk  : double
 totSumAk : double
.endvar
.{
.begin
  boIsVhodNal     := false;
  if (vBaseDoc.GetFirst fastfirstrow BaseDoc = 0)
    boIsVhodNal     := (vBaseDoc.BaseDoc.VhodNal = 1);
  if (nRecGrOtp = nRecMy)
    ArdOrgGruzFrom := 'он же'
  else
    ArdOrgGruzFrom := Grpost + if(grSFAdrPostOtp<>'',', ','') + grSFAdrPostOtp;
  ArdOrgGruzTo := Grpol + if(grSFAdrPostPol<>'',', ','') + grSFAdrPostPol;
end.
.FIELDS
 nomer ddoc
 #f_(post)
 #f_(SFAdrJurMy) //adpost)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpost) +
   ' / ' +
 #f_(KODPLATNDS_post)
 #f_(ArdOrgGruzFrom)   //Grpost)
! gradpost
 #f_(ArdOrgGruzTo)  //grpol)
 BaseFinNumber BaseFinDate
! gradpol
 #f_(pol)
 #f_(SFAdrJurPol)   //adpol)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpol) +
   ' / ' +
 #f_(KODPLATNDS_pol)
.ENDFIELDS
 Ш                                                                                                                                        Приложение № 1
                                                                                                                     к Правилам ведения журналов учета
                                                                                                              полученных и выставленных счетов-фактур,
                                                                                                               книг покупок и книг продаж при расчетах
                                                                                                                   по налогу на добавленную стоимость,
                                                                                                          утвержденным постановлением Правительства РФ
                                                                                                                                от 02.12.2000 г. № 914

                                                                                                                (в ред. Постановлений Правительства РФ
                                                                                                             от 15.03.2001 № 189, от 27.07.2002 № 575,
                                                                                                              от 16.02.2004 № 84, от 11.05.2006 № 283) Ш

            БСчет-фактура N Б @@@@@@@@@@@@  Бот Б @@@@@@@@@@@@@@@@@@@@@@

 И  БПродавец Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  Б^ продавца Б  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БГрузоотправитель и его адрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БГрузополучатель и его адрес Б  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БК платежно-расчетному документу Й
.{ CheckEnter IsBaseFin
 И        № @@@@@@@@@@@@@@@@@@@@@ от @@@@@@@@@@@ И
.}
 И  БПокупатель Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  Б^ покупателя Б  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
.{ CheckEnter IsExClass
.}
.{ CheckEnter IsGroup
.}

 Р┌────────────────────────────────┬──────┬──────────┬────────────┬───────────────┬──────────┬──────┬──────────────┬───────────────┬──────────┬────────┐
│ Наименование товара            │Еди-  │Количество│   Цена     │   Стоимость   │В том чис-│Нало- │ Сумма налога │   Стоимость   │  Страна  │ Номер  │
│(описание выполненных           │ница  │          │ (тариф) за │ товаров (ра-  │ ле акциз │говая │              │ товаров (ра-  │  проис-  │таможен-│
│ работ, оказанных               │изме- │          │ единицу из-│ бот, услуг),  │          │ставка│              │ бот, услуг),  │  хожде-  │ной дек-│
│ услуг), имущественного права   │рения │          │ мерения    │ имущественных │          │      │              │ имущественных │  ния     │ларации │
│                                │      │          │            │  прав, всего  │          │      │              │ прав, всего с │          │        │
│                                │      │          │            │  без  налога  │          │      │              │ учетом налога │          │        │
├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤
│                1               │  2   │    3     │      4     │       5       │     6    │  7   │      8       │       9       │    10    │   11   │
├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Р
.begin
  TotSumAk := 0;
 end.
.{
.{ table 'vSpStep.SpStep'
.begin
!--------------------------------------
#include BDBla2vp.frn
!--------------------------------------
 Akciz := Ak/kol;
 CenaAk := cenabez + AkCiz;
 SumAk  := sbez + Ak;
 TotSumAk := TotSumAk + SumAk;
 end.
.fields
  mc
  ed kol
  cenaAk sumAk Ak
  if(IsExistNDS, #s_ProcNDS(procnds, boIsVhodNal), '-')
  Lpad(if(IsExistNDS, DoubleToStr(Nds, '\2p[|-]366`666`666.88'), '-'), 14)
  Newsumma-NSel
  #f_(SrcCountry)
  #f_(GTDNumber  )
.endfields
 Р│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@#@@@@│&'#&&&&&&&│&'#&&&&&&.&&│&'#&&&&&&&&&.&&│&'#&&&&.&&│@~#@@@│^│&'#&&&&&&&&&.&&│@~@@@@@@@@│@~@@@@@@│ Р
.} //table 'vSpStep.SpStep'
.}
.fields
!  TotSumAk c2
  n2
  k1-p2
  Director Main_Buh
  page_symb
 И.endfields Ш
├────────────────────────────────┴──────┴──────────┴────────────┴───────────────┴──────────┴──────┼──────────────┼───────────────┼──────────┼────────┤
│  Всего к оплате                                                                                 │&#&&&&&&&&&.&&│&#&&&&&&&&&&.&&│          │        │
└─────────────────────────────────────────────────────────────────────────────────────────────────┴──────────────┴───────────────┴──────────┴────────┘ И


 Руководитель организации      ___________     Д@@@@@@@@@@@@@@@@@@@@@@@@@@ Д Главный бухгалтер  ___________     Д^ Д
                                (подпись)              (Ф.И.О.)                              (подпись)              (Ф.И.О.)

       Индивидуальный предприниматель___________    __________________________ _________________________________
                                (подпись)              (Ф.И.О.)          (реквизиты свидетельства о
                                                                          государственной регистрации
                                                                          индивидуального предпринимателя)
  Примечание.
  Первый экземпляр - покупателю, второй экземпляр - продавцу. Ш

.if Delimiter
----------------------------------------------------------------------------------------------------------------------------
.end
^
.}
.endform
!
!-----------------------------------------------------
!
#doc
Счет-фактура (c 11.05.2006г., с дополнением)
#end
.linkform 'PRBDOC_110C_110506_DOP' prototype is 'PRBDOC'
.NameInList 'Счет-фактура (c 11.05.2006г., с дополнением)'
.group 'Продажа'
.group 'Предоплата продаж'
.set filler '-'
!----------------------------------------
.create view vSpStep
from
 BaseDoc,
 KatOrg,
 SpStep   ,
 KatParty
where
((
        comp(PosNRec) == SpStep.nRec
and     SpStep.cParty == KatParty.nRec
));
.create view vBaseDoc
from
 BaseDoc
where
((
    comp(BaseDocNRec) == BaseDoc.nRec
));
!-------------------------------------------------------------------
.var
 SrcCountry,          // Новые графы СФ "Страна происхождения"
 GTDNumber : string;  //                "Номер ГТД"
 cRecMyOrg : comp;
 ArdOrgGruzFrom,
 ArdOrgGruzTo    : string;
 boIsVhodNal     : boolean;
.endvar
!-------------------------------------------------------------------
.var
 Akciz : double
 CenaAk : double
 SumAk  : double
 totSumAk : double
.endvar
.{
.begin
  boIsVhodNal     := false;
  if (vBaseDoc.GetFirst fastfirstrow BaseDoc = 0)
    boIsVhodNal     := (vBaseDoc.BaseDoc.VhodNal = 1);
  if (nRecGrOtp = nRecMy)
    ArdOrgGruzFrom := 'он же'
  else
    ArdOrgGruzFrom := Grpost + if(grSFAdrPostOtp<>'',', ','') + grSFAdrPostOtp;
  ArdOrgGruzTo := Grpol + if(grSFAdrPostPol<>'',', ','') + grSFAdrPostPol;
end.
.FIELDS
 nomer ddoc
 #f_(post)
 #f_(SFAdrJurMy) //adpost)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpost) +
   ' / ' +
 #f_(KODPLATNDS_post)
 #f_(ArdOrgGruzFrom)   //Grpost)
! gradpost
 #f_(ArdOrgGruzTo)  //grpol)
 BaseFinNumber BaseFinDate
! gradpol
 #f_(pol)
 #f_(SFAdrJurPol)   //adpol)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpol) +
   ' / ' +
 #f_(KODPLATNDS_pol)
 pname
.ENDFIELDS
 Ш                                                                                                                Приложение № 1
                                                                                             к Правилам ведения журналов учета
                                                                                       полученных и выставленных счетов-фактур,
                                                                                       книг покупок и книг продаж при расчетах
                                                                                            по налогу на добавленную стоимость,
                                                                                  утвержденным постановлением Правительства РФ
                                                                                                        от 02.12.2000 г. № 914

                                                                                        (в ред. Постановлений Правительства РФ
                                                                                      от 15.03.2001 № 189, от 27.07.2002 № 575,
                                                                                       от 16.02.2004 № 84, от 11.05.2006 № 283) Ш

            БСчет-фактура N Б @@@@@@@@@@@@  Бот Б @@@@@@@@@@@@@@@@@@@@@@

 И  ЙПродавец @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Адрес @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 ^ продавца  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Грузоотправитель и его адрес @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Грузополучатель и его адрес  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 К платежно-расчетному документу
.{ CheckEnter IsBaseFin
        № @@@@@@@@@@@@@@@@@@@@@ от @@@@@@@@@@@
.}
 Покупатель @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Адрес @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 ^ покупателя  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Дополнение (условия оплаты по договору (контракту), способ отправления и т.п.)
 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Б
.{ CheckEnter IsExClass
.}
.{ CheckEnter IsGroup
.}
 Р┌────────────────────────────────┬──────┬──────────┬────────────┬───────────────┬──────────┬──────┬──────────────┬───────────────┬──────────┬────────┐
│ Наименование товара            │Еди-  │Количество│   Цена     │   Стоимость   │В том чис-│Нало- │ Сумма налога │   Стоимость   │  Страна  │ Номер  │
│(описание выполненных           │ница  │          │ (тариф) за │ товаров (ра-  │ ле акциз │говая │              │ товаров (ра-  │  проис-  │таможен-│
│ работ, оказанных               │изме- │          │ единицу из-│ бот, услуг),  │          │ставка│              │ бот, услуг),  │  хожде-  │ной дек-│
│ услуг), имущественного права   │рения │          │ мерения    │ имущественных │          │      │              │ имущественных │  ния     │ларации │
│                                │      │          │            │  прав, всего  │          │      │              │ прав, всего с │          │        │
│                                │      │          │            │  без  налога  │          │      │              │ учетом налога │          │        │
├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤
│                1               │  2   │    3     │      4     │       5       │     6    │  7   │      8       │       9       │    10    │   11   │
├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Р
.begin
  TotSumAk := 0;
 end.
.{
.{ table 'vSpStep.SpStep'
.begin
!--------------------------------------
#include BDBla2vp.frn
!--------------------------------------
 Akciz := Ak/kol;
 CenaAk := cenabez + AkCiz;
 SumAk  := sbez + Ak;
 TotSumAk := TotSumAk + SumAk;
 end.
.fields
  mc
  ed kol
  cenaAk sumAk Ak
  if(IsExistNDS, #s_ProcNDS(procnds, boIsVhodNal), '-')
  Lpad(if(IsExistNDS, DoubleToStr(Nds, '\2p[|-]366`666`666.88'), '-'), 14)
  Newsumma-NSel
  #f_(SrcCountry)
  #f_(GTDNumber  )
.endfields
 Р│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@#@@@@│&'#&&&&&&&│&'#&&&&&&.&&│&'#&&&&&&&&&.&&│&'#&&&&.&&│@~#@@@│^│&'#&&&&&&&&&.&&│@~@@@@@@@@│@~@@@@@@│ Р
.} //table 'vSpStep.SpStep'
.}
.fields
!  TotSumAk c2
  n2
  k1-p2
  Director Main_Buh
  page_symb
.endfields
 Р├────────────────────────────────┴──────┴──────────┴────────────┴───────────────┴──────────┴──────┼──────────────┼───────────────┼──────────┼────────┤
│  Всего к оплате                                                                                 │&#&&&&&&&&&.&&│&#&&&&&&&&&&.&&│          │        │
└─────────────────────────────────────────────────────────────────────────────────────────────────┴──────────────┴───────────────┴──────────┴────────┘ И


  Руководитель организации      ___________     Д@@@@@@@@@@@@@@@@@@@@@@@@@@ Д Главный бухгалтер  ___________     Д^ Д
                                 (подпись)              (Ф.И.О.)                              (подпись)              (Ф.И.О.)

  Индивидуальный предприниматель___________    __________________________ _________________________________
                                 (подпись)              (Ф.И.О.)          (реквизиты свидетельства о
                                                                           государственной регистрации
                                                                           индивидуального предпринимателя)
  Примечание.
  Первый экземпляр - покупателю, второй экземпляр - продавцу. Ш

.if Delimiter
----------------------------------------------------------------------------------------------------------------------------
.end
^
.}
.endform
!
!===============================================================================
!
#doc
Счет-фактура с реквизитами грузоотправителя (c 11.05.2006г.)
#end
.linkform 'PRBDOC_110C_110506_1' prototype is 'PRBDOC'
.NameInList 'Счет-фактура с реквизитами грузоотправителя (c 11.05.2006г.)'
.group 'Продажа'
.group 'Предоплата продаж'
.set filler '-'
!----------------------------------------
.create view vSpStep
from
 BaseDoc,
 KatOrg,
 SpStep   ,
 KatParty
where
((
        comp(PosNRec) == SpStep.nRec
and     SpStep.cParty == KatParty.nRec
));
.create view vBaseDoc
from
 BaseDoc
where
((
    comp(BaseDocNRec) == BaseDoc.nRec
));
!-------------------------------------------------------------------
.var
 SrcCountry,          // Новые графы СФ "Страна происхождения"
 GTDNumber : string;  //                "Номер ГТД"
 cRecMyOrg : comp;
 ArdOrgGruzFrom,
 ArdOrgGruzTo    : string;
 boIsVhodNal     : boolean;
.endvar
!-------------------------------------------------------------------
.var
 Akciz : double
 CenaAk : double
 SumAk  : double
 totSumAk : double
.endvar
.{
.begin
  boIsVhodNal     := false;
  if (vBaseDoc.GetFirst fastfirstrow BaseDoc = 0)
    boIsVhodNal     := (vBaseDoc.BaseDoc.VhodNal = 1);
  ArdOrgGruzFrom := Grpost + if(grSFAdrPostOtp<>'',', ','') + grSFAdrPostOtp;
  ArdOrgGruzTo := Grpol + if(grSFAdrPostPol<>'',', ','') + grSFAdrPostPol;
end.
.FIELDS
 nomer ddoc
 #f_(post)
 #f_(SFAdrJurMy) //adpost)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpost) +
   ' / ' +
 #f_(KODPLATNDS_post)
 #f_(ArdOrgGruzFrom)   //Grpost)
! gradpost
 #f_(ArdOrgGruzTo)  //grpol)
 BaseFinNumber BaseFinDate
! gradpol
 #f_(pol)
 #f_(SFAdrJurPol)   //adpol)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpol) +
   ' / ' +
 #f_(KODPLATNDS_pol)
 pname
.ENDFIELDS
 Ш                                                                                                                 Приложение № 1
                                                                                              к Правилам ведения журналов учета
                                                                                        полученных и выставленных счетов-фактур,
                                                                                        книг покупок и книг продаж при расчетах
                                                                                             по налогу на добавленную стоимость,
                                                                                   утвержденным постановлением Правительства РФ
                                                                                                         от 02.12.2000 г. № 914

                                                                                         (в ред. Постановлений Правительства РФ
                                                                                       от 15.03.2001 № 189, от 27.07.2002 № 575,
                                                                                        от 16.02.2004 № 84, от 11.05.2006 № 283) Ш

            БСчет-фактура N Б @@@@@@@@@@@@  Бот Б @@@@@@@@@@@@@@@@@@@@@@

 И  ЙПродавец @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Адрес @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 ^ продавца  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Грузоотправитель и его адрес @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Грузополучатель и его адрес  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 К платежно-расчетному документу
.{ CheckEnter IsBaseFin
        № @@@@@@@@@@@@@@@@@@@@@ от @@@@@@@@@@@
.}
 Покупатель @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Адрес @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 ^ покупателя  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Дополнение (условия оплаты по договору (контракту), способ отправления и т.п.)
 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Б
.{ CheckEnter IsExClass
.}
.{ CheckEnter IsGroup
.}
 Р┌────────────────────────────────┬──────┬──────────┬────────────┬───────────────┬──────────┬──────┬──────────────┬───────────────┬──────────┬────────┐
│ Наименование товара            │Еди-  │Количество│   Цена     │   Стоимость   │В том чис-│Нало- │ Сумма налога │   Стоимость   │  Страна  │ Номер  │
│(описание выполненных           │ница  │          │ (тариф) за │ товаров (ра-  │ ле акциз │говая │              │ товаров (ра-  │  проис-  │таможен-│
│ работ, оказанных               │изме- │          │ единицу из-│ бот, услуг),  │          │ставка│              │ бот, услуг),  │  хожде-  │ной дек-│
│ услуг), имущественного права   │рения │          │ мерения    │ имущественных │          │      │              │ имущественных │  ния     │ларации │
│                                │      │          │            │  прав, всего  │          │      │              │ прав, всего с │          │        │
│                                │      │          │            │  без  налога  │          │      │              │ учетом налога │          │        │
├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤
│                1               │  2   │    3     │      4     │       5       │     6    │  7   │      8       │       9       │    10    │   11   │
├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Р
.begin
  TotSumAk := 0;
 end.
.{
.{ table 'vSpStep.SpStep'
.begin
!--------------------------------------
#include BDBla2vp.frn
!--------------------------------------
 Akciz := Ak/kol;
 CenaAk := cenabez + AkCiz;
 SumAk  := sbez + Ak;
 TotSumAk := TotSumAk + SumAk;
 end.
.fields
  mc
  ed kol
  cenaAk sumAk Ak
  if(IsExistNDS, #s_ProcNDS(procnds, boIsVhodNal), '-')
  Lpad(if(IsExistNDS, DoubleToStr(Nds, '\2p[|-]366`666`666.88'), '-'), 14)
  Newsumma-NSel
  #f_(SrcCountry)
  #f_(GTDNumber  )
.endfields Ш
 И│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@#@@@@│&'#&&&&&&&│&'#&&&&&&.&&│&'#&&&&&&&&&.&&│&'#&&&&.&&│@~#@@@│^│&'#&&&&&&&&&.&&│@~@@@@@@@@│@~@@@@@@│ Р
.} //table 'vSpStep.SpStep'
.}
.fields
!  TotSumAk c2
  n2
  k1-p2
  Director Main_Buh
  page_symb
.endfields
 Р├────────────────────────────────┴──────┴──────────┴────────────┴───────────────┴──────────┴──────┼──────────────┼───────────────┼──────────┼────────┤
│  Всего к оплате                                                                                 │&#&&&&&&&&&.&&│&#&&&&&&&&&&.&&│          │        │
└─────────────────────────────────────────────────────────────────────────────────────────────────┴──────────────┴───────────────┴──────────┴────────┘ И


  Руководитель организации      ___________   Д@@@@@@@@@@@@@@@@@@@@@@@@@@ Д Главный бухгалтер ___________    Д^ Д
                                 (подпись)              (Ф.И.О.)                           (подпись)           (Ф.И.О.)

  Индивидуальный предприниматель___________  __________________________  _________________________________
                                 (подпись)              (Ф.И.О.)           (реквизиты свидетельства о
                                                                            государственной регистрации
                                                                            индивидуального предпринимателя)
  Примечание.
  Первый экземпляр - покупателю, второй экземпляр - продавцу. Ш

.if Delimiter
----------------------------------------------------------------------------------------------------------------------------
.end
^
.}
.endform
!
!===============================================================================
!
#doc
Счет-фактура рублевый для вал.-руб. документов (c 11.05.2006г.)
#end
.linkform 'PRBDOC_110C_110506_2' prototype is 'PRBDOC'
.NameInList 'Счет-фактура рублевый для вал.-руб. документов (c 11.05.2006г.)'
.group 'Продажа'
.group 'Предоплата продаж'
.set filler '-'
!----------------------------------------
.create view vSpStep
from
 BaseDoc,
 KatOrg,
 SpStep   ,
 KatParty
where
((
        comp(PosNRec) == SpStep.nRec
and     SpStep.cParty == KatParty.nRec
));
.create view vBaseDoc
from
 BaseDoc
where
((
   comp(BaseDocNRec) == BaseDoc.nRec
));
!-------------------------------------------------------------------
.var
 SrcCountry,          // Новые графы СФ "Страна происхождения"
 GTDNumber : string;  //                "Номер ГТД"
 cRecMyOrg : comp;
 ArdOrgGruzFrom,
 ArdOrgGruzTo    : string;
 boIsVhodNal     : boolean;
.endvar
!-------------------------------------------------------------------
.var
 AkcizR : double
 CenaAkR : double
 SumAkR  : double
 totSumAkR : double
.endvar
.{
.begin
  boIsVhodNal     := false;
  if (vBaseDoc.GetFirst fastfirstrow BaseDoc = 0)
    boIsVhodNal     := (vBaseDoc.BaseDoc.VhodNal = 1);
  if (nRecGrOtp = nRecMy)
    ArdOrgGruzFrom := 'он же'
  else
    ArdOrgGruzFrom := Grpost + if(grSFAdrPostOtp<>'',', ','') + grSFAdrPostOtp;
  ArdOrgGruzTo := Grpol + if(grSFAdrPostPol<>'',', ','') + grSFAdrPostPol;
end.
.FIELDS
 nomer ddoc
 #f_(post)
 #f_(SFAdrJurMy) //adpost)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpost) +
   ' / ' +
 #f_(KODPLATNDS_post)
 #f_(ArdOrgGruzFrom)   //Grpost)
! gradpost
 #f_(ArdOrgGruzTo)  //grpol)
 BaseFinNumber BaseFinDate
! gradpol
 #f_(pol)
 #f_(SFAdrJurPol)   //adpol)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpol) +
   ' / ' +
 #f_(KODPLATNDS_pol)
 pname
.ENDFIELDS
 Ш                                                                                                                 Приложение № 1
                                                                                              к Правилам ведения журналов учета
                                                                                        полученных и выставленных счетов-фактур,
                                                                                        книг покупок и книг продаж при расчетах
                                                                                             по налогу на добавленную стоимость,
                                                                                   утвержденным постановлением Правительства РФ
                                                                                                         от 02.12.2000 г. № 914

                                                                                         (в ред. Постановлений Правительства РФ
                                                                                       от 15.03.2001 № 189, от 27.07.2002 № 575,
                                                                                        от 16.02.2004 № 84, от 11.05.2006 № 283) Ш

            БСчет-фактура N Б @@@@@@@@@@@@  Бот Б @@@@@@@@@@@@@@@@@@@@@@

 И  ЙПродавец @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Адрес @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 ^ продавца  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Грузоотправитель и его адрес @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Грузополучатель и его адрес  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 К платежно-расчетному документу
.{ CheckEnter IsBaseFin
        № @@@@@@@@@@@@@@@@@@@@@ от @@@@@@@@@@@
.}
 Покупатель @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Адрес @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 ^ покупателя  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Дополнение (условия оплаты по договору (контракту), способ отправления и т.п.)
 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Б
.{ CheckEnter IsExClass
.}
.{ CheckEnter IsGroup
.}
 Р┌────────────────────────────────┬──────┬──────────┬────────────┬───────────────┬──────────┬──────┬──────────────┬───────────────┬──────────┬────────┐
│ Наименование товара            │Еди-  │Количество│   Цена     │   Стоимость   │В том чис-│Нало- │ Сумма налога │   Стоимость   │  Страна  │ Номер  │
│(описание выполненных           │ница  │          │ (тариф) за │ товаров (ра-  │ ле акциз │говая │              │ товаров (ра-  │  проис-  │таможен-│
│ работ, оказанных               │изме- │          │ единицу из-│ бот, услуг),  │          │ставка│              │ бот, услуг),  │  хожде-  │ной дек-│
│ услуг), имущественного права   │рения │          │ мерения    │ имущественных │          │      │              │ имущественных │  ния     │ларации │
│                                │      │          │            │  прав, всего  │          │      │              │ прав, всего с │          │        │
│                                │      │          │            │  без  налога  │          │      │              │ учетом налога │          │        │
├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤
│                1               │  2   │    3     │      4     │       5       │     6    │  7   │      8       │       9       │    10    │   11   │
├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Р
.begin
  TotSumAkR := 0;
 end.
.{
.{ table 'vSpStep.SpStep'
.begin
!--------------------------------------
#include BDBla2vp.frn
!--------------------------------------
 AkcizR := AkR/kol;
 CenaAkR := cenabezR + AkCizR;
 SumAkR  := sbezR + AkR;
 TotSumAkR := TotSumAkR + SumAkR;
 end.
.fields
  mc
  #f_(ed)
  kol
  cenaAkR sumAkR AkR
  if (IsExistNDS, #s_ProcNDS(procnds, boIsVhodNal), '-')
  Lpad(if(IsExistNDS, DoubleToStr(NdsR, '\2p[|-]366`666`666.88'), '-'), 14)
  NewsummaR-NSelR
  #f_(SrcCountry)
  #f_(GTDNumber)
.endfields
 Р│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@~@@@@│&'#&&&&&&&│&'#&&&&&&.&&│&'#&&&&&&&&&.&&│&'#&&&&.&&│@~#@@@│^│&'#&&&&&&&&&.&&│@~@@@@@@@@│@~@@@@@@│ Р
.} //table 'vSpStep.SpStep'
.}
.fields
!  TotSumAk c2
  n2r
  k1r-p2r
  Director Main_Buh
  page_symb
.endfields
 Р├────────────────────────────────┴──────┴──────────┴────────────┴───────────────┴──────────┴──────┼──────────────┼───────────────┼──────────┼────────┤
│  Всего к оплате                                                                                 │&#&&&&&&&&&.&&│&#&&&&&&&&&&.&&│          │        │
└─────────────────────────────────────────────────────────────────────────────────────────────────┴──────────────┴───────────────┴──────────┴────────┘ И


  Руководитель организации      ___________  Р  Ф@@@@@@@@@@@@@@@@@@@@@@@@@@ Д Главный бухгалтер ___________    Д ^ Д
                                (подпись)              (Ф.И.О.)                             (подпись)          (Ф.И.О.)

  Индивидуальный предприниматель___________   _________________________ Р  Р____________________________________
                                (подпись)              (Ф.И.О.)             (реквизиты свидетельства о
                                                                             государственной регистрации
                                                                             индивидуального предпринимателя)
  Примечание.
  Первый экземпляр - покупателю, второй экземпляр - продавцу. Ш

.if Delimiter
----------------------------------------------------------------------------------------------------------------------------
.end
^
.}
.endform

!
!===============================================================================
!
#doc
Счет-фактура рублевый для вал.-руб. документов с реквизитами грузоотправителя (c 11.05.2006г.)
#end
.linkform 'PRBDOC_110C_110506_3' prototype is 'PRBDOC'
.NameInList 'Счет-фактура рублевый для вал.-руб. документов с реквизитами грузоотправителя (c 11.05.2006г.)'
.group 'Продажа'
.group 'Предоплата продаж'
.set filler '-'
!----------------------------------------
.create view vSpStep
from
 BaseDoc,
 KatOrg,
 SpStep   ,
 KatParty
where
((
        comp(PosNRec) == SpStep.nRec
and     SpStep.cParty == KatParty.nRec
));
.create view vBaseDoc
from
 BaseDoc
where
((
   comp(BaseDocNRec) == BaseDoc.nRec
));
!-------------------------------------------------------------------
.var
 SrcCountry,          // Новые графы СФ "Страна происхождения"
 GTDNumber : string;  //                "Номер ГТД"
 cRecMyOrg : comp;
 ArdOrgGruzFrom,
 ArdOrgGruzTo    : string;
 boIsVhodNal     : boolean;
.endvar
!-------------------------------------------------------------------
.var
 AkcizR : double
 CenaAkR : double
 SumAkR  : double
 totSumAkR : double
.endvar
.{
.begin
  boIsVhodNal     := false;
  if (vBaseDoc.GetFirst fastfirstrow BaseDoc = 0)
    boIsVhodNal     := (vBaseDoc.BaseDoc.VhodNal = 1);
  ArdOrgGruzFrom := Grpost + if(grSFAdrPostOtp<>'',', ','') + grSFAdrPostOtp;
  ArdOrgGruzTo := Grpol + if(grSFAdrPostPol<>'',', ','') + grSFAdrPostPol;
end.
.FIELDS
 nomer ddoc
 #f_(post)
 #f_(SFAdrJurMy) //adpost)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpost) +
   ' / ' +
 #f_(KODPLATNDS_post)
 #f_(ArdOrgGruzFrom)   //Grpost)
! gradpost
 #f_(ArdOrgGruzTo)  //grpol)
 BaseFinNumber BaseFinDate
! gradpol
 #f_(pol)
 #f_(SFAdrJurPol)   //adpol)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpol) +
   ' / ' +
 #f_(KODPLATNDS_pol)
 pname
.ENDFIELDS
 Ш                                                                                                                 Приложение № 1
                                                                                              к Правилам ведения журналов учета
                                                                                        полученных и выставленных счетов-фактур,
                                                                                        книг покупок и книг продаж при расчетах
                                                                                             по налогу на добавленную стоимость,
                                                                                   утвержденным постановлением Правительства РФ
                                                                                                         от 02.12.2000 г. № 914

                                                                                         (в ред. Постановлений Правительства РФ
                                                                                       от 15.03.2001 № 189, от 27.07.2002 № 575,
                                                                                        от 16.02.2004 № 84, от 11.05.2006 № 283) Ш

            БСчет-фактура N Б @@@@@@@@@@@@  Бот Б @@@@@@@@@@@@@@@@@@@@@@

 И  ЙПродавец @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Адрес @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 ^ продавца  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Грузоотправитель и его адрес @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Грузополучатель и его адрес  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 К платежно-расчетному документу
.{ CheckEnter IsBaseFin
        № @@@@@@@@@@@@@@@@@@@@@ от @@@@@@@@@@@
.}
 Покупатель @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Адрес @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 ^ покупателя  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Дополнение (условия оплаты по договору (контракту), способ отправления и т.п.)
 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Б
.{ CheckEnter IsExClass
.}
.{ CheckEnter IsGroup
.}
 Р┌────────────────────────────────┬──────┬──────────┬────────────┬───────────────┬──────────┬──────┬──────────────┬───────────────┬──────────┬────────┐
│ Наименование товара            │Еди-  │Количество│   Цена     │   Стоимость   │В том чис-│Нало- │ Сумма налога │   Стоимость   │  Страна  │ Номер  │
│(описание выполненных           │ница  │          │ (тариф) за │ товаров (ра-  │ ле акциз │говая │              │ товаров (ра-  │  проис-  │таможен-│
│ работ, оказанных               │изме- │          │ единицу из-│ бот, услуг),  │          │ставка│              │ бот, услуг),  │  хожде-  │ной дек-│
│ услуг), имущественного права   │рения │          │ мерения    │ имущественных │          │      │              │ имущественных │  ния     │ларации │
│                                │      │          │            │  прав, всего  │          │      │              │ прав, всего с │          │        │
│                                │      │          │            │  без  налога  │          │      │              │ учетом налога │          │        │
├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤
│                1               │  2   │    3     │      4     │       5       │     6    │  7   │      8       │       9       │    10    │   11   │
├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Р
.begin
  TotSumAkR := 0;
 end.
.{
.{ table 'vSpStep.SpStep'
.begin
!--------------------------------------
#include BDBla2vp.frn
!--------------------------------------
 AkcizR := AkR/kol;
 CenaAkR := cenabezR + AkCizR;
 SumAkR  := sbezR + AkR;
 TotSumAkR := TotSumAkR + SumAkR;
 end.
.fields
  mc
  #f_(ed)
  kol
  cenaAkR sumAkR AkR
  if (IsExistNDS, #s_ProcNDS(procnds, boIsVhodNal), '-')
  Lpad(if(IsExistNDS, DoubleToStr(NdsR, '\2p[|-]366`666`666.88'), '-'), 14)
  NewsummaR-NSelR
  #f_(SrcCountry)
  #f_(GTDNumber)
.endfields
 Р│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@~@@@@│&'#&&&&&&&│&'#&&&&&&.&&│&'#&&&&&&&&&.&&│&'#&&&&.&&│@~#@@@│^│&'#&&&&&&&&&.&&│@~@@@@@@@@│@~@@@@@@│ Р
.} //table 'vSpStep.SpStep'
.}
.fields
!  TotSumAk c2
  n2r
  k1r-p2r
  Director Main_Buh
  page_symb
.endfields
 Р├────────────────────────────────┴──────┴──────────┴────────────┴───────────────┴──────────┴──────┼──────────────┼───────────────┼──────────┼────────┤
│  Всего к оплате                                                                                 │&#&&&&&&&&&.&&│&#&&&&&&&&&&.&&│          │        │
└─────────────────────────────────────────────────────────────────────────────────────────────────┴──────────────┴───────────────┴──────────┴────────┘ Ш
 Р

  Руководитель организации      ___________   Д@@@@@@@@@@@@@@@@@@@@@@@@@@ Д Главный бухгалтер___________    Д^ Д
                                (подпись)              (Ф.И.О.)                           (подпись)       (Ф.И.О.)

  Индивидуальный предприниматель___________  __________________________  ___________________________________
                                (подпись)              (Ф.И.О.)          (реквизиты свидетельства о
                                                                          государственной регистрации
                                                                          индивидуального предпринимателя)
  Примечание.
  Первый экземпляр - покупателю, второй экземпляр - продавцу. Ш

.if Delimiter
----------------------------------------------------------------------------------------------------------------------------
.end
^
.}
.endform
!
!===============================================================================
!
#doc
Счет-фактура (c 11.05.2006г.)
#end
.linkform 'PRBDOC_206C_110506' prototype is 'PRBDOC'
.NameInList 'Счет-фактура (c 11.05.2006г.)'
.group 'Закупка'
.group 'Предоплата закупок'
.set filler '-'
!----------------------------------------
.create view vSpStep
from
 BaseDoc,
 KatOrg,
 SpStep   ,
 KatParty
where
((
        comp(PosNRec) == SpStep.nRec
and     SpStep.cParty == KatParty.nRec
));
.create view vBaseDoc
from
 BaseDoc
where
((
   comp(BaseDocNRec) == BaseDoc.nRec
));
!-------------------------------------------------------------------
.var
 SrcCountry,          // Новые графы СФ "Страна происхождения"
 GTDNumber : string;  //                "Номер ГТД"
 ArdOrgGruzTo,
 ArdOrgGruzFrom : string;
 boIsVhodNal     : boolean;
.endvar
!-------------------------------------------------------------------
.var
 Akciz : double
 CenaAk : double
 SumAk  : double
 totSumAk : double
 HeadMyOrg : String;
 cHeadRec  : Comp;
 ExAttrFun : iExtAttr;
.endvar
.{
.begin
  boIsVhodNal     := false;
  if (vBaseDoc.GetFirst fastfirstrow BaseDoc = 0)
    boIsVhodNal     := (vBaseDoc.BaseDoc.VhodNal = 1);

  if (vBaseDoc.BaseDoc.cOrg = vBaseDoc.BaseDoc.cGrOtpr)
    ArdOrgGruzFrom := 'он же'
  else
    ArdOrgGruzFrom := Grpost + if(grSFAdrPostOtp<>'',', ','') + grSFAdrPostOtp;
  ArdOrgGruzTo := Grpol + if(grSFAdrPostPol<>'',', ','') + grSFAdrPostPol;
end.
.FIELDS
 nomer ddoc
 #f_(pol)
 #f_(SFAdrJurPol) //adpol)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpol) +
   ' / ' +
 #f_(KODPLATNDS_pol)
 #f_(ArdOrgGruzFrom) //Grpost)
! gradpost
 #f_(ArdOrgGruzTo)   //grpol)
 BaseFinNumber BaseFinDate
! gradpol
 #f_(post)
 #f_(SFAdrJurMy) //adpost)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpost) +
   ' / ' +
 #f_(KODPLATNDS_post)
!pname
.ENDFIELDS
 Ш                                                                                                                 Приложение № 1
                                                                                              к Правилам ведения журналов учета
                                                                                        полученных и выставленных счетов-фактур,
                                                                                        книг покупок и книг продаж при расчетах
                                                                                             по налогу на добавленную стоимость,
                                                                                   утвержденным постановлением Правительства РФ
                                                                                                         от 02.12.2000 г. № 914

                                                                                         (в ред. Постановлений Правительства РФ
                                                                                       от 15.03.2001 № 189, от 27.07.2002 № 575,
                                                                                        от 16.02.2004 № 84, от 11.05.2006 № 283) Ш

            БСчет-фактура N Б @@@@@@@@@@@@  Бот Б @@@@@@@@@@@@@@@@@@@@@@

 Продавец @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Адрес @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 ^ продавца  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Грузоотправитель и его адрес @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Грузополучатель и его адрес  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 К платежно-расчетному документу
.{ CheckEnter IsBaseFin
        № @@@@@@@@@@@@@@@@@@@@@ от @@@@@@@@@@@
.}
 Покупатель @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Адрес @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 ^ покупателя  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
.{ CheckEnter IsExClass
.}
.{ CheckEnter IsGroup
.}

 Ш┌────────────────────────────────┬──────┬──────────┬────────────┬───────────────┬──────────┬──────┬──────────────┬───────────────┬──────────┬────────┐
│ Наименование товара            │Еди-  │Количество│   Цена     │   Стоимость   │В том чис-│Нало- │ Сумма налога │   Стоимость   │  Страна  │ Номер  │
│(описание выполненных           │ница  │          │ (тариф) за │ товаров (ра-  │ ле акциз │говая │              │ товаров (ра-  │  проис-  │таможен-│
│ работ, оказанных               │изме- │          │ единицу из-│ бот, услуг),  │          │ставка│              │ бот, услуг),  │  хожде-  │ной дек-│
│ услуг), имущественного права   │рения │          │ мерения    │ имущественных │          │      │              │ имущественных │  ния     │ларации │
│                                │      │          │            │  прав, всего  │          │      │              │ прав, всего с │          │        │
│                                │      │          │            │  без  налога  │          │      │              │ учетом налога │          │        │
├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤
│                1               │  2   │    3     │      4     │       5       │     6    │  7   │      8       │       9       │    10    │   11   │
├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
.begin
  TotSumAk := 0;
 end.
.{
.{ table 'vSpStep.SpStep'
.begin
!--------------------------------------
#include BDBla2vp.frn
!--------------------------------------
 Akciz := Ak/kol;
 CenaAk := cenabez + AkCiz;
 SumAk  := sbez + Ak;
 TotSumAk := TotSumAk + SumAk;
 end.
.fields
  mc
  ed kol
  cenaAk sumAk Ak
  if (IsExistNDS, #s_ProcNDS(procnds, boIsVhodNal), '-')
  Lpad(if(IsExistNDS, DoubleToStr(Nds, '\2p[|-]366`666`666.88'), '-'), 14)
  Newsumma-NSel
!  NSel
  SrcCountry
  GTDNumber
.endfields
 Ш│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@~#@@@│&'#&&&&&&&│&'#&&&&&&.&&│&'#&&&&&&&&&.&&│&'#&&&&.&&│@~#@@@│^│&'#&&&&&&&&&.&&│@~@@@@@@@@│@~@@@@@@│ Ш
.} //table 'vSpStep.SpStep'
.}
.fields
!  TotSumAk c2
  n2
  k1-p2
  page_symb
.endfields
 Ш├────────────────────────────────┴──────┴──────────┴────────────┴───────────────┴──────────┴──────┼──────────────┼───────────────┼──────────┼────────┤
│  Всего к оплате                                                                                 │&#&&&&&&&&&.&&│&#&&&&&&&&&&.&&│          │        │
└─────────────────────────────────────────────────────────────────────────────────────────────────┴──────────────┴───────────────┴──────────┴────────┘


       Руководитель организации      ___________    __________________________ Главный бухгалтер  ___________    __________________________
                                      (подпись)              (Ф.И.О.)                              (подпись)              (Ф.И.О.)

       Индивидуальный предприниматель___________    __________________________ _________________________________
                                      (подпись)              (Ф.И.О.)          (реквизиты свидетельства о
                                                                                государственной регистрации
                                                                                индивидуального предпринимателя)
       Примечание.
       Первый экземпляр - покупателю, второй экземпляр - продавцу. Ш

.if Delimiter
----------------------------------------------------------------------------------------------------------------------------
.end
^
.}
.endform
!
!===============================================================================
!
#doc
Счет-фактура (c 11.05.2006г., с дополнением)
#end
.linkform 'PRBDOC_206C_110506_DOP' prototype is 'PRBDOC'
.NameInList 'Счет-фактура (c 11.05.2006г., с дополнением)'
.group 'Закупка'
.group 'Предоплата закупок'
.set filler '-'
!----------------------------------------
.create view vSpStep
from
 BaseDoc,
 KatOrg,
 SpStep   ,
 KatParty
where
((
        comp(PosNRec) == SpStep.nRec
and     SpStep.cParty == KatParty.nRec
));
.create view vBaseDoc
from
 BaseDoc
where
((
   comp(BaseDocNRec) == BaseDoc.nRec
));
!-------------------------------------------------------------------
.var
 SrcCountry,          // Новые графы СФ "Страна происхождения"
 GTDNumber : string;  //                "Номер ГТД"
 ArdOrgGruzTo,
 ArdOrgGruzFrom : string;
 boIsVhodNal     : boolean;
.endvar
!-------------------------------------------------------------------
.var
 Akciz : double
 CenaAk : double
 SumAk  : double
 totSumAk : double
 HeadMyOrg : String;
 cHeadRec  : Comp;
 ExAttrFun : iExtAttr;
.endvar
.{
.begin
  boIsVhodNal     := false;
  if (vBaseDoc.GetFirst fastfirstrow BaseDoc = 0)
    boIsVhodNal     := (vBaseDoc.BaseDoc.VhodNal = 1);

  if (vBaseDoc.BaseDoc.cOrg = vBaseDoc.BaseDoc.cGrOtpr)
    ArdOrgGruzFrom := 'он же'
  else
    ArdOrgGruzFrom := Grpost + if(grSFAdrPostOtp<>'',', ','') + grSFAdrPostOtp;
  ArdOrgGruzTo := Grpol + if(grSFAdrPostPol<>'',', ','') + grSFAdrPostPol;
end.
.FIELDS
 nomer ddoc
 #f_(pol)
 #f_(SFAdrJurPol) //adpol)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpol) +
   ' / ' +
 #f_(KODPLATNDS_pol)
 #f_(ArdOrgGruzFrom) //Grpost)
! gradpost
 #f_(ArdOrgGruzTo)   //grpol)
 BaseFinNumber BaseFinDate
! gradpol
 #f_(post)
 #f_(SFAdrJurMy) //adpost)
 sGetTune('KatOrg.FldView.UNN') +
 '/' + sGetTune('KatOrg.FldView.KodPlatNDS')
 #f_(innpost) +
   ' / ' +
 #f_(KODPLATNDS_post)
 pname
.ENDFIELDS
 Ш                                                                                                                                        Приложение № 1
                                                                                                                     к Правилам ведения журналов учета
                                                                                                              полученных и выставленных счетов-фактур,
                                                                                                               книг покупок и книг продаж при расчетах
                                                                                                                   по налогу на добавленную стоимость,
                                                                                                          утвержденным постановлением Правительства РФ
                                                                                                                                от 02.12.2000 г. № 914

                                                                                                                (в ред. Постановлений Правительства РФ
                                                                                                             от 15.03.2001 № 189, от 27.07.2002 № 575,
                                                                                                              от 16.02.2004 № 84, от 11.05.2006 № 283) Ш

            БСчет-фактура N Б @@@@@@@@@@@@  Бот Б @@@@@@@@@@@@@@@@@@@@@@

 И  БПродавец Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  Б^ продавца Б  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БГрузоотправитель и его адрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БГрузополучатель и его адрес Б  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БК платежно-расчетному документу Й
.{ CheckEnter IsBaseFin
 И        № @@@@@@@@@@@@@@@@@@@@@ от @@@@@@@@@@@ И
.}
 И  БПокупатель Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  Б^ покупателя Б  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БДополнение (условия оплаты по договору (контракту), способ отправления и т.п.) Б
 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И
.{ CheckEnter IsExClass
.}
.{ CheckEnter IsGroup
.}

 Ш┌────────────────────────────────┬──────┬──────────┬────────────┬───────────────┬──────────┬──────┬──────────────┬───────────────┬──────────┬────────┐
│ Наименование товара            │Еди-  │Количество│   Цена     │   Стоимость   │В том чис-│Нало- │ Сумма налога │   Стоимость   │  Страна  │ Номер  │
│(описание выполненных           │ница  │          │ (тариф) за │ товаров (ра-  │ ле акциз │говая │              │ товаров (ра-  │  проис-  │таможен-│
│ работ, оказанных               │изме- │          │ единицу из-│ бот, услуг),  │          │ставка│              │ бот, услуг),  │  хожде-  │ной дек-│
│ услуг), имущественного права   │рения │          │ мерения    │ имущественных │          │      │              │ имущественных │  ния     │ларации │
│                                │      │          │            │  прав, всего  │          │      │              │ прав, всего с │          │        │
│                                │      │          │            │  без  налога  │          │      │              │ учетом налога │          │        │
├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤
│                1               │  2   │    3     │      4     │       5       │     6    │  7   │      8       │       9       │    10    │   11   │
├────────────────────────────────┼──────┼──────────┼────────────┼───────────────┼──────────┼──────┼──────────────┼───────────────┼──────────┼────────┤ Ш
.begin
  TotSumAk := 0;
 end.
.{
.{ table 'vSpStep.SpStep'
.begin
!--------------------------------------
#include BDBla2vp.frn
!--------------------------------------
 Akciz := Ak/kol;
 CenaAk := cenabez + AkCiz;
 SumAk  := sbez + Ak;
 TotSumAk := TotSumAk + SumAk;
 end.
.fields
  mc
  ed kol
  cenaAk sumAk Ak
  if (IsExistNDS, #s_ProcNDS(procnds, boIsVhodNal), '-')
  Lpad(if(IsExistNDS, DoubleToStr(Nds, '\2p[|-]366`666`666.88'), '-'), 14)
  Newsumma-NSel
!  NSel
  SrcCountry
  GTDNumber
.endfields
 Ш│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@~#@@@│&'#&&&&&&&│&'#&&&&&&.&&│&'#&&&&&&&&&.&&│&'#&&&&.&&│@~#@@@│^│&'#&&&&&&&&&.&&│@~@@@@@@@@│@~@@@@@@│ Ш
.} //table 'vSpStep.SpStep'
.}
.fields
!  TotSumAk c2
  n2
  k1-p2
  page_symb
.endfields
 Ш├────────────────────────────────┴──────┴──────────┴────────────┴───────────────┴──────────┴──────┼──────────────┼───────────────┼──────────┼────────┤
│  Всего к оплате                                                                                 │&#&&&&&&&&&.&&│&#&&&&&&&&&&.&&│          │        │
└─────────────────────────────────────────────────────────────────────────────────────────────────┴──────────────┴───────────────┴──────────┴────────┘


       Руководитель организации      ___________    __________________________ Главный бухгалтер  ___________    __________________________
                                      (подпись)              (Ф.И.О.)                              (подпись)              (Ф.И.О.)

       Индивидуальный предприниматель___________    __________________________ _________________________________
                                      (подпись)              (Ф.И.О.)          (реквизиты свидетельства о
                                                                                государственной регистрации
                                                                                индивидуального предпринимателя)
       Примечание.
       Первый экземпляр - покупателю, второй экземпляр - продавцу. Ш

.if Delimiter
----------------------------------------------------------------------------------------------------------------------------
.end
^
.}
.endform
!
!===============================================================================
!