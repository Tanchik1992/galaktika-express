!╔════════════════════════════════════════════════════════════════════════════╗
!║                     (c) Корпорация ГАЛАКТИКА, 1997-2000                    ║
!║ Проект        : ГАЛАКТИКА                                                  ║
!║ Система       : Розничная торговля                                         ║
!║ Версия        : 5.73                                                       ║
!║ Назначение    : Печать бланков СФ (с 25.02.2000) из ДО на ПРОДАЖУ          ║
!╚════════════════════════════════════════════════════════════════════════════╝

#doc
Счет-фактура строгой отчетности для РФ - A4 (c 25.02.2000г.)
#end
.linkform 'PRBDOCR_109A' prototype is 'PrbDocR'
.NameInList 'Счет-фактура строгой отчетности для РФ - A4 (c 25.02.2000г.)'
.group 'Продажа'
!----------------------------------------
.create view vSpStep
from
 SpStep   ,
 KatParty
where
 ((
   comp(PosNRec) == SpStep.nRec and
   SpStep.cParty == KatParty.nRec
 ));
!-------------------------------------------------------------------
.var
 SrcCountry,          // Новые графы СФ "Страна происхождения"
 GTDNumber : string;  //                "Номер ГТД"
.endvar
!-------------------------------------------------------------------
.var
 Akciz : double
 CenaAk : double
 SumAk  : double
 SumNDS : double
 totSumAk  : double
 totSumNDS : double
.endvar
.FIELDS
 post adpost telpost rspost mpost bpost+if(rspost2<>'', ', К/С '+rspost2, '')
 citypost
 sGetTune('KatOrg.FldView.UNN')
 innpost
 sGetTune('KatOrg.FldView.OKONH')
 okonhpost
 sGetTune('KatOrg.FldView.OKPO')
 OKPOpost
 Grpost gradpost
 grpol gradpol
! Nplras DPlras
  nomer ddoc
 pol adpol telpol rspol mpol bpol+if(rspol2<>'', ', К/С '+rspol2, '')
 citypol
 sGetTune('KatOrg.FldView.UNN')
 innpol
 sGetTune('KatOrg.FldView.OKONH')
 okonhpol
 sGetTune('KatOrg.FldView.OKPO')
 OKPOpol
 pname
!  pname1
!  pname2
.ENDFIELDS
.{

 Ш    БПоставщик Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  БТелефон  Б@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БРасчетный счет № Б @@@@@@@@@@@@@@@@@@@@  ББИК Б @@@@@@@@@@  Бв Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БГород Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БИдентификационный номер поставщика (@@@@@) Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БКод по @@@@@ Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БКод по @@@@@@ Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БГрузоотправитель и его адрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БГрузополучатель и его адрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БК платежно-расчетному документу № Щ
!    @@@@@@@@@ от @@@@@@@@@@@@@@@@

                         БСЧЕТ-ФАКТУРА № Б @@@@@@@@@  Бот Б @@@@@@@@@@@@@@@@

 Ш    БПокупатель  Б@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  БТелефон Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БРасчетный счет № Б @@@@@@@@@@@@@@@@@@@@  ББИК Б @@@@@@@@@@  Бв Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БГород Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БИдентификационный номер покупателя (@@@@@) Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БКод по @@@@@ Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БКод по @@@@@@ Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БДополнение (условия   оплаты   по   договору  (контракту),  способ отправления и т.п.) Б
   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

.{ CheckEnter IsExClassRozn
.}
.{ CheckEnter IsGroupRozn
.}
   ┌───────────────────────────┬──────┬────────┬──────┬─────┬────────┬─────────────┬──────┬───────────────┬──────┬──────┬─────────────┬─────────────┐
   │       Наименование        │Страна│Номер   │Код по│Еди- │ Кол-во │    Цена     │в т.ч.│     Сумма     │в т.ч.│Ставка│    Сумма    │    Всего    │
   │         товара            │проис-│грузовой│ОКДП  │ница │        │             │акциз │               │акциз │ НДС  │     НДС     │    с НДС    │
   │                           │хожде-│таможен-│      │изме-│        │             │      │               │      │      │             │             │
   │                           │ния   │ной дек-│      │рения│        │             │      │               │      │      │             │             │
   │                           │      │ларации │      │     │        │             │      │               │      │      │             │             │
   │                           │      │        │      │     │        │             │      │               │      │      │             │             │
   ├───────────────────────────┼──────┼────────┼──────┼─────┼────────┼─────────────┼──────┼───────────────┼──────┼──────┼─────────────┼─────────────┤
   │             1             │  2   │   3    │   4  │  5  │    6   │      7      │  8   │       9       │  10  │  11  │      12     │     13      │
   └───────────────────────────┴──────┴────────┴──────┴─────┴────────┴─────────────┴──────┴───────────────┴──────┴──────┴─────────────┴─────────────┘ Ш
.begin
  TotSumAk := 0
 end.
.{
.{ table 'vSpStep.SpStep'
.begin
!--------------------------------------
#include BDBla2vp.frn
!--------------------------------------
 Akciz     := FRoundRub5(Ak / Kol)
 CenaAk    := cenabez   + if(Акциз_в_цене, 0, Akciz) -
              if(НДС_в_цене, FRoundRub5(Nds / Kol), 0)
 SumAk     := sbez      + if(Акциз_в_цене, 0, Ak) -
              if(НДС_в_цене, Nds, 0)
 TotSumAk  := TotSumAk  + SumAk
 SumNDS    := sbez      + if(НДС_в_цене, 0, Nds) +
              if(Акциз_в_цене, 0, Ak)
 TotSumNDS := TotSumNDS + SumNDS
end.
.fields
      mc                   SrcCountry GTDNumber  barkod2 ed  kol    cenaAk        akciz   sumAk             Ak     procnds Nds          SumNDS
.endfields
 Ш    @@@@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@ @~@@@@@@ @@@@@@ @@@@@ &'&&.&&& &'&&&&&&&&.&& &'#.&& &'&&&&&&&&&&.&& &'#.&& &#&.&& &'#&&&&&&&.&& &'&&&&&&&&.&& Ш
.} //table
.}


.fields
  TotSumAk c2 n2 TotSumNDS
.endfields
 Щ    Всего к оплате                                                                         &'&&&&&&&&&&.&& &'#.&&        &'#&&&&&&&.&& &'&&&&&&&&.&& Щ
.{?Internal;(d2>0)
! Скидка
.fields
  d1 + ' ' + StringNLZR(if(d3 = ' %', d2, SkRub), 0, 3) + ' %'
  if(d3 = ' %', SkRub, d2)

  TotSumNDS - if(d3=' %', SkRub, d2)
  sdoc
.endfields
 Ш    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                           &'&&&&&&&&.&& Ш
 Щ    ИТОГО к оплате                                                                                                                 &'&&&&&&&&&&&&.&& Щ  Ш^ Ш
.}

.fields
  Director
  Main_Buh
  page_symb
.endfields
 С                     Руководитель предприятия_____________ ^
                     Гл. бухгалтер           _____________ ^

                                                      М.П.

                     ПОЛУЧИЛ                                                     ВЫДАЛ С

.if DelimiterRozn
 Р---------------------------------------------------------------------------------------------------------------------------- Р
.end
^
.}
.endform



!===============================================================================
#doc
Счет-фактура для РФ (новая) - А4 (c 25.02.2000г.)
#end
.linkform 'PRBDOCR_110A' prototype is 'PrbDocR'
.NameInList 'Счет-фактура для РФ (новая) - А4 (c 25.02.2000г.)'
.group 'Продажа'
!----------------------------------------
.create view vSpStep
from
 SpStep   ,
 KatParty
where
 ((
   comp(PosNRec) == SpStep.nRec and
   SpStep.cParty == KatParty.nRec
 ));
!-------------------------------------------------------------------
.var
 SrcCountry,          // Новые графы СФ "Страна происхождения"
 GTDNumber : string;  //                "Номер ГТД"
.endvar
!-------------------------------------------------------------------
.var
 Akciz : double
 CenaAk : double
 SumAk  : double
 SumNDS : double
 totSumAk  : double
 totSumNDS : double
.endvar
.FIELDS
 nomer ddoc
 post adpost telpost sGetTune('KatOrg.FldView.UNN') innpost
! Grpost gradpost
 If(Grpost=post,' Он же',Grpost)
 If(Grpost=post,'',gradpost)
 grpol gradpol
 pol  adpol  telpol sGetTune('KatOrg.FldView.UNN') innpol
 pname
.ENDFIELDS
.{

            БСчет-фактура № Б @@@@@@@@@@@@  Бот Б @@@@@@@@@@@@@@@@@@@@@@

 И  БПоставщик Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БТелефон Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БИдентификационный номер поставщика (@@@@@) Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БГрузоотправитель и его адрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БГрузополучатель и его адрес Б  @@@@@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БК платежно-расчетному документу №                 от Б
  БПокупатель Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БТелефон Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БИдентификационный номер покупателя (@@@@@) Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  БДополнение (условия оплаты по договору (контракту), способ отправления и т.п.) Б
 @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ И

.{ CheckEnter IsExClassRozn
.}
.{ CheckEnter IsGroupRozn
.}
 Ш┌───────────────────────────────┬────────┬────────┬─────┬────────┬─────────────┬─────────┬─────────────┬──────────┬──────┬─────────────┬─────────────┐ Ш
 Ш│ Наименование товара           │ Страна │Номер   │Еди- │ Кол-во │     Цена    │ В т.ч.  │    Сумма    │  В т.ч.  │Ставка│  Сумма НДС  │ Всего с НДС │ Ш
 Ш│                               │ проис- │грузовой│ница │        │             │ акциз   │             │  акциз   │ НДС  │             │             │ Ш
 Ш│                               │ хожде- │таможен-│изме-│        │             │         │             │          │      │             │             │ Ш
 Ш│                               │ ния    │ной дек-│рения│        │             │         │             │          │      │             │             │ Ш
 Ш│                               │        │ларации │     │        │             │         │             │          │      │             │             │ Ш
 Ш│                               │        │        │     │        │             │         │             │          │      │             │             │ Ш
 Ш├───────────────────────────────┼────────┼────────┼─────┼────────┼─────────────┼─────────┼─────────────┼──────────┼──────┼─────────────┼─────────────┤ Ш
 Ш│             1                 │    2   │   3    │  4  │    5   │      6      │    7    │      8      │     9    │  10  │       11    │      12     │ Ш
 Ш├───────────────────────────────┼────────┼────────┼─────┼────────┼─────────────┼─────────┼─────────────┼──────────┼──────┼─────────────┼─────────────┤ Ш
.begin
  TotSumAk := 0
 end.
.{
.{ table 'vSpStep.SpStep'
.begin
!--------------------------------------
#include BDBla2vp.frn
!--------------------------------------
 Akciz     := FRoundRub5(Ak / Kol)
 CenaAk    := cenabez   + if(Акциз_в_цене, 0, Akciz) -
              if(НДС_в_цене, FRoundRub5(Nds / Kol), 0)
 SumAk     := sbez      + if(Акциз_в_цене, 0, Ak) -
              if(НДС_в_цене, Nds, 0)
 TotSumAk  := TotSumAk  + SumAk
 SumNDS    := sbez      + if(НДС_в_цене, 0, Nds) +
              if(Акциз_в_цене, 0, Ak)
 TotSumNDS := TotSumNDS + SumNDS
end.
.fields
   mc                          SrcCountry  GTDNumber ed    kol          cenaAk    akciz         sumAk         Ak     procnds Nds          SumNDS
.endfields
 Ш│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@@@@@@@@│@~@@@@@@│@~@@@│&'&&&.&&│&'&&&&&&&&.&&│&'#&&&.&&│&'&&&&&&&&.&&│&'#&&&&.&&│&#&.&&│&'#&&&&&&&.&&│&'&&&&&&&&.&&│ Ш
.} //table 'vSpStep.SpStep'
.}
.fields
  TotSumAk c2 n2 TotSumNDS
.endfields
 Ш├───────────────────────────────┴────────┴────────┴─────┴────────┴─────────────┴─────────┴─────────────┴──────────┼──────┼─────────────┼─────────────┤ Ш
 Ш│  Всего к оплате                                                                         &'&&&&&&&&.&& &'#&&&&.&&│      │&'#&&&&&&&.&&│&'&&&&&&&&.&&│ Ш
 Ш└─────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘      └─────────────┴─────────────┘ Ш
.{?Internal;(d2>0)
! Скидка
.fields
  d1 + ' ' + StringNLZR(if(d3 = ' %', d2, SkRub), 0, 3) + ' %'
  if(d3=' %', SkRub, d2)

  TotSumNDS - if(d3=' %', SkRub, d2)
  sdoc
.endfields
 Ш   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                             &'&&&&&&&&&.&& Ш
 Щ   ИТОГО к оплате                                                                                                                   &'&&&&&&&&&&&&&.&& Щ  Ш^ Ш
.}

.fields
  Director Main_Buh page_symb
.endfields
 Р        БРуководитель организации (предприятия)_____________ ^

       Гл. бухгалтер                         _____________ ^

       М.П.

       Выдал Б
       (подпись ответственного лица от поставщика)

        БПримечание. Б  ВБез печати недействительно.
       Первый экземпляр (оригинал) - покупателю.
       Второй экземпляр (копия) - продавцу. Т

.if DelimiterRozn
 Р---------------------------------------------------------------------------------------------------------------------------- Р
.end
^
.}
.endform



!===============================================================================
#doc
Счет-фактура строгой отчетности для РФ с суммой прописью - А4 (c 25.02.2000г.)
#end
.linkform 'PRBDOCR_111A' prototype is 'PrbDocR'
.NameInList 'Счет-фактура строгой отчетности для РФ с суммой прописью - А4 (c 25.02.2000г.)'
.group 'Продажа'
!----------------------------------------
.create view vSpStep
from
 SpStep   ,
 KatParty
where
 ((
   comp(PosNRec) == SpStep.nRec and
   SpStep.cParty == KatParty.nRec
 ));
!-------------------------------------------------------------------
.var
 SrcCountry,          // Новые графы СФ "Страна происхождения"
 GTDNumber : string;  //                "Номер ГТД"
.endvar
!-------------------------------------------------------------------
.var
 Akciz : double
 CenaAk : double
 SumAk  : double
 SumNDS : double
 totSumAk  : double
 totSumNDS : double
.endvar
.FIELDS
 post adpost telpost rspost mpost bpost+if(rspost2<>'', ', К/С '+rspost2, '')
 citypost
 sGetTune('KatOrg.FldView.UNN')
 innpost
 sGetTune('KatOrg.FldView.OKONH')
 okonhpost
 sGetTune('KatOrg.FldView.OKPO')
 OKPOpost
 Grpost gradpost
 grpol gradpol
! Nplras DPlras
  nomer ddoc
 pol adpol telpol rspol mpol bpol+if(rspol2<>'', ', К/С '+rspol2, '')
 citypol
 sGetTune('KatOrg.FldView.UNN')
 innpol
 sGetTune('KatOrg.FldView.OKONH')
 okonhpol
 sGetTune('KatOrg.FldView.OKPO')
 OKPOpol
 pname
!  pname1
!  pname2
.ENDFIELDS
.{

 Ш    БПоставщик Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  БТелефон Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БРасчетный счет № Б @@@@@@@@@@@@@@@@@@@@  ББИК  Б@@@@@@@@@@  Бв Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БГород Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БИдентификационный номер поставщика (@@@@@) Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БКод по @@@@@ Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БКод по @@@@@@ Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БГрузоотправитель и его адрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БГрузополучатель и его адрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БК платежно-расчетному документу № Б
!    @@@@@@@@@ от @@@@@@@@@@@@@@@@

                                   БСЧЕТ - ФАКТУРА № Б @@@@@@@@@  Бот Б @@@@@@@@@@@@@@@@

    БПокупатель Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БАдрес Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  БТелефон Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БРасчетный счет № Б @@@@@@@@@@@@@@@@@@@@  ББИК Б @@@@@@@@@@  Бв Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БГород Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БИдентификационный номер покупателя (@@@@@) Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БКод по @@@@@ Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БКод по @@@@@@ Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    БДополнение (условия   оплаты   по   договору  (контракту),  способ отправления и т.п.) Б
   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
!   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

.{ CheckEnter IsExClassRozn
.}
.{ CheckEnter IsGroupRozn
.}
   ┌───────────────────────────┬──────┬────────┬──────┬─────┬────────┬─────────────┬──────┬───────────────┬──────┬──────┬─────────────┬─────────────┐
   │       Наименование        │Страна│Номер   │Код по│Еди- │ Кол-во │    Цена     │в т.ч.│     Сумма     │в т.ч.│Ставка│    Сумма    │    Всего    │
   │         товара            │проис-│грузовой│ОКДП  │ница │        │             │акциз │               │акциз │ НДС  │     НДС     │    с НДС    │
   │                           │хожде-│таможен-│      │изме-│        │             │      │               │      │      │             │             │
   │                           │ния   │ной дек-│      │рения│        │             │      │               │      │      │             │             │
   │                           │      │ларации │      │     │        │             │      │               │      │      │             │             │
   │                           │      │        │      │     │        │             │      │               │      │      │             │             │
   ├───────────────────────────┼──────┼────────┼──────┼─────┼────────┼─────────────┼──────┼───────────────┼──────┼──────┼─────────────┼─────────────┤
   │             1             │  2   │   3    │   4  │  5  │    6   │      7      │  8   │       9       │  10  │  11  │      12     │     13      │
   └───────────────────────────┴──────┴────────┴──────┴─────┴────────┴─────────────┴──────┴───────────────┴──────┴──────┴─────────────┴─────────────┘
.begin
  TotSumAk := 0
 end.
.{
.{ table 'vSpStep.SpStep'
.begin
!--------------------------------------
#include BDBla2vp.frn
!--------------------------------------
 Akciz     := FRoundRub5(Ak / Kol)
 CenaAk    := cenabez   + if(Акциз_в_цене, 0, Akciz) -
              if(НДС_в_цене, FRoundRub5(Nds / Kol), 0)
 SumAk     := sbez      + if(Акциз_в_цене, 0, Ak) -
              if(НДС_в_цене, Nds, 0)
 TotSumAk  := TotSumAk  + SumAk
 SumNDS    := sbez      + if(НДС_в_цене, 0, Nds) +
              if(Акциз_в_цене, 0, Ak)
 TotSumNDS := TotSumNDS + SumNDS
end.
.fields
      mc                   SrcCountry GTDNumber  barkod2 ed  kol    cenaAk        akciz    sumAk           Ak     procnds Nds          SumNDS
.endfields
    @@@@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@ @~@@@@@@ @@@@@@ @@@@@ &'&&.&&& &'&&&&&&&&.&& &#&.&& &'&&&&&&&&&&.&& &'#.&& &#&.&& &'#&&&&&&&.&& &'&&&&&&&&.&&
.} //table 'vSpStep.SpStep'
.}
.fields
  TotSumAk c2 n2 TotSumNDS
.endfields

     БВсего к оплате                                                                         &'&&&&&&&&&&.&& &'#.&&        &'#&&&&&&&.&& &'&&&&&&&&.&& Б
.{?Internal;(d2>0)
! Скидка
.begin
  TotSumNDS :=TotSumNDS - if(d3=' %', SkRub, d2)
end.
.fields
  d1 + ' ' + StringNLZR(if(d3 = ' %', d2, SkRub), 0, 3) + ' %'
  if(d3=' %', SkRub, d2)

  TotSumNDS
  sdoc
.endfields
     Б@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                           &'&&&&&&&&.&& Б
     БИТОГО к оплате                                                                                                                &'&&&&&&&&&&&&&.&& Б ^
.}
.fields
  DoubleToString(comp(0), FRoundRub5(TotSumNDS))
.endfields
     БПрописью: Б@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

.fields
  Director
  Main_Buh
  page_symb
.endfields
                      БРуководитель предприятия_____________ ^
                     Гл. бухгалтер           _____________ ^

                                                      М.П.

                     ПОЛУЧИЛ                                                     ВЫДАЛ Б

.if DelimiterRozn
 И---------------------------------------------------------------------------------------------------------------------------- И
.end
^ Ш
.}
.endform