/*
 ╔══════════════════════════════════════════════════════════════════════════╗
 ║                     (c) Корпорация ГАЛАКТИКА, 1996,97                    ║
 ║ Проект        : ГАЛАКТИКА                                                ║
 ║ Система       : Оперативный контур                                       ║
 ║ Версия        : 5.20                                                     ║
 ║  Назначение   : Отчет об остатках консигнационного товара с группировкой ║
 ║                 по группам товаров                                       ║
 ║ Ответственный : Скороход Димтрий Владимирович (SDV)                      ║
 ╚══════════════════════════════════════════════════════════════════════════╝
*/
#doc
Отчет об остатках консигнационного товара с группировкой
по группам товаров
#end
.set name='c_group'
.hide
.var
  СуммаПоГруппе : double
  СуммаПоВедомости : double
.endvar
.fields
  Дата   ГруппаТоваров  МЦ ЕдиницаИзмерения  НомерДокумента Партия
  Количество : double
.endfields
^
.begin
  СуммаПоВедомости := 0
 end.
.{ CheckEnter c_Group_Group_LOOP
.begin
  СуммаПоГруппе := 0
 end.
^
.{ CheckEnter c_Group_TMC_LOOP
^^
.{ CheckEnter c_Group_Party_LOOP
^^^
.begin
  СуммаПоГруппе := СуммаПоГруппе + Количество
 end.
.}
.}
.begin
  СуммаПоВедомости := СуммаПоВедомости + СуммаПоГруппе
 end.
.}
.endform

#doc
Отчет наличия консигнационного товара
#end
.linkform 'c_group_1a' prototype is c_group
.nameinlist 'Отчет наличия консигнационного товара'
.fields
  CommonFormHeader
  Дата   ГруппаТоваров  МЦ ЕдиницаИзмерения  НомерДокумента Партия
  Количество
  СуммаПоГруппе
  СуммаПоВедомости
.endfields
 Р^ Р
                  БОстатки консигнационного товара на  Б^
.{ CheckEnter c_Group_Group_LOOP
 И@~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
────────────────────────┬─────────┬─────────────┬───────────────┬──────────────
      Наименование      │ Ед.Изм. │  Документ   │    Партия     │  Количество
────────────────────────┴─────────┴─────────────┴───────────────┴────────────── И
.{ CheckEnter c_Group_TMC_LOOP
.{ CheckEnter c_Group_Party_LOOP
 И@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@ @@@@@@@@@@@@@ @@@@@@@@@@@@@@@ &&&&&&&&&&.&&& И
.}
.}
 ЙВсего по группе                                                  &&&&&&&&&&.&&& Й
.}
 И───────────────────────────────────────────────────────────────────────────────
 БВсего по ведомости                                               &&&&&&&&&&.&&& Й
.endform
