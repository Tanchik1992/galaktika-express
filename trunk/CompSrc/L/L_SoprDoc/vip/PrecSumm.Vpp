!ษอออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
!บ งญ็ฅญจฅ    : ก้จฅ ฏเฎๆฅคใเ๋ คซ๏ ใแโญฎขชจ โฎ็ญฎแโจ ข๋ขฎค แใฌฌ        บ
!บ                 ข งขจแจฌฎแโจ ฎโ ญแโเฎฉชจ                                บ
!ศอออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ

// ขฎงขเ้ฅโ ชฎซ-ขฎ งญชฎข ฏฎแซฅ งฏ๏โฎฉ
Function GetKolZnak(varR :double):word;
{
  case varR of
    0.00001: GetKolZnak := 5;
    0.0001 : GetKolZnak := 4;
    0.001  : GetKolZnak := 3;
    0.01   : GetKolZnak := 2;
    0.1    : GetKolZnak := 1;
    1      : GetKolZnak := 0;
    else     GetKolZnak := 2;
  end; // case
}

// ใแโญฎขจโ์ โฎ็ญฎแโ์ ข๋ขฎค แใฌฌ ข งขจแจฌฎแโจ ฎโ ญแโเฎฉชจ
Procedure SetRoundFormat( varTipDoc : word; brFor_Price : string; brFor_VPrice : string);
{
  SetPrecisionGroup(brFor_Price,  word(2));
  SetPrecisionGroup(brFor_VPrice, word(4));
  case varTipDoc of
    150, 
    160 :
      if (wGetTune('Round.Order') <> 0)
        {
          SetPrecisionGroup(brFor_Price , GetKolZnak(doGetTune('Round.OrderRub')));
          SetPrecisionGroup(brFor_VPrice, GetKolZnak(doGetTune('Round.OrderVal')));
        };
    250, 
    260 :
      {
        SetPrecisionGroup(brFor_Price,  word(6));
        SetPrecisionGroup(brFor_VPrice, word(6));
      };
  end;
}
