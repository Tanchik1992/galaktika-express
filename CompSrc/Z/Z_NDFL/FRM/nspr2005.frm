//-----------------------------------------------------------------------------
//                                                     (c) корпорация ГАЛАКТИКА
// Галактика 7.12 - заработная плата
// НДФЛ-2
//-----------------------------------------------------------------------------
#doc
НДФЛ-2
#end
.set name = 'nspr2005'
.hide
.set filler = '-'
.fields
Otch2005
RGUID
дата_документа: date
номер_файла
имя_файла
Реестр_имя_файла
должность_отправителя
Буква_я
Фамилия_отправителя
Имя_отправителя
Отчество_отправителя
Тел_отправителя
количество_документов
.endfields
^^^^^^^^^^^^^
.fields
год_за_который_отчет
Номер
код_ГНИ
nRec_IP
ИНН_работодателя
КПП_работодателя
телефон_работодателя
название_работодателя
Фамилия_ИП
Имя_ИП
Отчество_ИП
ОКАТО_предприятия

nrec_lschet
ИНН_налогоплательщика
Фамилия_налогоплательщика
Имя_налогоплательщика
Отчество_налогоплательщика

статус
Пол
дата_рождения
Гражданство

код_документа_удостоверяющего_личность
СерияНомДок

Код_страны_прописки
Адрес_прописки
Индекс_РФ
код_региона_РФ
район_РФ
город_РФ
населенный_пункт_РФ
улица_РФ
дом_РФ
корпус_РФ
квартира_РФ
Stavka
.endfields
.{ nspr2005_Work CheckEnter
!год_за_который_отчет
^
!Номер
^
!код_ГНИ
^
!nRec_IP nrec индивид. предпринимателя
^
!ИНН_работодателя
^
!КПП_работодателя
^
!телефон_работодателя
^
!название_работодателя, ОКАТО_предприятия
^^
!Фамилия_ИП
!Имя_ИП
!Отчество_ИП
^^^ 
!nrec_lschet
^
!ИНН_налогоплательщика
^
!Фамилия_налогоплательщика
^
!Имя_налогоплательщика
^
!Отчество_налогоплательщика
^
!статус
^
!Пол
^
!дата_рождения
^
!Гражданство
^
!код_документа_удостоверяющего_личность
^
!СерияНомДок
^
!Код_страны_прописки
^
!Адрес_прописки
^
!Индекс_РФ
^
!код_региона_РФ
^
!район_РФ
^
!город_РФ
^
!населенный_пункт_РФ
^
!улица_РФ
^
!дом_РФ
^
!корпус_РФ
^
!квартира_РФ
^

3. Доходы, облагаемые налогом по ставке ^ %

.fields
 Mes31  Доход31_код Доход31_сум Вычет31_код Вычет31_сум
 Mes32  Доход32_код Доход32_сум Вычет32_код Вычет32_сум
.endfields
                     
.{  nspr2005_Cycle13and30 CheckEnter
     ^^^^^ ^^^^^
.}

.{ nspr2005_Stand CheckEnter
.fields
 PrizSt
 PrizImu
 Код_стандарт_вычета1 Сумма_стандарт_вычета1
 Код_стандарт_вычета2 Сумма_стандарт_вычета2
 Код_стандарт_вычета3 Сумма_стандарт_вычета3
 Код_стандарт_вычета4 Сумма_стандарт_вычета4

 Код_имущ_вычета1 Сумма_имущ_вычета1
 Код_имущ_вычета2 Сумма_имущ_вычета2
 Код_имущ_вычета3 Сумма_имущ_вычета3
 Код_имущ_вычета4 Сумма_имущ_вычета4
 Код_имущ_вычета5 Сумма_имущ_вычета5

 Номер_уведомления
 Дата_уведомления
 Выдано_уведомление
 Всего_Cумма_стандарт_вычета
 Всего_Cумма_имущ_вычета
.endfields
^^
Код*    Сумма вычета    Код*    Сумма вычета    Код*    Сумма вычета    Код*    Сумма вычета
Вычета          вычета          вычета
.{ nspr2005_SVychLoop CheckEnter
^ ^ ^ ^   ^ ^ ^ ^
.}

^^ ^^ ^^ ^^ ^^
^ ^ ^
^ ^
.}

5. Общая сумма дохода и налога на доходы по итогам налогового периода
.fields
Доход5_1: double   
Доход5_2   
Не_работник 
Налог2620: double 
Налог5_3: double 
Налог5_4: double
Налог5_5   
Налог5_6   
Налог5_7
.endfields
5.1. Общая сумма дохода        ^ 5.2. Облагаемая сумма  дохода     ^
^^
5.3. Сумма налога  исчисленная ^ 5.4. Сумма налога  удержанная     ^
5.5. Сумма возврата налога по перерасчету с доходов прошлых лет   &'&&&&&&&&&&&&&&&
5.6. Сумма, зачтенная при уплате налога по перерасчету с доходов прошлых лет       &'&&&&&&&&&&&&&&&
5.7. Сумма, удержанная при уплате налога по перерасчету с доходов прошлых лет   &'&&&&&&&&&&&&&&&
5.8. Задолженность по налогу за налогоплательщиком
5.9. Сумма налога, излишне удержанная налоговым агентом
5.10. Сумма налога, переданная на взыскание в налоговый орган
6. Сведения о перечислении налога в бюджет
.fields
OKATO1  Kod_Bud1  Summa_Perech1
OKATO2  Kod_Bud2  Summa_Perech2
.endfields
Код ОКАТО       Код бюджетной
классификации   Сумма
перечисленного
налога  Код ОКАТО       Код бюджетной
классификации   Сумма
перечисленного
налога
^       ^       &'&&&&&&&&&&&&&&        ^       ^       &'&&&&&&&&&&&&&&
Реквизиты, отмеченные знаком <*>, выбираются из соответствующих справочников
.fields
ФИО_бухгалтера
.endfields

Налоговый агент ____________________    ^
        (подпись)       (Ф.И.О)
              М.П.


.}
.begin
 nspr2005.fExit;
end.
.endform
!
!
!
.Linkform 'nspr2005_01_XML' prototype 'nspr2005'
.nameinlist 'Файл обмена в формате XML'
.group '2006'
.var
 RИНН_работодателя1:      string
 RИНН_работодателя2:      string
 RКПП_работодателя1:      string
 RКПП_работодателя2:      string
 Rдата_документа:         date
 Rназвание_работодателя:  string
 Rназвание_работодателя1: string
 RДолг5_8:                double;
 RДолг5_9:                double;
 RВзыск5_10:              double;
 Rгражданство:            string;
 RMes31:                  string;
 RMes32:                  string;
 RБуква_я:                string;
 RPrizSt, RPrizImu:       string;
  
.endvar
.begin
  RИНН_работодателя1 := ИНН_работодателя
  RИНН_работодателя2 := ИНН_работодателя
  RКПП_работодателя1 := КПП_работодателя
  RКПП_работодателя2 := КПП_работодателя
  Rдата_документа := дата_документа
  Rназвание_работодателя  := название_работодателя
  Rназвание_работодателя1 := название_работодателя
  RБуква_я := Буква_я

end.
<?xml version="1.0" encoding="windows-1251"?>
<═─╘╦2 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:noNamespaceSchemaLocation="─╬╒╬─_2═─╘╦_01.xsd">
.fields
 RGUID
 дата_документа
 код_ГНИ
 OEM2ANSI(название_работодателя)
 ИНН_работодателя
 КПП_работодателя
 Тел_отправителя
 OEM2ANSI(должность_отправителя)
 Буква_я
 OEM2ANSI(Фамилия_отправителя)
 RБуква_я
 RБуква_я
 OEM2ANSI(Имя_отправителя)
 RБуква_я
 OEM2ANSI(Отчество_отправителя)
.endfields
<╤ы╫рёЄ>
<╬с∙╤т╤╫>
<╚ф╘рщы>
<GUID>^</GUID>
<─рЄр>^</─рЄр>
</╚ф╘рщы>
<╥шя╚эЇ>─╬╒╬─</╥шя╚эЇ>
<┬хЁё╘юЁь>4.00</┬хЁё╘юЁь>
<╚ф╧юы>^</╚ф╧юы>
!<┬хЁё╧Ёюу>═╧ 9.30</┬хЁё╧Ёюу>
</╬с∙╤т╤╫>
<╤т╬ЄяЁ>
<╬ЄяЁртшЄхы№>
<▐╦>
<═ршь╬Ёу>^</═ршь╬Ёу>
<╚══▐╦>^</╚══▐╦>
<╩╧╧>^</╩╧╧>
</▐╦>
</╬ЄяЁртшЄхы№>
.{?INTERNAL; (Trim(Тел_отправителя) <> '')
<╥хы╬ЄяЁ>^</╥хы╬ЄяЁ>
.}
<─юыцэ╬ЄяЁ>^</─юыцэ╬ЄяЁ>
<╘╚╬╬ЄяЁ>
<╘рьшыш^>^</╘рьшыш^>
<╚ь^>^</╚ь^>
.{?INTERNAL; (Trim(OEM2ANSI(Отчество_отправителя)) <> '')
<╬ЄўхёЄтю>^</╬ЄўхёЄтю>
.}
.{?INTERNAL; (Trim(OEM2ANSI(Отчество_отправителя)) = '')
<╬ЄўхёЄтю/>
.}
</╘╚╬╬ЄяЁ>
</╤т╬ЄяЁ>
</╤ы╫рёЄ>
.{ nspr2005_Work CheckEnter
.fields
 RИНН_работодателя1
 RКПП_работодателя1
 год_за_который_отчет
 Номер
 datetostr(Rдата_документа,'DD.MM.YYYY')
 OEM2ANSI(Rназвание_работодателя1)
 RИНН_работодателя2
 RКПП_работодателя2
 телефон_работодателя
.endfields
<╚эЇ╫рёЄ>
<╬с∙╤т╚╫>
<╚ф─юъ>
<╚ф╬ЄяЁ>
<╚ф╬ЄяЁ▐╦>
<╚══▐╦>^</╚══▐╦>
<╩╧╧>^</╩╧╧>
</╚ф╬ЄяЁ▐╦>
</╚ф╬ЄяЁ>
<├юф─юї>^</├юф─юї>
<═юь─юъ>^</═юь─юъ>
</╚ф─юъ>
<─рЄр─юъ>^</─рЄр─юъ>
</╬с∙╤т╚╫>
<╚ёЄ─юї>
<▐╦>
<═ршь╬Ёу>^</═ршь╬Ёу>
<╚══▐╦>^</╚══▐╦>
<╩╧╧>^</╩╧╧>
</▐╦>
.{?INTERNAL; (Trim(телефон_работодателя) <> '')
<╥хыхЇюэ>^</╥хыхЇюэ>
.}
</╚ёЄ─юї>
.fields
 ИНН_налогоплательщика
 RБуква_я
 OEM2ANSI(Фамилия_налогоплательщика)
 RБуква_я
 RБуква_я
 OEM2ANSI(Имя_налогоплательщика)
 RБуква_я
 OEM2ANSI(Отчество_налогоплательщика)
 статус
 Пол
 код_документа_удостоверяющего_личность
 OEM2ANSI(СерияНомДок)
 дата_рождения
 RГражданство
 Индекс_РФ
 код_региона_РФ
 OEM2ANSI(район_РФ)
 OEM2ANSI(город_РФ)
 OEM2ANSI(населенный_пункт_РФ)
 OEM2ANSI(улица_РФ)
 OEM2ANSI(дом_РФ)
 OEM2ANSI(корпус_РФ)
 OEM2ANSI(квартира_РФ)
 Код_страны_прописки
 OEM2ANSI(Адрес_прописки)
.endfields
.begin
   Rгражданство :=  Гражданство;
   if (Rгражданство = '') and (Статус = '1')
     Rгражданство := '643'
 end.
<╘шч╦шЎю>
.{?INTERNAL; (Trim(ИНН_налогоплательщика) <> '')
<╚══╘╦>^</╚══╘╦>
.}
<╘╚╬>
<╘рьшыш^>^</╘рьшыш^>
<╚ь^>^</╚ь^>
.{?INTERNAL; (Trim(OEM2ANSI(Отчество_налогоплательщика)) <> '')
<╬ЄўхёЄтю>^</╬ЄўхёЄтю>
.}
.{?INTERNAL; (Trim(OEM2ANSI(Отчество_налогоплательщика)) = '')
<╬ЄўхёЄтю/>
.}
</╘╚╬>
<╤ЄрЄєё>^</╤ЄрЄєё>
<╧юы>^</╧юы>
<╙ф╦шўэ>
<╩юф╙ф╦шўэ>^</╩юф╙ф╦шўэ>
<╤хЁ═юь>^</╤хЁ═юь>
</╙ф╦шўэ>
<─рЄр╨юцф>^</─рЄр╨юцф>
<├ЁрцфрэёЄтю>^</├ЁрцфрэёЄтю>
.{?INTERNAL; (статус <> '1') and (Адрес_прописки = '' ) or (статус = '1')
<└фЁ╨╘>
<╚эфхъё>^</╚эфхъё>
<╩юф╨хушюэ>^</╩юф╨хушюэ>
.{?INTERNAL; (Trim(OEM2ANSI(район_РФ)) <> '')
<╨рщюэ>^</╨рщюэ>
.}
.{?INTERNAL; (Trim(OEM2ANSI(район_РФ)) = '')
<╨рщюэ/>
.}
.{?INTERNAL; (Trim(OEM2ANSI(город_РФ)) <> '')
<├юЁюф>^</├юЁюф>
.}
.{?INTERNAL; (Trim(OEM2ANSI(город_РФ)) = '')
<├юЁюф/>
.}
.{?INTERNAL; (Trim(OEM2ANSI(населенный_пункт_РФ)) <> '')
<═рё╧єэъЄ>^</═рё╧єэъЄ>
.}
.{?INTERNAL; (Trim(OEM2ANSI(населенный_пункт_РФ)) = '')
<═рё╧єэъЄ/>
.}
.{?INTERNAL; (Trim(OEM2ANSI(улица_РФ)) <> '')
<╙ышЎр>^</╙ышЎр>
.}
.{?INTERNAL; (Trim(OEM2ANSI(улица_РФ)) = '')
<╙ышЎр/>
.}
.{?INTERNAL; (Trim(OEM2ANSI(дом_РФ)) <> '')
<─юь>^</─юь>
.}
.{?INTERNAL; (Trim(OEM2ANSI(дом_РФ)) = '')
<─юь/>
.}
.{?INTERNAL; (Trim(OEM2ANSI(корпус_РФ)) <> '')
<╩юЁя>^</╩юЁя>
.}
.{?INTERNAL; (Trim(OEM2ANSI(корпус_РФ)) = '')
<╩юЁя/>
.}
.{?INTERNAL; (Trim(OEM2ANSI(квартира_РФ)) <> '')
<╩трЁЄшЁр>^</╩трЁЄшЁр>
.}
.{?INTERNAL; (Trim(OEM2ANSI(квартира_РФ)) = '')
<╩трЁЄшЁр/>
.}
</└фЁ╨╘>
.}
.{?INTERNAL; (статус <> '1') and (Адрес_прописки <> '')
<└фЁ╚эю>
<╩юф╤ЄЁ>^</╩юф╤ЄЁ>
<└фЁ╥хъёЄ>^</└фЁ╥хъёЄ>
</└фЁ╚эю>
.}
</╘шч╦шЎю>
.fields
Stavka
.endfields
<─юїюф√>
<╤Єртър>^</╤Єртър>
.fields
 RMes31
 Доход31_код
 Доход31_сум
.endfields
.{  nspr2005_Cycle13and30 CheckEnter
<─юї┬√ў>
.begin
   RMes31 := Mes31
   if length(Mes31) < 2
     RMes31 := '0'+ Mes31
end.
<═юь╠хё>^</═юь╠хё>
<╩юф─юїюф>^</╩юф─юїюф>
<╤єь─юїюф>^</╤єь─юїюф>
.{?INTERNAL;(Double(Вычет31_сум) <> 0)
.fields
 Вычет31_код
 Вычет31_сум
.endfields
<╩юф┬√ўхЄ>^</╩юф┬√ўхЄ>
<╤єь┬√ўхЄ>^</╤єь┬√ўхЄ>
.}
</─юї┬√ў>
.{?INTERNAL;(Double(Доход32_сум) <> 0)
.fields
 RMes32
 Доход32_код
 Доход32_сум
.endfields
<─юї┬√ў>
.begin
   RMes32 :=  Mes32
   if length(Mes32) < 2
     RMes32 := '0'+ Mes32
end.
<═юь╠хё>^</═юь╠хё>
<╩юф─юїюф>^</╩юф─юїюф>
<╤єь─юїюф>^</╤єь─юїюф>
.{?INTERNAL;(Double(Вычет32_сум) <> 0)
.fields
 Вычет32_код Вычет32_сум
.endfields
<╩юф┬√ўхЄ>^</╩юф┬√ўхЄ>
<╤єь┬√ўхЄ>^</╤єь┬√ўхЄ>
.}
</─юї┬√ў>
.}
.}
</─юїюф√>
.{ nspr2005_Stand CheckEnter
.fields
 Код_стандарт_вычета1
 Сумма_стандарт_вычета1
 Код_стандарт_вычета2
 Сумма_стандарт_вычета2
 Код_стандарт_вычета3
 Сумма_стандарт_вычета3
 Код_стандарт_вычета4
 Сумма_стандарт_вычета4
 OEM2ANSI(Номер_уведомления)
 Дата_уведомления
 OEM2ANSI(Выдано_уведомление)
 Всего_Cумма_стандарт_вычета
 Всего_Cумма_имущ_вычета
.endfields
.begin
  RPrizSt := PrizSt
  RPrizImu := PrizImu
end.
.{ nspr2005_SVychLoop CheckEnter
.{?INTERNAL; (RPrizSt = '1') or (RPrizImu = '1')
<╤Єрэф╚ьє∙┬√ўхЄ>
.begin
RPrizSt := '0'
end.
.}
.{?INTERNAL;(Double(Сумма_стандарт_вычета1) <> 0)
<╧Ёртю┬√ў>
<╩юф┬√ўхЄ>^</╩юф┬√ўхЄ>
<╤єь┬√ўхЄ>^</╤єь┬√ўхЄ>
</╧Ёртю┬√ў>
.}
.{?INTERNAL;(Double(Сумма_стандарт_вычета2) <> 0)
<╧Ёртю┬√ў>
<╩юф┬√ўхЄ>^</╩юф┬√ўхЄ>
<╤єь┬√ўхЄ>^</╤єь┬√ўхЄ>
</╧Ёртю┬√ў>
.}
.{?INTERNAL;(Double(Сумма_стандарт_вычета3) <> 0)
<╧Ёртю┬√ў>
<╩юф┬√ўхЄ>^</╩юф┬√ўхЄ>
<╤єь┬√ўхЄ>^</╤єь┬√ўхЄ>
</╧Ёртю┬√ў>
.}
.{?INTERNAL;(Double(Сумма_стандарт_вычета4) <> 0)
<╧Ёртю┬√ў>
<╩юф┬√ўхЄ>^</╩юф┬√ўхЄ>
<╤єь┬√ўхЄ>^</╤єь┬√ўхЄ>
</╧Ёртю┬√ў>
.}
!nspr2005_SVychLoop CheckEnter
.}
.{?INTERNAL;(Double(Всего_Cумма_имущ_вычета) <> 0)
<═юьхЁ╙тхф>^</═юьхЁ╙тхф>
<─рЄр╙тхф>^</─рЄр╙тхф>
<╚╘═╤>^</╚╘═╤>
.}
.{?INTERNAL; ((Double(Всего_Cумма_стандарт_вычета) <> 0) or (Double(Всего_Cумма_имущ_вычета) <> 0))
<╤єь╤Є═ры┬√ў>^</╤єь╤Є═ры┬√ў>
<╤єь╚ьє┬√ў>^</╤єь╚ьє┬√ў>
</╤Єрэф╚ьє∙┬√ўхЄ>
! nspr2005_Stand CheckEnter
.}
.}
.begin
 RВзыск5_10 := 0;
 RДолг5_8 :=  0;
 RДолг5_9 := 0;
 If  Trim (Не_работник)  <> '1'
 {
   if  Double(Налог5_3)  > Double(Налог5_4)
     RДолг5_8 := Double(Налог5_3) - Double(Налог5_4) - Double(Налог5_6)
   else
     RДолг5_9 := Double(Налог5_4) - Double(Налог5_3) - Double(Налог5_7);

   RВзыск5_10 := Налог2620
 }
 else
!не работник предприятия
!вся сумма исчисленного налога не работника предприятия идет на взыскание  
!прибавим еще и сумму исчисленного, но не удержанного налога  
   if  Double(Налог5_3)  > Double(Налог5_4)
      RВзыск5_10 :=  Double(Налог5_3) - Double(Налог5_4)
end.
.fields
 Доход5_1
 Доход5_2
 Налог5_3
 Налог5_4
 Налог5_5
 Налог5_6
 Налог5_7
 RДолг5_8
 RДолг5_9
 RВзыск5_10
.endfields
<╤├─═ры╧хЁ>
<╤├─╤єьь>^</╤├─╤єьь>
<╬сы╤єьь>^</╬сы╤єьь>
<═╚╬сы╤єьь>^</═╚╬сы╤єьь>
<═╙╬сы╤єьь>^</═╙╬сы╤єьь>
<┬ючтЁ╚╘═╤╧╦>^</┬ючтЁ╚╘═╤╧╦>
<╟рў╤єьь╧╦>^</╟рў╤єьь╧╦>
<╙ф╤єьь╧╦>^</╙ф╤єьь╧╦>
<─юыу═╧>^</─юыу═╧>
<─юыу═└>^</─юыу═└>
<┬ч√ёъ╚╘═╤>^</┬ч√ёъ╚╘═╤>
</╤├─═ры╧хЁ>
.fields
 OKATO1
 Kod_Bud1
 Summa_Perech1
.endfields
<╧хЁ═ры┴■фц>
<╬╩└╥╬>^</╬╩└╥╬>
<╩┴╩>^</╩┴╩>
<╤єь╧хЁ═ры>^</╤єь╧хЁ═ры>
!<ОКАТО></ОКАТО>
!<КБК>^</КБК>
!<СумПерНал></СумПерНал>
</╧хЁ═ры┴■фц>
</╚эЇ╫рёЄ>
.}
</═─╘╦2>
.endform
!
!
!
.Linkform 'nspr2005_02_XML' prototype 'nspr2005'
.nameinlist 'Файл обмена в формате XML c 2006 года'
.group '2007'
.var
 Rназваие_работодателя:   string
 Rназваие_работодателя1:  string
 RДолг5_8:                double;
 RДолг5_9:                double;
 RВзыск5_10:              double;
 Rгражданство:            string;
 RMes31:                  string;
 RMes32:                  string;
 RБуква_я:                string;
 RPrizSt, RPrizStConst:   string;
 RPrizImu:                string;
.endvar
.begin
  RБуква_я := Буква_я
end.
.fields
имя_файла
.endFields
<?xml version="1.0" encoding="windows-1251"?>
<═─╘╦2 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ┬хЁё╘юЁь="4.00001" ┬хЁё╧Ёюу="4.214"
╚ф╘рщы="^">
.fields
 год_за_который_отчет 
 номер
 дата_документа
 код_ГНИ
.endfields
.{ nspr2005_Work CheckEnter
<╤яЁртър>
<╬с∙╤т╚╫>
<├юф─юї>^</├юф─юї>
<═юь╤яЁ>^</═юь╤яЁ>
<─рЄр╤яЁ>^</─рЄр╤яЁ>
<╚╘═╤═└>^</╚╘═╤═└>
</╬с∙╤т╚╫>
<╚ёЄ─юї>
.{?INTERNAL; (nrec_ip = 0)
.fields
 ИНН_работодателя
 КПП_работодателя
 OEM2ANSI(название_работодателя)
 ОКАТО_предприятия
 Телефон_работодателя
.endfields
<╤т═└▐╦>
<╚══▐╦>^</╚══▐╦>
<╩╧╧>^</╩╧╧>
<═ршь╬Ёу>^</═ршь╬Ёу>
<╬╩└╥╬>^</╬╩└╥╬>
.{?INTERNAL; (Trim(Телефон_работодателя) <> '')
<╥хыхЇюэ>^</╥хыхЇюэ>
.}
</╤т═└▐╦>
.}
.{?INTERNAL; (nrec_ip <> 0)
.fields
 ИНН_работодателя
 RБуква_я
 OEM2ANSI(Фамилия_ИП)
 RБуква_я
 RБуква_я
 OEM2ANSI(Имя_ИП)
 RБуква_я
 OEM2ANSI(Отчество_ИП)
 ОКАТО_предприятия
 Телефон_работодателя
.endfields
<╤т═└╘╦>
<╚══╘╦>^</╚══╘╦>
<╘╚╬╘╦>
<╘рьшыш^>^</╘рьшыш^>
<╚ь^>^</╚ь^>
.{?INTERNAL; (Trim(OEM2ANSI(Отчество_ИП)) <> '')
<╬ЄўхёЄтю>^</╬ЄўхёЄтю>
.}
.{?INTERNAL; (Trim(OEM2ANSI(Отчество_ИП)) = '')
<╬ЄўхёЄтю/>
.}
</╘╚╬╘╦>
<╬╩└╥╬>^</╬╩└╥╬>
.{?INTERNAL; (Trim(Телефон_работодателя) <> '')
<╥хыхЇюэ>^</╥хыхЇюэ>
.}
</╤т═└╘╦>
.}
</╚ёЄ─юї>
.fields
 ИНН_налогоплательщика
 RБуква_я
 OEM2ANSI(Фамилия_налогоплательщика)
 RБуква_я
 RБуква_я
 OEM2ANSI(Имя_налогоплательщика)
 RБуква_я
 OEM2ANSI(Отчество_налогоплательщика)
 статус
 дата_рождения
 RГражданство
 код_документа_удостоверяющего_личность
 OEM2ANSI(СерияНомДок)
 Индекс_РФ
 код_региона_РФ
 OEM2ANSI(район_РФ)
 OEM2ANSI(город_РФ)
 OEM2ANSI(населенный_пункт_РФ)
 OEM2ANSI(улица_РФ)
 OEM2ANSI(дом_РФ)
 OEM2ANSI(корпус_РФ)
 OEM2ANSI(квартира_РФ)
 Код_страны_прописки
 OEM2ANSI(Адрес_прописки)
.endfields
.begin
   Rгражданство :=  Гражданство;
   if (Rгражданство = '') and (Статус = '1')
     Rгражданство := '643'
 end.
<╧юыєў─юї>
.{?INTERNAL; (Trim(ИНН_налогоплательщика) <> '')
<╚══╘╦>^</╚══╘╦>
.}
<╘╚╬>
<╘рьшыш^>^</╘рьшыш^>
<╚ь^>^</╚ь^>
.{?INTERNAL; (Trim(OEM2ANSI(Отчество_налогоплательщика)) <> '')
<╬ЄўхёЄтю>^</╬ЄўхёЄтю>
.}
.{?INTERNAL; (Trim(OEM2ANSI(Отчество_налогоплательщика)) = '')
<╬ЄўхёЄтю/>
.}
</╘╚╬>
<╤ЄрЄєё>^</╤ЄрЄєё>
<─рЄр╨юцф>^</─рЄр╨юцф>
<├ЁрцфрэёЄтю>^</├ЁрцфрэёЄтю>
<╙ф╦шўэ>
<╩юф╙ф╦шўэ>^</╩юф╙ф╦шўэ>
<╤хЁ═юь─юъ>^</╤хЁ═юь─юъ>
</╙ф╦шўэ>
.{?INTERNAL; (trim(Индекс_РФ) <> '') or (trim(код_региона_РФ) <> '')
<└фЁ╠╞╨╘>
<╚эфхъё>^</╚эфхъё>
<╩юф╨хушюэ>^</╩юф╨хушюэ>
.{?INTERNAL; (Trim(OEM2ANSI(район_РФ)) <> '')
<╨рщюэ>^</╨рщюэ>
.}
.{?INTERNAL; (Trim(OEM2ANSI(район_РФ)) = '')
<╨рщюэ/>
.}
.{?INTERNAL; (Trim(OEM2ANSI(город_РФ)) <> '')
<├юЁюф>^</├юЁюф>
.}
.{?INTERNAL; (Trim(OEM2ANSI(город_РФ)) = '')
<├юЁюф/>
.}
.{?INTERNAL; (Trim(OEM2ANSI(населенный_пункт_РФ)) <> '')
<═рё╧єэъЄ>^</═рё╧єэъЄ>
.}
.{?INTERNAL; (Trim(OEM2ANSI(населенный_пункт_РФ)) = '')
<═рё╧єэъЄ/>
.}
.{?INTERNAL; (Trim(OEM2ANSI(улица_РФ)) <> '')
<╙ышЎр>^</╙ышЎр>
.}
.{?INTERNAL; (Trim(OEM2ANSI(улица_РФ)) = '')
<╙ышЎр/>
.}
.{?INTERNAL; (Trim(OEM2ANSI(дом_РФ)) <> '')
<─юь>^</─юь>
.}
.{?INTERNAL; (Trim(OEM2ANSI(дом_РФ)) = '')
<─юь/>
.}
.{?INTERNAL; (Trim(OEM2ANSI(корпус_РФ)) <> '')
<╩юЁяєё>^</╩юЁяєё>
.}
.{?INTERNAL; (Trim(OEM2ANSI(корпус_РФ)) = '')
<╩юЁяєё/>
.}
.{?INTERNAL; (Trim(OEM2ANSI(квартира_РФ)) <> '')
<╩трЁЄ>^</╩трЁЄ>
.}
.{?INTERNAL; (Trim(OEM2ANSI(квартира_РФ)) = '')
<╩трЁЄ/>
.}
</└фЁ╠╞╨╘>
.}
.{?INTERNAL; (trim(Адрес_прописки) <> '') or (trim(Код_страны_прописки) <> '')
<└фЁ╚═╬>
<╩юф╤ЄЁ>^</╩юф╤ЄЁ>
<└фЁ╥хъёЄ>^</└фЁ╥хъёЄ>
</└фЁ╚═╬>
.}
</╧юыєў─юї>
<╤т─юї╤Єрт>
.fields
Stavka
.endfields
<╤Єртър>^</╤Єртър>
.fields
 RMes31
 Доход31_код
 Доход31_сум
.endfields
.{  nspr2005_Cycle13and30 CheckEnter
<─юї┬√ў>
.begin
   RMes31 := Mes31
   if length(Mes31) < 2
     RMes31 := '0'+ Mes31
end.
<═юь╠хё>^</═юь╠хё>
<╩юф─юїюф>^</╩юф─юїюф>
<╤єь─юїюф>^</╤єь─юїюф>
.{?INTERNAL;(Double(Вычет31_сум) <> 0)
.fields
 Вычет31_код
 Вычет31_сум
.endfields
<╩юф┬√ўхЄ>^</╩юф┬√ўхЄ>
<╤єь┬√ўхЄ>^</╤єь┬√ўхЄ>
.}
</─юї┬√ў>
.{?INTERNAL;(Double(Доход32_сум) <> 0)
.fields
 RMes32
 Доход32_код
 Доход32_сум
.endfields
<─юї┬√ў>
.begin
   RMes32 :=  Mes32
   if length(Mes32) < 2
     RMes32 := '0'+ Mes32
end.
<═юь╠хё>^</═юь╠хё>
<╩юф─юїюф>^</╩юф─юїюф>
<╤єь─юїюф>^</╤єь─юїюф>
.{?INTERNAL;(Double(Вычет32_сум) <> 0)
.fields
 Вычет32_код Вычет32_сум
.endfields
<╩юф┬√ўхЄ>^</╩юф┬√ўхЄ>
<╤єь┬√ўхЄ>^</╤єь┬√ўхЄ>
.}
</─юї┬√ў>
.}
.}
.begin
  RPrizSt := '0'
  RPrizStConst := '0'
  RPrizImu := '0'
end.
.{ nspr2005_Stand CheckEnter
.fields
 Код_стандарт_вычета1
 Сумма_стандарт_вычета1
 Код_стандарт_вычета2
 Сумма_стандарт_вычета2
 Код_стандарт_вычета3
 Сумма_стандарт_вычета3
 Код_стандарт_вычета4
 Сумма_стандарт_вычета4
 Всего_Cумма_стандарт_вычета
.endfields
.begin
  RPrizSt := PrizSt
  RPrizStConst := PrizSt
  RPrizImu := PrizImu
end.
.{?INTERNAL; (RPrizSt = '1')  
<╤Єрэф┬√ў>
.begin
RPrizSt := '0'
end.
.}
.{ nspr2005_SVychLoop CheckEnter
!.{?INTERNAL; (RPrizSt = '1')
!<╤Єрэф┬√ў>
!.begin
!RPrizSt := '0'
!end.
!.}
.{?INTERNAL; (Double(Сумма_стандарт_вычета1) <> 0)and((Код_стандарт_вычета1 = '101')or(Код_стандарт_вычета1 = '102')or(Код_стандарт_вычета1 = '103')or(Код_стандарт_вычета1 = '104')or(Код_стандарт_вычета1 = '105') or (Код_стандарт_вычета1 = '106') or (Код_стандарт_вычета1 = '107')or(Код_стандарт_вычета1 = '108')or(Код_стандарт_вычета1 = '109')or(Код_стандарт_вычета1 = '110')or(Код_стандарт_вычета1 = '111')or(Код_стандарт_вычета1 = '112')or(Код_стандарт_вычета1 = '113'));
<╧Ёртю┬√ў>
<╩юф┬√ўхЄ>^</╩юф┬√ўхЄ>
<╤єь┬√ўхЄ>^</╤єь┬√ўхЄ>
</╧Ёртю┬√ў>
.}
.{?INTERNAL;(Double(Сумма_стандарт_вычета2) <> 0)and((Код_стандарт_вычета2 = '101')or(Код_стандарт_вычета2 = '102')or(Код_стандарт_вычета2 = '103')or(Код_стандарт_вычета2 = '104')or(Код_стандарт_вычета2 = '105')or(Код_стандарт_вычета2 = '106')or(Код_стандарт_вычета2 = '107')or(Код_стандарт_вычета2 = '108')or(Код_стандарт_вычета2 = '109')or(Код_стандарт_вычета2 = '110')or(Код_стандарт_вычета2 = '111')or(Код_стандарт_вычета2 = '112')or(Код_стандарт_вычета2 = '113'));
<╧Ёртю┬√ў>
<╩юф┬√ўхЄ>^</╩юф┬√ўхЄ>
<╤єь┬√ўхЄ>^</╤єь┬√ўхЄ>
</╧Ёртю┬√ў>
.}
.{?INTERNAL;(Double(Сумма_стандарт_вычета3) <> 0)and((Код_стандарт_вычета3 = '101')or(Код_стандарт_вычета3 = '102')or(Код_стандарт_вычета3 = '103')or(Код_стандарт_вычета3 = '104')or(Код_стандарт_вычета3 = '105')or(Код_стандарт_вычета3 = '106')or(Код_стандарт_вычета3 = '107')or(Код_стандарт_вычета3 = '108')or(Код_стандарт_вычета3 = '109')or(Код_стандарт_вычета3 = '110')or(Код_стандарт_вычета3 = '111')or(Код_стандарт_вычета3 = '112')or(Код_стандарт_вычета3 = '113'));
<╧Ёртю┬√ў>
<╩юф┬√ўхЄ>^</╩юф┬√ўхЄ>
<╤єь┬√ўхЄ>^</╤єь┬√ўхЄ>
</╧Ёртю┬√ў>
.}
.{?INTERNAL;(Double(Сумма_стандарт_вычета4) <> 0)and((Код_стандарт_вычета4 = '101')or(Код_стандарт_вычета4 = '102')or(Код_стандарт_вычета4 = '103')or(Код_стандарт_вычета4 = '104')or(Код_стандарт_вычета4 = '105')or(Код_стандарт_вычета4 = '106')or(Код_стандарт_вычета4 = '107')or(Код_стандарт_вычета4 = '108')or(Код_стандарт_вычета4 = '109')or(Код_стандарт_вычета4 = '110')or(Код_стандарт_вычета4 = '111')or(Код_стандарт_вычета4 = '112')or(Код_стандарт_вычета4 = '113'));
<╧Ёртю┬√ў>
<╩юф┬√ўхЄ>^</╩юф┬√ўхЄ>
<╤єь┬√ўхЄ>^</╤єь┬√ўхЄ>
</╧Ёртю┬√ў>
.}
!nspr2005_SVychLoop CheckEnter
.}
.{?INTERNAL; (Double(Всего_Cумма_стандарт_вычета) > 0.001) 
<╤єь╤Є═ры┬√ў>^</╤єь╤Є═ры┬√ў>
.}
.{?INTERNAL; (RPrizStConst = '1')
</╤Єрэф┬√ў>
.}
.fields
Код_имущ_вычета1 Сумма_имущ_вычета1
Код_имущ_вычета2 Сумма_имущ_вычета2
Код_имущ_вычета3 Сумма_имущ_вычета3
Код_имущ_вычета4 Сумма_имущ_вычета4
Код_имущ_вычета5 Сумма_имущ_вычета5
OEM2ANSI(Номер_уведомления)
Дата_уведомления
OEM2ANSI(Выдано_уведомление)
Всего_Cумма_имущ_вычета
.endfields
.{?INTERNAL;(Double(Всего_Cумма_имущ_вычета) <> 0)
<╚ьє∙┬√ў>
.{?INTERNAL;(Double(Сумма_имущ_вычета1) <> 0) 
<╧Ёртю┬√ў>
<╩юф┬√ўхЄ>^</╩юф┬√ўхЄ>
<╤єь┬√ўхЄ>^</╤єь┬√ўхЄ>
</╧Ёртю┬√ў>
.}
.{?INTERNAL;(Double(Сумма_имущ_вычета2) <> 0) 
<╧Ёртю┬√ў>
<╩юф┬√ўхЄ>^</╩юф┬√ўхЄ>
<╤єь┬√ўхЄ>^</╤єь┬√ўхЄ>
</╧Ёртю┬√ў>
.}
.{?INTERNAL;(Double(Сумма_имущ_вычета3) <> 0) 
<╧Ёртю┬√ў>
<╩юф┬√ўхЄ>^</╩юф┬√ўхЄ>
<╤єь┬√ўхЄ>^</╤єь┬√ўхЄ>
</╧Ёртю┬√ў>
.}
.{?INTERNAL;(Double(Сумма_имущ_вычета4) <> 0) 
<╧Ёртю┬√ў>
<╩юф┬√ўхЄ>^</╩юф┬√ўхЄ>
<╤єь┬√ўхЄ>^</╤єь┬√ўхЄ>
</╧Ёртю┬√ў>
.}
.{?INTERNAL;(Double(Сумма_имущ_вычета5) <> 0) 
<╧Ёртю┬√ў>
<╩юф┬√ўхЄ>^</╩юф┬√ўхЄ>
<╤єь┬√ўхЄ>^</╤єь┬√ўхЄ>
</╧Ёртю┬√ў>
.}
<═юьхЁ╙тхф>^</═юьхЁ╙тхф>
<─рЄр╙тхф>^</─рЄр╙тхф>
<╚╘═╤╙тхф>^</╚╘═╤╙тхф>
<╤єь╚ьє┬√ў>^</╤єь╚ьє┬√ў>
</╚ьє∙┬√ў>
.}
.}
.begin
 RВзыск5_10 := 0;
 RДолг5_8 :=  0;
 RДолг5_9 := 0;
 If  Trim (Не_работник)  <> '1'
 {
   if  Double(Налог5_3)  > Double(Налог5_4)
     RДолг5_8 := Double(Налог5_3) - Double(Налог5_4) - Double(Налог5_6)
   else
     RДолг5_9 := Double(Налог5_4) - Double(Налог5_3) - Double(Налог5_7);

   RВзыск5_10 := Налог2620
 }
 else  // не работник предприятия
 {
   if  Double(Налог5_3)  > Double(Налог5_4)
     RВзыск5_10 :=  Double(Налог5_3) - Double(Налог5_4)

 }
end.
.fields
 Доход5_1
 Доход5_2
 Налог5_3
 Налог5_4
 Налог5_5
 Налог5_6
 Налог5_7
 RДолг5_8
 RДолг5_9
 RВзыск5_10
.endfields
<╤├─═ры╧хЁ>
<╤├─╤єьь>^</╤├─╤єьь>
<╬сы╤єьь>^</╬сы╤єьь>
<═╚╬сы╤єьь>^</═╚╬сы╤єьь>
<═╙╬сы╤єьь>^</═╙╬сы╤єьь>
.{?INTERNAL; (Double(Налог5_5) <> 0)
<┬ючтЁ╚╘═╤╧╦>^</┬ючтЁ╚╘═╤╧╦>
.}
.{?INTERNAL; (Double(Налог5_6) <> 0)
<╟рў╤єьь╧╦>^</╟рў╤єьь╧╦>
.}
.{?INTERNAL; (Double(Налог5_7) <> 0)
<╙ф╤єьь╧╦>^</╙ф╤єьь╧╦>
.}
.{?INTERNAL; (Double(RДолг5_8) <> 0)
<─юыу═╧>^</─юыу═╧>
.}
.{?INTERNAL; (Double(RДолг5_9) <> 0)
<─юыу═└>^</─юыу═└>
.}
.{?INTERNAL; (Double(RВзыск5_10) <> 0)
<┬ч√ёъ╚╘═╤>^</┬ч√ёъ╚╘═╤>
.}
</╤├─═ры╧хЁ>
</╤т─юї╤Єрт>
</╤яЁртър>
.}
</═─╘╦2>
.endform
