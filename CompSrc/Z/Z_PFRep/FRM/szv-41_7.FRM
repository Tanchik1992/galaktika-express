.set name = 'SZV-41_7'
.hide
.fields
  PersonsNumb : integer
  PachNumBegin: LongInt
  AllCounter  : Longint
  RabCounter  : Longint
  Страховой_номер
  TabN
  Должность
  Пол
  Дата_Рождения:date
  Наим_Подразд
  Фамилия
  Имя
  ТипСведений :word
  ВидКорректировки :word
  Отчество
  Мес_По_Нетрудоспособ
  Дней_По_Нетрудоспособ
  Мес_По_Отпуску
  Дней_По_Отпуску
!----------
  АдрПрописки_инд

  АдрПрописки_Страна
  АдрПрописки_Страна_сокр

  АдрПрописки_Регион
  АдрПрописки_Регион_сокр

  АдрПрописки_Район
  АдрПрописки_Район_сокр

  АдрПрописки_Город
  АдрПрописки_Город_сокр

  АдрПрописки_НасПункт
  АдрПрописки_НасПункт_сокр

  АдрПрописки_Улица
  АдрПрописки_Улица_сокр

  АдрПрописки_Дом
  АдрПрописки_Дом_сокр

  АдрПрописки_Корпус
  АдрПрописки_Корпус_сокр

  АдрПрописки_Квартира
  АдрПрописки_Квартира_сокр
!----------
 Адрес_бумаж
 Адрес_магнит
 MagtinKvartal:string
 God
 RealInn
 INN
 Pred
 PredShort
 FormofLaw
 KPP
 CodeOGRIP
 CodeOGRUL
 curdate
 HP
 НАЕМ

 ИтогоНачисл:double
 ИтогоНетрудосп:double

 ИтогоВзносы_страх_часть:double
 ИтогоВзносы_накопит_часть:double
 ИтогоВзносы_доп_часть:double

 Взносы_страх_часть_пач:double
 Взносы_накопит_часть_пач:double
 Взносы_доп_часть_пач:double

!!!!!!!!!!!!!  страховые взносы    !!!!!!!!!!!!!!!
 Взносы_страх_часть:double
 Взносы_накопит_часть:double
 Взносы_доп_часть:double

 ФилиалВзносы_страх_часть:double
 ФилиалВзносы_накопит_часть:double
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 KolStag
 Okrug : word
 НомерДоговора
 ДеньЗак
!: integer
 МесяцЗак
!: word
 ГодЗак
!: integer
 ВидВыплаты
! Поля руководители и дата отчета, для разбивки стажей на несколько страниц
 Dolg_ruk_S
 ФИО_руководителя_S
 Число_S
 Месяц_S
 Год_S
!72
 .endfields
.{ CheckEnter SZV4_1_7
^^^^^^^^^^
^^^^^^^^^^
^^^^^^^^^^
^^^^^^^^^^
^^^^^^^^^^
^^^^^^^^^^
^^^^^^^^^^
^^^^^^^^
.fields
  Наим_стажа
  ФИО_сотрудника
  СтрахНомер
  Должность1
  Подразделение
  nppSt 
  Нач_стажа
  Кон_стажа

  TerCond
  Район_коэфф

  WorkCond

  Исчисл_труд_стаж_основание
  Исчисл_труд_стаж_доп_свед1
  Исчисл_труд_стаж_доп_свед2
  Строка_Исчисл_труд_стаж_доп_свед1
  Строка_Исчисл_труд_стаж_доп_свед2
  Исчисл_труд_стаж_доп_свед3
  Исчисл_труд_стаж_доп_свед4
  Строка_Исчисл_труд_стаж_доп_свед3
  Строка_Исчисл_труд_стаж_доп_свед4
  Исчисл_труд_стаж_доп_свед_3

!особенности выслуга лет
  Выслуга_лет_основание
  Выслуга_лет_доп_свед1
  Выслуга_лет_доп_свед2
  Строка_Выслуга_лет_доп_свед1
  Строка_Выслуга_лет_доп_свед2
  Выслуга_лет_доп_свед3
  Выслуга_лет_доп_свед4
  Строка_Выслуга_лет_доп_свед3
  Строка_Выслуга_лет_доп_свед4
!новое
  Выслуга_лет_доп_свед_3: double
  Ед_изм_Выслуга_лет_доп_свед3

  Число_записей_лгот   : byte
  Код_позиции_списка1
  Профессия
.endfields
.{ CheckEnter SZV41_Stages_7
^^^^^^^^^^
^^^^^^^^^^
^^^^^^^^^^^^^^
^
.fields
  Код_позиции_списка1С
.endfields
.{ CheckEnter SZV41Vred1_7
  ^
.}
.fields
  Наим_стажа_Lgot
  nppStLgot
  WorkCond_Lgot
!новое
  Исчисл_труд_стаж_основание_Lgot
!
  Исчисл_труд_стаж_доп_свед1_Lgot: word
  Исчисл_труд_стаж_доп_свед2_Lgot: word
  Строка_Исчисл_труд_стаж_доп_свед1_Lgot
  Строка_Исчисл_труд_стаж_доп_свед2_Lgot
  Исчисл_труд_стаж_доп_свед3_Lgot

  Выслуга_лет_основание_Lgot
  Выслуга_лет_доп_свед1_Lgot: word
  Выслуга_лет_доп_свед2_Lgot: word
  Строка_Выслуга_лет_доп_свед1_Lgot
  Строка_Выслуга_лет_доп_свед2_Lgot
  Выслуга_лет_доп_свед3_Lgot: word
  Выслуга_лет_доп_свед4_Lgot: word
  Строка_Выслуга_лет_доп_свед_3_Lgot
  Строка_Выслуга_лет_доп_свед4_Lgot

  Выслуга_лет_доп_свед_3_Lgot: double
  Ед_изм_Выслуга_лет_доп_свед3_Lgot

  TerCond_Lgot
  Район_коэфф_Lgot
!
  Код_позиции_списка2
.endfields
.{ CheckEnter SZV41Lgot_7
^^^^^^^^^^
^^^^^^^^^^
^^^
.fields
  Код_позиции_списка2С
.endfields
.{ CheckEnter SZV41Vred2_7
  ^
.}
.}
.}
.fields
  Dolg_ruk
  ФИО_руководителя
  Число
  Месяц
  Год
.endfields
  L--+---------------+---------------+--------+-------+---------+------------+-----------+-------------

   Наименование должности руководителя            Подпись                 Расшифровка подписи

   @~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                             @~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

   Дата "&&" @@@@@@@@ &&&& года                    М.П.
.fields
  ФИО_исполнителя
  тел_исполнителя
  FIO_KP
  CodeOKPO
  Год_Адв61

  КодКатег_АДВ61
  ВзносыСтрх_АДВ61:double
  ВзносыНакопит_АДВ61:double
  ВзносыДоп_АДВ61:double

  Dolg_ruk_АДВ6
  ФИО_руководителя_АДВ6
  Число_АДВ6
  Месяц_АДВ6
  Год_АДВ6
.endfields
.{ CheckEnter SZVADV6_1_7
 ^^^^^^^^^^
 ^^^^
.if DeadLine_61_7
.end
.}
.}
.endform
/*
 г===========================================================================┐
 │                     (c) 1994,2000 корпорация ГАЛАКТИКА                    │
 │ Проект        : ГАЛАКТИКА                                                 │
 │ Система       : Заработная плата                                          │
 │ Версия        : 5.70                                                      │
 │ Назначение    : Отчетность в ПФР                                          │
 │ Ответственный : Мелех Василий Евгеньевич                                  │
 L===========================================================================-
*/
.linkform 'SZV-41_7_MAGNITlink17' prototype is 'SZV-41_7'
.F 'IS_SZV_4-1.XML'
.nameinlist'Файл для ПФ на МН (в.7.00)'
.var
  EndPach: boolean;
  _ТипСведений,_ВидКорректировки : string;
  rrr,rrr_2,TypeChars: String;
  my_pred, my_pred2    : string[100];
  my_inn     : string[14]
  pach_nmb   : Longint
  nomer      : longint
  MyPersonCounter: LongInt;
  PersonCounterOut: LongInt;
  AdrStr: string;
  StrGod     : string
  kvartal    : string
  my_nach_st : string
  my_kon_st  : string
  KolNach    : LongInt
  SumNach    : double
  SumBoln    : double
  RИсчисл_труд_стаж_доп_свед1     : string
  RИсчисл_труд_стаж_доп_свед2     : string
  RИсчисл_труд_стаж_доп_свед3     : string
  RИсчисл_труд_стаж_доп_свед4     : string
  RИсчисл_труд_стаж_доп_свед1_lgot: string
  RИсчисл_труд_стаж_доп_свед2_lgot: string
  RВыслуга_лет_доп_свед_3_lgot     : string
  RВыслуга_лет_доп_свед1          : string
  RВыслуга_лет_доп_свед2          : string
  RВыслуга_лет_доп_свед3          : string
  RВыслуга_лет_доп_свед4          : string
  RВыслуга_лет_доп_свед_3          : string
  RЧисло_записей_лгот             : string
  CodeDopTarr                     : String;
  RDataDog                        : string
.endvar
.begin
  my_inn  := Upcase( Trim( Replace( inn, '"', '''' ) ) )
  my_pred := Upcase( Trim( Replace( Pred, '"', '''' ) ) )
  my_pred2 := Upcase( Trim( Replace( PredShort, '"', '''' ) ) )
  pach_nmb:= PachNumBegin
  CodeDopTarr := 'АВИА';
  TypeChars := 'ИСХД'
  nomer   := 0
  KolNach := 0
  SumNach := 0
  SumBoln := 0
  MyPersonCounter := 0;
  PersonCounterOut:= 0;
 end.
.{ CheckEnter SZV4_1_7
.{?internal;(nomer=0)or(nomer = (AllCounter + 1))
.begin
  if (PersonsNumb - MyPersonCounter) >= AllCounter
  {
    MyPersonCounter := MyPersonCounter + AllCounter;
    PersonCounterOut := AllCounter;
  }
  else
    PersonCounterOut := PersonsNumb - MyPersonCounter;

  if nomer=AllCounter then
  {
    pach_nmb:= pach_nmb + 1;
    nomer:= 0;
  }
end.
<?xml version="1.0" encoding="cp866"?>
<ФайлПФР>
  <ИмяФайла></ИмяФайла>
  <ЗаголовокФайла>
    <ВерсияФормата>07.00</ВерсияФормата>
    <ТипФайла>ВНЕШНИЙ</ТипФайла>
    <ПрограммаПодготовкиДанных>
       <НазваниеПрограммы>ГАЛАКТИКА</НазваниеПрограммы>
       <Версия>8.10</Версия>
    </ПрограммаПодготовкиДанных>
    <ИсточникДанных>СТРАХОВАТЕЛЬ</ИсточникДанных>
  </ЗаголовокФайла>
.begin
 if ТипСведений  = 0 then
   _ТипСведений := 'ИСХОДНАЯ'
 else 
   _ТипСведений := 'ПЕНСИОННАЯ'

 if ВидКорректировки  = 0 then
   _ВидКорректировки := ''
 else  if ВидКорректировки  = 1 then
   _ВидКорректировки := 'КОРРЕКТИРУЮЩАЯ'
 else  if ВидКорректировки  = 2 then
   _ВидКорректировки := 'ОТМЕНЯЮЩАЯ'

  if Okrug = 2
  {
    rrr   := '666666666666667.88'
    rrr_2 := '-666666666666667.88'
  }
  else if Okrug = 0
  {
    rrr   :='666666666666667'
    rrr_2 :='-666666666666667'
  }
  EndPach := false;
  nomer := nomer+1;
  AdrStr  := '';
end.
.fields
  nomer
  RealInn
  KPP
  CodeOGRIP
  CodeOGRUL
  Upcase(Trim(FormofLaw))
  my_pred
  my_pred2
  my_inn
  pach_nmb

  PersonsNumb
  curdate
.endfields
  <ПачкаВходящихДокументов Стадия = "До обработки" Окружение = "В составе файла">
    <ВХОДЯЩАЯ_ОПИСЬ>
      <НомерВпачке>^</НомерВпачке>
      <ТипВходящейОписи>ОПИСЬ ПАЧКИ</ТипВходящейОписи>
      <СоставительПачки>
        <НалоговыйНомер>
          <ИНН>^</ИНН>
          <КПП>^</КПП>
        </НалоговыйНомер>
        <КодЕГРИП>^</КодЕГРИП>
        <КодЕГРЮЛ>^</КодЕГРЮЛ>
        <Форма>^</Форма>
        <НаименованиеОрганизации>^</НаименованиеОрганизации>
        <НаименованиеКраткое>^</НаименованиеКраткое>
        <РегистрационныйНомер>^</РегистрационныйНомер>
!        <Подразделение>
!          <НаименованиеПодразделения> </НаименованиеПодразделения>
!          <НомерПодразделения> </НомерПодразделения>
!        </Подразделение>
!        <НомерЛицензии></НомерЛицензии>
!        <ДатаВыдачиЛицензии></ДатаВыдачиЛицензии>
      </СоставительПачки>
      <НомерПачки>
        <Основной>^</Основной>
!        <ПоПодразделению></ПоПодразделению>
      </НомерПачки>
      <СоставДокументов>
        <Количество>1</Количество>
        <НаличиеДокументов>
          <ТипДокумента>ИС_СЗВ-4-1</ТипДокумента>
          <Количество>^</Количество>
        </НаличиеДокументов>
      </СоставДокументов>
      <ДатаСоставления>^</ДатаСоставления>
.fields
  God
  HP
  if (Взносы_доп_часть_пач <> 0,CodeDopTarr, '')
  UpCase(НАЕМ)
  _ТипСведений
  _ВидКорректировки
  if (Взносы_страх_часть_пач>=0,DoubleToStr(Взносы_страх_часть_пач,rrr),DoubleToStr(Взносы_страх_часть_пач,rrr_2))
  if (Взносы_накопит_часть_пач>=0,DoubleToStr(Взносы_накопит_часть_пач,rrr),DoubleToStr(Взносы_накопит_часть_пач,rrr_2))
  if (Взносы_доп_часть_пач>=0,DoubleToStr(Взносы_доп_часть_пач,rrr),DoubleToStr(Взносы_доп_часть_пач,rrr_2))
.endfields
      <ПачкаСЗВ4>
        <РасчетныйПериод>^</РасчетныйПериод>
        <ТарифСтраховыхВзносов>
          <КодКатегории>^</КодКатегории>
          <КодДополнительногоТарифа>^</КодДополнительногоТарифа>
          <НазваниеКатегории>^</НазваниеКатегории>
          <НазваниеДополнительногоТарифа></НазваниеДополнительногоТарифа>
        </ТарифСтраховыхВзносов>
!        <ТерриториальныеУсловия>
!          <ОснованиеТУ></ОснованиеТУ>
!          <Коэффициент></Коэффициент>
!        </ТерриториальныеУсловия>
        <ТипСведений>^</ТипСведений>
        <ВидКорректировки>^</ВидКорректировки>
        <ИтогоСуммаВзносов>
          <Страховые>^</Страховые>
          <Накопительные>^</Накопительные>
          <Дополнительные>^</Дополнительные>
        </ИтогоСуммаВзносов>
      </ПачкаСЗВ4>
    </ВХОДЯЩАЯ_ОПИСЬ>
.}
.begin
 StrGod:= God;

 IF (Word(ДеньЗак)<>0)and(Word(МесяцЗак)<>0)and(Word(ГодЗак)<>0)
  RDataDog:= string(Date(Word(ДеньЗак), Word(МесяцЗак), Word(ГодЗак)))
 else
  RDataDog:=''

  AdrStr := '';
  if trim(АдрПрописки_Страна_сокр) = ''
    AdrStr := 'РОССИЙСКИЙ'
  else
    AdrStr := 'ИНОСТРАННЫЙ';

  nomer := nomer+1;
 end.
.fields
  nomer
  _ТипСведений
  _ВидКорректировки
  trim(Страховой_номер)
  trim(UpCase(Фамилия))
  trim(UpCase(Имя))
  trim(UpCase(Отчество))
  AdrStr
  АдрПрописки_инд
.endfields
    <ИС_СЗВ-4-1>
      <НомерВпачке>^</НомерВпачке>
      <ВидФормы>СЗВ-4-1</ВидФормы>
      <ТипСведений>^</ТипСведений>
      <ВидКорректировки>^</ВидКорректировки>
      <СтраховойНомер>^</СтраховойНомер>
      <ФИО>
        <Фамилия>^</Фамилия>
        <Имя>^</Имя>
        <Отчество>^</Отчество>
      </ФИО>
.{?internal;ВидКорректировки <> 2
      <АдресЗЛ>
          <ТипАдреса>^</ТипАдреса>
          <Индекс>^</Индекс>
.}
.fields

  АдрПрописки_Страна_сокр
  АдрПрописки_Страна
  Адрес_бумаж


  АдрПрописки_Регион
  АдрПрописки_Регион_сокр

  АдрПрописки_Район
  АдрПрописки_Район_сокр

  АдрПрописки_Город
  АдрПрописки_Город_сокр

  АдрПрописки_НасПункт
  АдрПрописки_НасПункт_сокр

  АдрПрописки_Улица
  АдрПрописки_Улица_сокр

  АдрПрописки_Дом_сокр
  АдрПрописки_Дом

  АдрПрописки_Корпус_сокр
  АдрПрописки_Корпус

  АдрПрописки_Квартира_сокр
  UpCase(АдрПрописки_Квартира)
.endfields
.{?internal;ВидКорректировки <> 2
.{?internal;trim(АдрПрописки_Страна_сокр) <> ''
          <ИностранныйАдрес>
            <КодСтраны>^</КодСтраны>
            <НазваниеСтраны>^</НазваниеСтраны>
            <Адрес>^</Адрес>
          </ИностранныйАдрес>
.}
.{?internal;trim(АдрПрописки_Страна_сокр) = ''
          <РоссийскийАдрес>
          <Регион>
            <ГеографическоеНазвание>^</ГеографическоеНазвание>
            <Сокращение>^</Сокращение>
          </Регион>
          <Район>
            <ГеографическоеНазвание>^</ГеографическоеНазвание>
            <Сокращение>^</Сокращение>
          </Район>
          <Город>
            <ГеографическоеНазвание>^</ГеографическоеНазвание>
            <Сокращение>^</Сокращение>
          </Город>
          <НаселенныйПункт>
            <ГеографическоеНазвание>^</ГеографическоеНазвание>
            <Сокращение>^</Сокращение>
          </НаселенныйПункт>
          <Улица>
            <ГеографическоеНазвание>^</ГеографическоеНазвание>
            <Сокращение>^</Сокращение>
          </Улица>
          <Дом>
            <Сокращение>^</Сокращение>
            <Номер>^</Номер>
          </Дом>
          <Корпус>
            <Сокращение>^</Сокращение>
            <Номер>^</Номер>
          </Корпус>
          <Квартира>
            <Сокращение>^</Сокращение>
            <Номер>^</Номер>
          </Квартира>
          </РоссийскийАдрес>
.}
      </АдресЗЛ>
.}
.fields
RealInn
KPP
CodeOGRIP
CodeOGRUL
Upcase(Trim(FormofLaw))

my_pred
my_pred2
my_inn
God
curdate
.endfields
      <Страхователь>
        <НалоговыйНомер>
          <ИНН>^</ИНН>
          <КПП>^</КПП>
        </НалоговыйНомер>
        <КодЕГРИП>^</КодЕГРИП>
        <КодЕГРЮЛ>^</КодЕГРЮЛ>
        <Форма>^</Форма>
        <НаименованиеОрганизации>^</НаименованиеОрганизации>
        <НаименованиеКраткое>^</НаименованиеКраткое>
        <РегистрационныйНомер>^</РегистрационныйНомер>
!        <Подразделение>
!          <НаименованиеПодразделения> </НаименованиеПодразделения>
!          <НомерПодразделения> </НомерПодразделения>
!        </Подразделение>
!        <НомерЛицензии></НомерЛицензии>
!        <ДатаВыдачиЛицензии></ДатаВыдачиЛицензии>
      </Страхователь>
      <РасчетныйПериод>^</РасчетныйПериод>
      <ДатаЗаполнения>^</ДатаЗаполнения>
.fields
HP
if (Взносы_доп_часть_пач <> 0,CodeDopTarr, '')
UpCAse(НАЕМ)
if (Взносы_страх_часть>=0,DoubleToStr(Взносы_страх_часть,rrr),DoubleToStr(Взносы_страх_часть,rrr_2))
if (Взносы_накопит_часть>=0,DoubleToStr(Взносы_накопит_часть,rrr),DoubleToStr(Взносы_накопит_часть,rrr_2))
if (Взносы_доп_часть>=0,DoubleToStr(Взносы_доп_часть,rrr),DoubleToStr(Взносы_доп_часть,rrr_2))
if (ФилиалВзносы_страх_часть>=0,DoubleToStr(ФилиалВзносы_страх_часть,rrr),DoubleToStr(ФилиалВзносы_страх_часть,rrr_2))
if (ФилиалВзносы_накопит_часть>=0,DoubleToStr(ФилиалВзносы_накопит_часть,rrr),DoubleToStr(ФилиалВзносы_накопит_часть,rrr_2))
Мес_По_Нетрудоспособ
Дней_По_Нетрудоспособ
Мес_По_Отпуску
Дней_По_Отпуску
.endfields
      <ТарифСтраховыхВзносов>
        <КодКатегории>^</КодКатегории>
        <КодДополнительногоТарифа>^</КодДополнительногоТарифа>
        <НазваниеКатегории>^</НазваниеКатегории>
        <НазваниеДополнительногоТарифа></НазваниеДополнительногоТарифа>
      </ТарифСтраховыхВзносов>
      <НачисленоВзносовОсновных>
        <Страховые>^</Страховые>
        <Накопительные>^</Накопительные>
        <Дополнительные>^</Дополнительные>
      </НачисленоВзносовОсновных>
      <НачисленоВзносовРанее>
        <Страховые>^</Страховые>
        <Накопительные>^</Накопительные>
        <Дополнительные>0.00</Дополнительные>
      </НачисленоВзносовРанее>
      <БольничныеЛисты>
        <ВсеГоды>0</ВсеГоды>
        <ВсеМесяцы>^</ВсеМесяцы>
        <ВсеДни>^</ВсеДни>
      </БольничныеЛисты>
      <АдминистративныйОтпуск>
        <ВсеГоды>0</ВсеГоды>
        <ВсеМесяцы>^</ВсеМесяцы>
        <ВсеДни>^</ВсеДни>
      </АдминистративныйОтпуск>
.fields
  KolStag
.endfields
.{?internal;ВидКорректировки <> 2
.{?internal;KolStag > 0
      <ВсеПериодыРаботы>
        <Количество>^</Количество>
.}
.}
.{ CheckEnter SZV41_Stages_7
.{?internal;Trim(Наим_стажа) <> 'АВАНС'
.fields
  nppSt
  my_nach_st
  my_kon_st
  UpCase(TerCond)

  UpCase(WorkCond)
  Код_позиции_списка1

  UpCase(Исчисл_труд_стаж_основание)
  RИсчисл_труд_стаж_доп_свед3
  RИсчисл_труд_стаж_доп_свед4
  RИсчисл_труд_стаж_доп_свед1
  RИсчисл_труд_стаж_доп_свед2
  UpCase(Исчисл_труд_стаж_доп_свед_3)

  UpCase(Выслуга_лет_основание)
  RВыслуга_лет_доп_свед3
  RВыслуга_лет_доп_свед4
  RВыслуга_лет_доп_свед1
  RВыслуга_лет_доп_свед2

!  Ед_изм_Выслуга_лет_доп_свед3_Lgot
  DoubleToStr(Double(RВыслуга_лет_доп_свед_3),'666666666666667.88')
!  Профессия
.endfields
.begin
 my_nach_st:= Нач_стажа
 my_kon_st := Кон_стажа
! Район_коэфф := '0.00';
! Район_коэфф_Lgot := '0.00';
 IF (Исчисл_труд_стаж_доп_свед1=0) or (trim(Исчисл_труд_стаж_доп_свед1) = '') then
  RИсчисл_труд_стаж_доп_свед1:='0'
 else
  RИсчисл_труд_стаж_доп_свед1:= UpCase(string(Исчисл_труд_стаж_доп_свед1));

 if (Исчисл_труд_стаж_доп_свед2=0)or(trim(Исчисл_труд_стаж_доп_свед2) = '') then
  RИсчисл_труд_стаж_доп_свед2:= '0'
 else
  RИсчисл_труд_стаж_доп_свед2:= UpCase(string(Исчисл_труд_стаж_доп_свед2));

 if (Исчисл_труд_стаж_доп_свед3=0)or(trim(Исчисл_труд_стаж_доп_свед3) = '') then
  RИсчисл_труд_стаж_доп_свед3:= '0'
 else
  RИсчисл_труд_стаж_доп_свед3:= UpCase(string(Исчисл_труд_стаж_доп_свед3));

 if (Исчисл_труд_стаж_доп_свед4=0) or(trim(Исчисл_труд_стаж_доп_свед4)='') then
  RИсчисл_труд_стаж_доп_свед4:= '0'
 else
  RИсчисл_труд_стаж_доп_свед4:= UpCase(string(Исчисл_труд_стаж_доп_свед4));

 if (Выслуга_лет_доп_свед1=0)or(trim(Выслуга_лет_доп_свед1)='') then
  RВыслуга_лет_доп_свед1:= '0'
 else
  RВыслуга_лет_доп_свед1:= UpCase(string(Выслуга_лет_доп_свед1));

 if (Выслуга_лет_доп_свед2=0)or(trim(Выслуга_лет_доп_свед2) ='') then
  RВыслуга_лет_доп_свед2:= '0'
 else
  RВыслуга_лет_доп_свед2:= UpCase(string(Выслуга_лет_доп_свед2));

 if (Выслуга_лет_доп_свед3=0)or(trim(Выслуга_лет_доп_свед3) = '') then
  RВыслуга_лет_доп_свед3:= '0'
 else
  RВыслуга_лет_доп_свед3:= UpCase(string(Выслуга_лет_доп_свед3));

 if (Выслуга_лет_доп_свед4=0)or(trim(Выслуга_лет_доп_свед4) = '') then
  RВыслуга_лет_доп_свед4:= '0'
 else
  RВыслуга_лет_доп_свед4:= UpCase(string(Выслуга_лет_доп_свед4));

 if (Выслуга_лет_доп_свед_3=0) or (trim(Выслуга_лет_доп_свед_3) = '') then
  RВыслуга_лет_доп_свед_3:= '0.00'
 else
  RВыслуга_лет_доп_свед_3:= DoubleToStr(Выслуга_лет_доп_свед_3,'66666.99');

 IF (Число_записей_лгот=0) or (trim(Число_записей_лгот) = '') then
   RЧисло_записей_лгот:= '0'
 else
   RЧисло_записей_лгот:= string(Число_записей_лгот);
end.
.{?internal;ВидКорректировки <> 2
        <ПериодРаботы>
          <ОсновнаяСтрока>
            <НомерСтроки>^</НомерСтроки>
            <ДатаНачалаПериода>^</ДатаНачалаПериода>
            <ДатаКонцаПериода>^</ДатаКонцаПериода>
            <ОсобенностиУчета>
              <ТерриториальныеУсловия>
                <ОснованиеТУ>^</ОснованиеТУ>
              </ТерриториальныеУсловия>
              <ОсобыеУсловияТруда>
                <ОснованиеОУТ>^</ОснованиеОУТ>
                <ПозицияСписка>^</ПозицияСписка>
              </ОсобыеУсловияТруда>
              <ИсчисляемыйСтаж>
                <ОснованиеИС>^</ОснованиеИС>
.{?internal; (RИсчисл_труд_стаж_доп_свед3 <> 0) or (RИсчисл_труд_стаж_доп_свед4 <> 0)
                <ВыработкаВчасах>
                  <Часы>^</Часы>
                  <Минуты>^</Минуты>
                </ВыработкаВчасах>
.}
.{?internal; (RИсчисл_труд_стаж_доп_свед1 <> 0) or (RИсчисл_труд_стаж_доп_свед2 <> 0)
                <ВыработкаКалендарная>
                  <ВсеГоды>0</ВсеГоды>
                  <ВсеМесяцы>^</ВсеМесяцы>
                  <ВсеДни>^</ВсеДни>
                </ВыработкаКалендарная>
.}
              </ИсчисляемыйСтаж>
              <ДекретДети>^</ДекретДети>
              <ВыслугаЛет>
                <ОснованиеВЛ>^</ОснованиеВЛ>
.{?internal; (RВыслуга_лет_доп_свед3 <> '0') or (RВыслуга_лет_доп_свед4 <> '0')
                <ВыработкаВчасах>
                  <Часы>^</Часы>
                  <Минуты>^</Минуты>
                </ВыработкаВчасах>
.}
.{?internal; (RВыслуга_лет_доп_свед1 <> '0') or (RВыслуга_лет_доп_свед2 <> '0')
                <ВыработкаКалендарная>
                  <ВсеГоды>0</ВсеГоды>
                  <ВсеМесяцы>^</ВсеМесяцы>
                  <ВсеДни>^</ВсеДни>
                </ВыработкаКалендарная>
.}
                <ДоляСтавки>^</ДоляСтавки>
              </ВыслугаЛет>
!              <ПрофессияДолжность>^</ПрофессияДолжность>
!              <ОтметкаОценщика></ОтметкаОценщика>
            </ОсобенностиУчета>
          </ОсновнаяСтрока>
.}
.}
.{ CheckEnter SZV41Vred1_7
.}
.{ CheckEnter SZV41Lgot_7
.begin
 if  (Исчисл_труд_стаж_доп_свед1_Lgot=0)or(trim(Исчисл_труд_стаж_доп_свед1_Lgot) = '') then
  RИсчисл_труд_стаж_доп_свед1_Lgot:= '0'
 else
  RИсчисл_труд_стаж_доп_свед1_Lgot:= UpCase(string(Исчисл_труд_стаж_доп_свед1_Lgot))
 if  (Исчисл_труд_стаж_доп_свед2_Lgot=0) or (trim(Исчисл_труд_стаж_доп_свед2_Lgot) = '') then
  RИсчисл_труд_стаж_доп_свед2_Lgot:= '0'
 else
  RИсчисл_труд_стаж_доп_свед2_Lgot:= UpCase(string(Исчисл_труд_стаж_доп_свед2_Lgot))

 if  (Выслуга_лет_доп_свед_3_lgot=0) or(trim(Выслуга_лет_доп_свед_3_lgot) = '') then
  RВыслуга_лет_доп_свед_3_lgot:= '0.00'
 else
  RВыслуга_лет_доп_свед_3_lgot:= DoubleToStr(Выслуга_лет_доп_свед_3_lgot,'66667.99');
 end.
.{?internal;Trim(Наим_стажа) <> 'АВАНС'
.fields
  nppStLgot
  UpCase(TerCond_Lgot)
!  Наим_стажа_Lgot
!  nppStLgot
  UpCase(WorkCond_Lgot)
  Код_позиции_списка2
  UpCase(Исчисл_труд_стаж_основание_Lgot)
  if( trim(RИсчисл_труд_стаж_доп_свед1_Lgot) <> '',RИсчисл_труд_стаж_доп_свед1_Lgot, 0 )
  if( trim(RИсчисл_труд_стаж_доп_свед2_Lgot) <> '',RИсчисл_труд_стаж_доп_свед2_Lgot, 0 )

  UpCase(Исчисл_труд_стаж_доп_свед3_Lgot)

  UpCase(Выслуга_лет_основание_Lgot)
  if( trim(Выслуга_лет_доп_свед3_Lgot) <> '',Выслуга_лет_доп_свед3_Lgot, 0 )
  if( trim(Выслуга_лет_доп_свед4_Lgot) <> '',Выслуга_лет_доп_свед4_Lgot, 0 )
  if( trim(Выслуга_лет_доп_свед1_Lgot) <> '',Выслуга_лет_доп_свед1_Lgot, 0 )
  if( trim(Выслуга_лет_доп_свед2_Lgot) <> '',Выслуга_лет_доп_свед2_Lgot, 0 )


  DoubleToStr(Double(RВыслуга_лет_доп_свед_3_Lgot),'666666666666667.88')
  Ед_изм_Выслуга_лет_доп_свед3_Lgot

.endfields
.{?internal;ВидКорректировки <> 2
          <ДополнительныеСтроки>
            <Количество>^</Количество>
            <ОсобенностиУчета>
              <ТерриториальныеУсловия>
                <ОснованиеТУ>^</ОснованиеТУ>
              </ТерриториальныеУсловия>
              <ОсобыеУсловияТруда>
                <ОснованиеОУТ>^</ОснованиеОУТ>
                <ПозицияСписка>^</ПозицияСписка>
              </ОсобыеУсловияТруда>
              <ИсчисляемыйСтаж>
                <ОснованиеИС>^</ОснованиеИС>
!                <ВыработкаВчасах>
!                  <Часы>^</Часы>
!                  <Минуты>^</Минуты>
!                </ВыработкаВчасах>
.{?internal; (RИсчисл_труд_стаж_доп_свед1_Lgot <> '0') or (RИсчисл_труд_стаж_доп_свед2_Lgot <> '0')
                <ВыработкаКалендарная>
                  <ВсеГоды>0</ВсеГоды>
                  <ВсеМесяцы>^</ВсеМесяцы>
                  <ВсеДни>^</ВсеДни>
                </ВыработкаКалендарная>
.}
              </ИсчисляемыйСтаж>
              <ДекретДети>^</ДекретДети>
              <ВыслугаЛет>
                <ОснованиеВЛ>^</ОснованиеВЛ>
.{?internal; ( Выслуга_лет_доп_свед3_Lgot <> '0') or ( Выслуга_лет_доп_свед4_Lgot <> '0')
                <ВыработкаВчасах>
                  <Часы>^</Часы>
                  <Минуты>^</Минуты>
                </ВыработкаВчасах>
.}
.{?internal; ( Выслуга_лет_доп_свед1_Lgot <> '0') or ( Выслуга_лет_доп_свед2_Lgot <> '0')
                <ВыработкаКалендарная>
                  <ВсеГоды>0</ВсеГоды>
                  <ВсеМесяцы>^</ВсеМесяцы>
                  <ВсеДни>^</ВсеДни>
                </ВыработкаКалендарная>
.}
                <КодИсчисления>^</КодИсчисления>
                <ДоляСтавки>^</ДоляСтавки>
              </ВыслугаЛет>
!              <ПрофессияДолжность></ПрофессияДолжность>
!              <ОтметкаОценщика></ОтметкаОценщика>
            </ОсобенностиУчета>
          </ДополнительныеСтроки>
.}
.}
.{ CheckEnter SZV41Vred2_7
.}
.} //CheckEnter Lgot
.{?internal;ВидКорректировки <> 2
        </ПериодРаботы>
.}
.} //стаж
.{?internal;ВидКорректировки <> 2
.{?internal;KolStag > 0
      </ВсеПериодыРаботы>
.}
.}
    </ИС_СЗВ-4-1>
.{ CheckEnter SZVADV6_1_7
.if DeadLine_61_7
.begin
  EndPach := true;
end.
.fields
   pach_nmb
.endfields
  </ПачкаВходящихДокументов>
</ФайлПФР>
___КОНЕЦ ^ ПАЧКИ!!!_Разрежьте_здесь!
.end
.begin
  pach_nmb:= pach_nmb + 1;
  nomer:= 0;
end.
.{?internal;not EndPach
  </ПачкаВходящихДокументов>
</ФайлПФР>
.}
.}
.}
.endform
