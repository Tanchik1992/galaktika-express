!╔════════════════════════════════════════════════════════════════════════════╗
!║                     (c) Корпорация ГАЛАКТИКА, 1997,98                      ║
!║ Проект        : ГАЛАКТИКА                                                  ║
!║ Система       : Розничная торговля                                         ║
!║ Версия        : 5.73                                                       ║
!║ Назначение    : Печать ДО на ПРОДАЖУ                                       ║
!╚════════════════════════════════════════════════════════════════════════════╝

#declare f_(str_)
if (trim(#str_) = '', '-', #str_)
#end

#include prbdocr.pro

#doc
Счет СТАНДАРТНЫЙ - А4
#end
.linkform 'PRBDOCR_0' prototype is 'PRBDOCR'
.NameInList 'Счет СТАНДАРТНЫЙ - А4'
.group 'Продажа'
.FIELDS
  CommonFormHeader
  nomer ddoc
  post bpost rspost mfobik mpost adpost telpost
  pol bpol rspol mfobik mpol adpol telpol pname
  np barkod mc ed kol cena optnadb roznnadb summa
.ENDFIELDS
.{
 Б^ Б
                         БСЧЕТ N° Б ^   Бот Б  ^

       БПОСТАВЩИК : Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
       ББанк      : Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
       БСчет N Б ^ ^ ^
       БАдрес     : Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
       Бтел./факс : Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@


       БПОЛУЧАТЕЛЬ: Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
       ББанк      : Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
       БСчет N Б ^ ^ ^
       БАдрес     : Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
       Бтел./факс : Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

        ^
.{ CheckEnter IsExClassRozn
.}
.{ CheckEnter IsGroupRozn
.}
 Ш
 Б        ───┬────────────────┬────────────────────────────────────────┬─────────┬────────────┬─────────────────┬──────┬──────┬─────────────────────── Б
 Б        No │ Номенклатурный │                                        │ Единица │            │                 │ Опт. │ Розн.│                        Б
 Б        п/п│     номер      │       Наименование, сорт, размер       │измерения│ Количество │       Цена      │ надб.│ надб.│          Сумма         Б
 Б        ───┴────────────────┴────────────────────────────────────────┴─────────┴────────────┴─────────────────┴──────┴──────┴─────────────────────── Б Ш
.{
 Ш        &&& @@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @~@@@@@@@ &'&&&&&&&&&& &'&&&&&&&&&&&&&&& &&#.&& &&#.&& &'&&&&&&&&&&&&&&&&&&.&& Ш
.}
 Ш        ──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Ш
! Итого без учета налогов
.FIELDS
  i1
  FRoundRub5 (i2 - if(Акциз_в_цене, c2, 0) - if(НДС_в_цене, n2, 0) - ItogSumNalProd)
.ENDFIELDS
 Ш                                                                                     Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ &'&&&&&&&&&&&&&&&&&&.&& Д Ш
.{?Internal;(SumSkidPos>0)
! Никогда не работает  Maks 
.FIELDS 
  SumSkidPos (FRoundRub5(i2-SumSkidPos)) 
.ENDFIELDS
 Ш                                                                                     ДСумма скидок к позициям                  &'&&&&&&&&&&&&&&&&&&.&& Д Ш
 Ш                                                                                     ДИтого с учетом скидок к позициям         &'&&&&&&&&&&&&&&&&&&.&& Д Ш
.}
.{?Internal;(op1<>'')
! Итого с учетом налогов
.FIELDS
  op1
  FRoundRub5 (op2)
! + if(not Акциз_в_цене, c2, 0) + if(not НДС_в_цене, n2, 0))
.ENDFIELDS
 Ш                                                                                     Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ &'&&&&&&&&&&&&&&&&&&.&& Д Ш
.}
.{?Internal;(d2>0)
! Скидка
.FIELDS (d1 + ' ' + StringNLZR(if(d3=' %',d2,SkRub),0,3) + ' %') if(d3=' %',SkRub,d2) .ENDFIELDS
 Ш                                                                                     Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ &'&&&&&&&&&&&&&&&&&&.&& Д Ш
.}
! К оплате
.FIELDS
!  k1 + if(not Акциз_в_цене, c2, 0) + if(not НДС_в_цене, n2, 0)
  k1
  sdoc
.ENDFIELDS

 Щ                                                                                     ДИТОГО к оплате                           &'&&&&&&&&&&&&&&&&&&.&& Д  Б^ Ш
.{?Internal;((n2>0)or(c2>0)or(ItogSumNalProd>0))
 Ш                                                                                      в том числе: Ш
.}
.{?Internal;(n2>0)
! НДС
.FIELDS n1 n2 .ENDFIELDS
 Ш                                                                                             Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ &'&&&&&&&&&&&&&&&&&&.&& Д Ш
.}
.{?Internal;(ItogSumNalProd>0)
! НДС
.FIELDS ItogSumNalProd .ENDFIELDS
 Ш                                                                                             ДНалог с продаж                   &'&&&&&&&&&&&&&&&&&&.&& Д Ш
.}
.{?Internal;(c2>0)
! Акциз
.FIELDS c1 c2 .ENDFIELDS
 Ш                                                                                             Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ &'&&&&&&&&&&&&&&&&&&.&& Д Ш
.}
.FIELDS
  DoubleToString(comp(0), FRoundRub5(k1))
! + if(not Акциз_в_цене, c2, 0) + if(not НДС_в_цене, n2, 0)))
  k4 k5
  kDay
  page_symb
.ENDFIELDS

     БСумма прописью: Б  Ш@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Ш
      ^ ^
     БСчет действителен в течение Б ^  Бдней Б

     БРуководитель ___________      Гл.(старший) бухгалтер ____________ Б

.if DelimiterRozn
 Ш---------------------------------------------------------------------------------------------------------------------------------------------------- Ш
.end
^
.}
.endform
!
!===============================================================================
!
#doc
Протокол согласования цен с ценой изготов.и % наценки ПОЛНЫЙ - А4L
#end
.linkform 'PRBDOCR_1' prototype is 'PRBDOCR'
.NameInList 'Протокол согласования цен с ценой изготов.и % наценки ПОЛНЫЙ - А4L'
.group 'Продажа'
.DEFO LANDSCAPE
.P 50
.var
 proc1 : double
 proc2 : double
 dlt1 : double
 dlt2 : double
 SumDlt1 : double
 SumDlt2 : double
 YearDoc : string
.endvar
.FIELDS
  CommonFormHeader
  nomer
  post bpost rspost mfobik mpost adpost telpost
  pol  bpol  rspol  mfobik mpol  adpol  telpol
  np mc barkod
  FirstCena proc1 dlt1 SumDlt1
  proc2 dlt2 SumDlt2 OtpCena
  SumNadb1  SumNadb2
  YearDoc YearDoc
.ENDFIELDS
.{
.{ CheckEnter IsExClassRozn
.}
.{ CheckEnter IsGroupRozn
.}
 Б^ Б
                                    БПРОТОКОЛ N Б ^
                        Бсогласования цен на товары (продукцию) Б

          БПОСТАВЩИК : Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
          ББанк      : Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
          БСчет N Б ^ ^ ^
          БАдрес     : Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
          Бтел./факс : Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

          БПОЛУЧАТЕЛЬ: Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
          ББанк      : Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
          БСчет N Б ^ ^ ^
          БАдрес     : Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
          Бтел./факс : Б @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

 Ш   ───┬────────────────────────────────────┬────────────────┬─────────────────┬─────────────────────────────────────────────┬─────────────────────────────────────────────┬─────────────────
   No │                                    │ Номенклатурный │   Цена изгото-  │          Оплаченная оптовая надбавка        │         Взимаемая розничная надбавка        │   Отпускная
   п/п│            Наименование            │     номер      │     вителя      ├─────────┬─────────────────┬─────────────────┼─────────┬─────────────────┬─────────────────┤      цена
      │                                    │                │   (импортера)   │ Процент │ Сумма за единицу│ Сумма по позиции│ Процент │ Сумма за единицу│ Сумма по позиции│
   ───┴────────────────────────────────────┴────────────────┴─────────────────┴─────────┴─────────────────┴─────────────────┴─────────┴─────────────────┴─────────────────┴───────────────── Ш
.{
.begin
 proc1   := OptNadb;
 dlt1    := FirstCena / 100 * OptNadb;
 SumDlt1 := FRoundRub5 (dlt1 * kol);

 proc2   := RoznNadb;
 dlt2    := RoznNadbSum;
 SumDlt2 := FRoundRub5 (dlt2 * kol);
 end.
 Ш   &&& @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@ &'&&&&&&&&&&&&&&& &&&&&&.&& &'&&&&&&&&&&&&.&& &'&&&&&&&&&&&&.&& &&&&&&.&& &'&&&&&&&&&&&&.&& &'&&&&&&&&&&&&.&& &'&&&&&&&&&&&&&&& Ш
.}
 Ш   ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Ш
 Щ                                                                                                   Итого:  &'&&&&&&&&&&&&.&&                             &'&&&&&&&&&&&&.&& Щ

.begin
  YearDoc := string(Year(cur_date))
 end.

 И      Поставщик                                                   Получатель
      ________________________                                    _________________________

      "____"____________ @@@@ г.                                  "____"____________ @@@@ г.
 И

.FIELDS
  page_symb
.ENDFIELDS
.if DelimiterRozn
 Р---------------------------------------------------------------------------------------------------------------------------- Р
.end
^
.}
.endform


#include PrbDocR1.frn