
!╔═════════════════════════════════════════════════════════════════════╗
!║      Проект ГАЛАКТИКА (c) 1994,99 TOP SOFT Ltd., АО НОВЫЙ АТЛАНТ    ║
!║  Версия :     5.71                                                  ║
!║  Разработал:  Журавлев Э.И.                                         ║
!║  Доработал:   Макс Голдин (Maks@topsoft.minsk.by)                   ║
!║  Назначение:  НАКЛАДНАЯ НА ВНУТРЕННЕЕ ПЕРЕМЕЩЕНИЕ                   ║
!║  Изменения:                                                         ║
!╚═════════════════════════════════════════════════════════════════════╝

#include PreDefs.inc

#doc
НАКЛАДНАЯ НА ВНУТРЕННЕЕ ПЕРЕМЕЩЕНИЕ
#end
.set name = 'printinmovnak'
.hide
.Group 'Vnut'
#include format2.frn
.var
  God :String[4];
  PrTH2      :Boolean;
  PrTTH1     :Boolean;
  KolStrTH2  :Byte;
  KolStrTTH1 :Byte;
.endvar
.begin
  God :=DateToStr(Cur_Date, 'YYYY');
  KolStrTH2  :=45;
  KolStrTTH1 :=35;
end.
.fields
 НрекДокумента : comp
 Nom
 Дескриптор
 Номер_с_дескриптором
 Организация
 УНН
 ОКПО
 ОКДП

 Dat:date
 ДатаДень
 ДатаМесяц
 ДатаГод
 Примечание
 ToIer
 To
 FromIer
 From
 Назначение
 Дов_Лицо
 МОЛ_Откуда
 МОЛ_Куда
 МОЛ_Откуда_Должность
 МОЛ_Куда_Должность
   мой_ИМЯ
   мой_УНН
   мой_ОКПО
   мой_Адрес
   мой_БАНК_Имя
   мой_БАНК_Счет
   мой_БАНК_Мфо


  Грузоотправительт
  Грузоотправитель_УНН
  Грузоотправитель_ОКПО
  Грузоотправитель_Адрес
  Грузоотправитель_БАНК_Имя
  Грузоотправитель_БАНК_Счет
  Грузоотправитель_БАНК_Мфо

  Грузополучатель
  Грузополучатель_УНН
  Грузополучатель_ОКПО
  Грузополучатель_Адрес
  Грузополучатель_БАНК_Имя
  Грузополучатель_БАНК_Счет
  Грузополучатель_БАНК_Мфо
#include ttn_prn.pro

  NDS_in_Price : Boolean

  Кол_строк :Word

!.{
 НрекПозиции : comp
 Npp
 NomMC
 NameMC
 ТНВЭД
 Масса:double
 Брутто:double
 Объем:double
 SizeX:double
 SizeY:double
 SizeZ:double
 Ресурс_хранения
 Код_группы
 Название_группы
 ed
 EDUCH
 KOEF:double
 ed_OKEI: string
 Партия
 Кол_Док:double
 kol:double
 price:double
 vprice:double
 sim1
 sumpr:double
 vsumpr:double
 sim2

 ProcNDS :Double
 SumNDS  :Double

 priceuch:double
 vpriceuch:double

 оптовая_надбавка:double

 аттр1
 аттр2
 аттр3
 аттр4
 аттр5
 аттр1_МЦ
 аттр2_МЦ
 аттр3_МЦ
 аттр4_МЦ
 аттр5_МЦ
!******************************************************
#ifdef _MOVENAKL_
  Налог1Р:double Налог1В:double
  Налог2Р:double Налог2В:double
  Налог3Р:double Налог3В:double
  Налог4Р:double Налог4В:double
  Налог5Р:double Налог5В:double
  Налог6Р:double Налог6В:double
  Налог_прочие_Р:double Налог_прочие_В:double
  ЦНакБН:double ЦНацБН:double ЦВалБН:double ЦНакБНУч:double ЦНацБНУч:double ЦВалБНУч:double
  ЦНакСН:double ЦНацСН:double ЦВалСН:double ЦНакСНУч:double ЦНацСНУч:double ЦВалСНУч:double
  ставка_первого_налога:double
  ЦНДСНак:double ЦАкцизНак:double ЦНПродНак:double ЦНАЛНак:double
  ЦНДСНац:double ЦАкцизНац:double ЦНПродНац:double ЦНАЛНац:double
  ЦНДСВал:double ЦАкцизВал:double ЦНПродВал:double ЦНАЛВал:double
  СтНакБН:double СтНацБН0:double СтВалБН:double СтНакСН:double СтНацСН0:double СтВалСН:double
  СтНДСНак:double СтАкцизНак:double СтНПродНак:double СтНАЛНак:double
  СтНДСНац0:double СтАкцизНац:double СтНПродНац:double СтНАЛНац:double
  СтНДСВал:double СтАкцизВал:double СтНПродВал:double СтНАЛВал:double
  ПрНДС:double ПрАкциз:double ПрНПрод:double ПрНАЛ:double
#end
!******************************************************
!.}
 Sum:double
 VSum:double
 Sim3
 Count:integer
 Sdat
 Prin

 НОМЕРДОВ
 ДАТАДОВ:date
 ДОВЕРЛИЦО
  СпТТН_ПунктР_Дата_С
  СпТТН_ПунктР_Время_С
  СпТТН_ПунктР_Дата_По
  СпТТН_ПунктР_Время_По

  СпТТН_ПунктР_Орг_Имя
  СпТТН_ПунктР_Орг_Тип
  СпТТН_ПунктР_Орг_Адрес
  СпТТН_ПунктР_Орг_ОКПО
  СпТТН_ПунктР_Орг_ОКОНХ
  СпТТН_ПунктР_Орг_ТЕЛ
  СпТТН_ПунктР_Орг_КонтИнф             // KatOrg.CONTAKTS      Контактная информация
  СпТТН_ПунктР_Орг_Email               // KatOrg.EMAIL         Электронный почтовый адрес
  СпТТН_ПунктР_Орг_OKATO               // PodrInfo.OKATO       Код по общероссийскому классификатору административно-территориального деления
  СпТТН_ПунктР_Орг_KBK                 // PodrInfo.KBK         Код бюджетной классификации
  СпТТН_ПунктР_Орг_OGRN                // PodrInfo.OGRN        Основной государственный регистрационный номер
  СпТТН_ПунктР_Орг_РегНом_в_ПФ         // PodrInfo.REGNOMPFR   Регистрационный номер в ПФ
  СпТТН_ПунктР_Орг_РегНом_Страхователя // PodrInfo.POlE3S      Регистрационный номер страхователя
  СпТТН_ПунктР_Орг_Орган_Исполн_Власти // PodrInfo.INSNAME     Орган исполнительной власти
  СпТТН_ПунктР_Орг_Форма_Собственности // FormSobs.Name        Форма собственности
  СпТТН_ПунктР_Орг_Вид_Деятельности    // FormSobs.VidD        Вид деятельности
  СпТТН_ПунктР_Орг_СТРАНА_КОД
  СпТТН_ПунктР_Орг_СТРАНА_ИМЯ
  СпТТН_ПунктР_Орг_СТРАНА_НАЛОГИ
  СпТТН_ПунктР_Орг_ГОРОД_КОД
  СпТТН_ПунктР_Орг_ГОРОД_ИМЯ
  СпТТН_ПунктР_Орг_ГОРОД_ТЕЛ
  СпТТН_ПунктР_Орг_ГОРОД_СТРАНА_КОД
  СпТТН_ПунктР_Орг_ГОРОД_СТРАНА_ИМЯ
  СпТТН_ПунктР_Орг_ГОРОД_СТРАНА_НАЛОГИ
  СпТТН_ПунктР_Орг_КОРПОРАЦИЯ
  СпТТН_ПунктР_Орг_УНН
  СпТТН_ПунктР_Орг_КПП                  // KatOrg.KODPLATNDS
  СпТТН_ПунктР_Орг_БАНК_Имя
  СпТТН_ПунктР_Орг_БАНК_Комментарий
  СпТТН_ПунктР_Орг_БАНК_Адрес
  СпТТН_ПунктР_Орг_БАНК_Мфо
  СпТТН_ПунктР_Орг_БАНК_Ркц
  СпТТН_ПунктР_Орг_БАНК_Счет
  СпТТН_ПунктР_Орг_БАНК_Счет_Ркц
  СпТТН_ПунктР_Орг_БАНК_Счет_Плат
  СпТТН_ПунктР_Орг_БАНК_Тип_Счета
  СпТТН_ПунктР_Орг_БАНК_Вид_Счета

  СпТТН_ПунктР_Доп_Имя
  СпТТН_ПунктР_Доп_Колич
  СпТТН_ПунктР_Доп_Время

  СпТТН_ПунктП_Дата_С
  СпТТН_ПунктП_Время_С
  СпТТН_ПунктП_Дата_По
  СпТТН_ПунктП_Время_По

  СпТТН_ПунктП_Орг_Имя
  СпТТН_ПунктП_Орг_Тип
  СпТТН_ПунктП_Орг_Адрес
  СпТТН_ПунктП_Орг_ОКПО
  СпТТН_ПунктП_Орг_ОКОНХ
  СпТТН_ПунктП_Орг_ТЕЛ
  СпТТН_ПунктП_Орг_КонтИнф             // KatOrg.CONTAKTS      Контактная информация
  СпТТН_ПунктП_Орг_Email               // KatOrg.EMAIL         Электронный почтовый адрес
  СпТТН_ПунктП_Орг_OKATO               // PodrInfo.OKATO       Код по общероссийскому классификатору административно-территориального деления
  СпТТН_ПунктП_Орг_KBK                 // PodrInfo.KBK         Код бюджетной классификации
  СпТТН_ПунктП_Орг_OGRN                // PodrInfo.OGRN        Основной государственный регистрационный номер
  СпТТН_ПунктП_Орг_РегНом_в_ПФ         // PodrInfo.REGNOMPFR   Регистрационный номер в ПФ
  СпТТН_ПунктП_Орг_РегНом_Страхователя // PodrInfo.POlE3S      Регистрационный номер страхователя
  СпТТН_ПунктП_Орг_Орган_Исполн_Власти // PodrInfo.INSNAME     Орган исполнительной власти
  СпТТН_ПунктП_Орг_Форма_Собственности // FormSobs.Name        Форма собственности
  СпТТН_ПунктП_Орг_Вид_Деятельности    // FormSobs.VidD        Вид деятельности
  СпТТН_ПунктП_Орг_СТРАНА_КОД
  СпТТН_ПунктП_Орг_СТРАНА_ИМЯ
  СпТТН_ПунктП_Орг_СТРАНА_НАЛОГИ
  СпТТН_ПунктП_Орг_ГОРОД_КОД
  СпТТН_ПунктП_Орг_ГОРОД_ИМЯ
  СпТТН_ПунктП_Орг_ГОРОД_ТЕЛ
  СпТТН_ПунктП_Орг_ГОРОД_СТРАНА_КОД
  СпТТН_ПунктП_Орг_ГОРОД_СТРАНА_ИМЯ
  СпТТН_ПунктП_Орг_ГОРОД_СТРАНА_НАЛОГИ
  СпТТН_ПунктП_Орг_КОРПОРАЦИЯ
  СпТТН_ПунктП_Орг_УНН
  СпТТН_ПунктП_Орг_КПП                  // KatOrg.KODPLATNDS
  СпТТН_ПунктП_Орг_БАНК_Имя
  СпТТН_ПунктП_Орг_БАНК_Комментарий
  СпТТН_ПунктП_Орг_БАНК_Адрес
  СпТТН_ПунктП_Орг_БАНК_Мфо
  СпТТН_ПунктП_Орг_БАНК_Ркц
  СпТТН_ПунктП_Орг_БАНК_Счет
  СпТТН_ПунктП_Орг_БАНК_Счет_Ркц
  СпТТН_ПунктП_Орг_БАНК_Счет_Плат
  СпТТН_ПунктП_Орг_БАНК_Тип_Счета
  СпТТН_ПунктП_Орг_БАНК_Вид_Счета

  СпТТН_ПунктП_Доп_Имя
  СпТТН_ПунктП_Доп_Колич
  СпТТН_ПунктП_Доп_Время

!-- Поля для ТТН и Ж/д

  СпТтнЖд_ЕдПодвСост_Имя
  СпТтнЖд_ЕдПодвСост_Номер
  СпТтнЖд_ЖдКвит_Номер
  СпТтнЖд_ЖдТариф          :double
  СпТтнЖд_ЖдТариф_Вал
  СпТтнЖд_ЕдВеса
  СпТтнЖд_СпособОпрВеса
  СпТтнЖд_ВесНетто         :double
  СпТтнЖд_ВесБрутто        :double
  СпТтнЖд_РесОтгрузки
  СпецСимвол

.endfields
.{
 Нрек ^
 Номер накладной ^ Дескриптор ^ Номер_с_дескриптором ^
 Организация ^ УНН ^  ОКПО ^ ОКДП ^
 Дата ^ ДатаДень ^  ДатаМесяц ^  ДатаГод ^
 Название накладной ^ Куда ^ ^ Откуда ^ ^ Назначение ^
 Доверенное лицо ^ МОЛ откуда ^ МОЛ куда ^
 МОЛ Откуда Должность ^  МОЛ Куда Должность ^
   мой_ИМЯ ^
   мой_УНН  ^
   мой_ОКПО ^
   мой_Адрес ^
   мой_БАНК_Имя ^
   мой_БАНК_Счет ^
   мой_БАНК_Мфо ^

  Грузоотправительт ^
  Грузоотправитель_УНН ^
  Грузоотправитель_ОКПО ^
  Грузоотправитель_Адрес ^
  Грузоотправитель_БАНК_Имя ^
  Грузоотправитель_БАНК_Счет ^
  Грузоотправитель_БАНК_Мфо  ^

  Грузополучатель  ^
  Грузополучатель_УНН  ^
  Грузополучатель_ОКПО ^
  Грузополучатель_Адрес ^
  Грузополучатель_БАНК_Имя ^
  Грузополучатель_БАНК_Счет ^
  Грузополучатель_БАНК_Мфо  ^
#include ttn_prn.frl

НДС в цене ^

Количество строк в спецификации ^

.begin
  if Кол_строк > 20
   PrTH2 :=True;
  else
   PrTH2 :=False;

  if Кол_строк > 23
   PrTTH1 :=True;
  else
   PrTTH1 :=False;
end.
.{
 НрекПозиции ^
 Н п/п ^ Номенкл. номер ^ Наименование ^ ТНВЭД ^ Масса ^ Брутто ^
 Объем ^ SizeX ^ SizeY ^ SizeZ ^
 Ресурс_хранения ^ Код_группы ^ Название группы ^
 Единица измерения ^ EDuch ^ koef ^ ED_OKEI ^ Партия ^
 Количество по ДО ^
 Количество ^ Цена в нац. ^ Цена в вал. ^ ^
 Стоимость в нац ^ Стоимость в вал ^ ^

 Ставка НДС ^
 Сумма НДС  ^

 Уч_цена_нац ^ Уч_цена_вал ^

 оптовая_надбавка ^

 аттр1 ^ аттр2 ^ аттр3 ^ аттр4 ^ аттр5 ^
 аттр1_МЦ ^ аттр2_МЦ ^ аттр3_МЦ ^ аттр4_МЦ ^ аттр5_МЦ ^
!*************************************************
#ifdef _MOVENAKL_
  Налог1Р ^ Налог1В ^
  Налог2Р ^ Налог2В ^
  Налог3Р ^ Налог3В ^
  Налог4Р ^ Налог4В ^
  Налог5Р ^ Налог5В ^
  Налог6Р ^ Налог6В ^
  Налог_прочие_Р ^ Налог_прочие_В ^
  ЦНакБН ^ ЦНацБН ^ ЦВалБН ^ ЦНакБНУч ^ ЦНацБНУч ^ ЦВалБНУч ^
  ЦНакСН ^ ЦНацСН ^ ЦВалСН ^ ЦНакСНУч ^ ЦНацСНУч ^ ЦВалСНУч ^
  ставка_первого_налога ^
  ЦНДСНак ^ ЦАкцизНак ^ ЦНПродНак ^ ЦНАЛНак ^
  ЦНДСНац ^ ЦАкцизНац ^ ЦНПродНац ^ ЦНАЛНац ^
  ЦНДСВал ^ ЦАкцизВал ^ ЦНПродВал ^ ЦНАЛВал ^
  СтНакБН ^ СтНацБН0 ^ СтВалБН ^ СтНакСН ^
  СтНацСН0 ^
  СтВалСН ^
  СтНДСНак ^ СтАкцизНак ^ СтНПродНак ^ СтНАЛНак ^
  СтНДСНац0 ^
  СтАкцизНац ^ СтНПродНац ^ СтНАЛНац ^
  СтНДСВал ^ СтАкцизВал ^ СтНПродВал ^ СтНАЛВал ^
  ПрНДС ^ ПрАкциз ^ ПрНПрод ^ ПрНАЛ ^
#end
!*************************************************

.}
 Сумма в нац ^  Сумма в вал ^ ^ Количество наименований ^  Сдал ^  Принял ^

 НОМЕРДОВ^
 ДАТАДОВ^
 ДОВЕРЛИЦО^
  СпТТН_ПунктР_Дата_С                  ^
  СпТТН_ПунктР_Время_С                 ^
  СпТТН_ПунктР_Дата_По                 ^
  СпТТН_ПунктР_Время_По                ^

  СпТТН_ПунктР_Орг_Имя                 ^
  СпТТН_ПунктР_Орг_Тип                 ^
  СпТТН_ПунктР_Орг_Адрес               ^
  СпТТН_ПунктР_Орг_ОКПО                ^
  СпТТН_ПунктР_Орг_ОКОНХ               ^
  СпТТН_ПунктР_Орг_ТЕЛ                 ^
  СпТТН_ПунктР_Орг_КонтИнф             ^
  СпТТН_ПунктР_Орг_Email               ^
  СпТТН_ПунктР_Орг_OKATO               ^
  СпТТН_ПунктР_Орг_KBK                 ^
  СпТТН_ПунктР_Орг_OGRN                ^
  СпТТН_ПунктР_Орг_РегНом_в_ПФ         ^
  СпТТН_ПунктР_Орг_РегНом_Страхователя ^
  СпТТН_ПунктР_Орг_Орган_Исполн_Власти ^
  СпТТН_ПунктР_Орг_Форма_Собственности ^
  СпТТН_ПунктР_Орг_Вид_Деятельности    ^
  СпТТН_ПунктР_Орг_СТРАНА_КОД          ^
  СпТТН_ПунктР_Орг_СТРАНА_ИМЯ          ^
  СпТТН_ПунктР_Орг_СТРАНА_НАЛОГИ       ^
  СпТТН_ПунктР_Орг_ГОРОД_КОД           ^
  СпТТН_ПунктР_Орг_ГОРОД_ИМЯ           ^
  СпТТН_ПунктР_Орг_ГОРОД_ТЕЛ           ^
  СпТТН_ПунктР_Орг_ГОРОД_СТРАНА_КОД    ^
  СпТТН_ПунктР_Орг_ГОРОД_СТРАНА_ИМЯ    ^
  СпТТН_ПунктР_Орг_ГОРОД_СТРАНА_НАЛОГИ ^
  СпТТН_ПунктР_Орг_КОРПОРАЦИЯ          ^
  СпТТН_ПунктР_Орг_УНН                 ^
  СпТТН_ПунктР_Орг_КПП                 ^
  СпТТН_ПунктР_Орг_БАНК_Имя            ^
  СпТТН_ПунктР_Орг_БАНК_Комментарий    ^
  СпТТН_ПунктР_Орг_БАНК_Адрес          ^
  СпТТН_ПунктР_Орг_БАНК_Мфо            ^
  СпТТН_ПунктР_Орг_БАНК_Ркц            ^
  СпТТН_ПунктР_Орг_БАНК_Счет           ^
  СпТТН_ПунктР_Орг_БАНК_Счет_Ркц       ^
  СпТТН_ПунктР_Орг_БАНК_Счет_Плат      ^
  СпТТН_ПунктР_Орг_БАНК_Тип_Счета      ^
  СпТТН_ПунктР_Орг_БАНК_Вид_Счета      ^

  СпТТН_ПунктР_Доп_Имя                 ^
  СпТТН_ПунктР_Доп_Колич               ^
  СпТТН_ПунктР_Доп_Время               ^

  СпТТН_ПунктП_Дата_С                  ^
  СпТТН_ПунктП_Время_С                 ^
  СпТТН_ПунктП_Дата_По                 ^
  СпТТН_ПунктП_Время_По                ^

  СпТТН_ПунктП_Орг_Имя                 ^
  СпТТН_ПунктП_Орг_Тип                 ^
  СпТТН_ПунктП_Орг_Адрес               ^
  СпТТН_ПунктП_Орг_ОКПО                ^
  СпТТН_ПунктП_Орг_ОКОНХ               ^
  СпТТН_ПунктП_Орг_ТЕЛ                 ^
  СпТТН_ПунктП_Орг_КонтИнф             ^
  СпТТН_ПунктП_Орг_Email               ^
  СпТТН_ПунктП_Орг_OKATO               ^
  СпТТН_ПунктП_Орг_KBK                 ^
  СпТТН_ПунктП_Орг_OGRN                ^
  СпТТН_ПунктП_Орг_РегНом_в_ПФ         ^
  СпТТН_ПунктП_Орг_РегНом_Страхователя ^
  СпТТН_ПунктП_Орг_Орган_Исполн_Власти ^
  СпТТН_ПунктП_Орг_Форма_Собственности ^
  СпТТН_ПунктП_Орг_Вид_Деятельности    ^
  СпТТН_ПунктП_Орг_СТРАНА_КОД          ^
  СпТТН_ПунктП_Орг_СТРАНА_ИМЯ          ^
  СпТТН_ПунктП_Орг_СТРАНА_НАЛОГИ       ^
  СпТТН_ПунктП_Орг_ГОРОД_КОД           ^
  СпТТН_ПунктП_Орг_ГОРОД_ИМЯ           ^
  СпТТН_ПунктП_Орг_ГОРОД_ТЕЛ           ^
  СпТТН_ПунктП_Орг_ГОРОД_СТРАНА_КОД    ^
  СпТТН_ПунктП_Орг_ГОРОД_СТРАНА_ИМЯ    ^
  СпТТН_ПунктП_Орг_ГОРОД_СТРАНА_НАЛОГИ ^
  СпТТН_ПунктП_Орг_КОРПОРАЦИЯ          ^
  СпТТН_ПунктП_Орг_УНН                 ^
  СпТТН_ПунктП_Орг_КПП                 ^
  СпТТН_ПунктП_Орг_БАНК_Имя            ^
  СпТТН_ПунктП_Орг_БАНК_Комментарий    ^
  СпТТН_ПунктП_Орг_БАНК_Адрес          ^
  СпТТН_ПунктП_Орг_БАНК_Мфо            ^
  СпТТН_ПунктП_Орг_БАНК_Ркц            ^
  СпТТН_ПунктП_Орг_БАНК_Счет           ^
  СпТТН_ПунктП_Орг_БАНК_Счет_Ркц       ^
  СпТТН_ПунктП_Орг_БАНК_Счет_Плат      ^
  СпТТН_ПунктП_Орг_БАНК_Тип_Счета      ^
  СпТТН_ПунктП_Орг_БАНК_Вид_Счета      ^

  СпТТН_ПунктП_Доп_Имя                 ^
  СпТТН_ПунктП_Доп_Колич               ^
  СпТТН_ПунктП_Доп_Время               ^

!-- Поля для ТТН и Ж/д

  СпТтнЖд_ЕдПодвСост_Имя               ^
  СпТтнЖд_ЕдПодвСост_Номер             ^
  СпТтнЖд_ЖдКвит_Номер                 ^
  СпТтнЖд_ЖдТариф                      ^
  СпТтнЖд_ЖдТариф_Вал                  ^
  СпТтнЖд_ЕдВеса                       ^
  СпТтнЖд_СпособОпрВеса                ^
  СпТтнЖд_ВесНетто                     ^
  СпТтнЖд_ВесБрутто                    ^
  СпТтнЖд_РесОтгрузки                  ^
  СпецСимвол                           ^
.}
.endform


#doc
Стандартная накладная на внутреннее перемещение
#end
.linkform 'printinmovnak_01' prototype is 'printinmovnak'
.NameInList '1. Стандартная накладная на внутреннее перемещение'
.Group 'Vnut'
.DEFP PA4
.fields
 CommonFormHeader
 Номер_с_дескриптором Dat FromIer ToIer
 Примечание

 Npp
 NomMC
 NameMC
 ed

 DoubleToStr(Kol, Kol_Pr)
 DoubleToStr(price, Cena_Pr)
! DoubleToStr(price * Kol, Cena_Pr)
 DoubleToStr(SumPr, Cena_Pr)

 DoubleToStr(Sum, Cena_Pr)
 Count


 if (МОЛ_Откуда_Должность <> '',Sdat+' ('+МОЛ_Откуда_Должность+')',Sdat)
 if (МОЛ_Куда_Должность   <> '',Prin+' ('+МОЛ_Куда_Должность  +')',Prin)
 СпецСимвол
.endfields
.{
 ^

               НАКЛАДНАЯ НА ВНУТРЕННЕЕ ПЕРЕМЕЩЕНИЕ
                  №  Б^ Б от  Б^ Б

  Куда   : @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  Откуда : @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

  ^ Р
┌─────┬────────────┬─────────────────────────────────────┬───────────┬──────────────┬───────────────┬──────────────┐
│№ п/п│ Номенклат. │      Название МЦ                    │  Единица  │  Количество  │     Цена      │   Стоимость  │
│     │   номер    │                                     │ измерения │              │               │              │
├─────┼────────────┼─────────────────────────────────────┼───────────┼──────────────┼───────────────┼──────────────┤
.{
│@@@@@│@@@@@@@@@@@@│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@@@@@@@@@@@│&&&&&&&&&&&&&&│&&&&&&&&&&&&&&&│&&&&&&&&&&&&&&│
.}
└─────┴────────────┴─────────────────────────────────────┴───────────┴──────────────┴───────────────┴──────────────┘
 Б Итого :                                                                                            &&&&&&&&&&&&&&& Р
 С Количество наименований : @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

 Сдал            @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Принял          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Отпуск разрешил ___________________________________________________________________________________________________
 Отпуск произвел ___________________________________________________________________________________________________
 Товар получил   ___________________________________________________________________________________________________
 Гл.бухгалтер    ___________________________________________________________________________________________________
 Р
  ^
.}
.endform


#doc
Валютная накладная на внутреннее перемещение
#end
.linkform 'printinmovnak_02' prototype is 'printinmovnak'
.NameInList '2. Валютная накладная на внутреннее перемещение'
.Group 'Vnut'
.DEFP PA4
.var
  Itigo_Sum, Itogo_Kol :Double;
.endvar
.fields
 CommonFormHeader
 Номер_с_дескриптором Dat FromIer ToIer

 Npp
 NomMC
 NameMC
 ed

 DoubleToStr(Kol, Kol_Pr)
 DoubleToStr(vPrice, Cena_PrV) sim1
 DoubleToStr(vSumPr, Cena_PrV) sim2

 DoubleToStr(vSum, Cena_PrV)   Sim3
 Count

 if (МОЛ_Откуда_Должность <> '',Sdat+' ('+МОЛ_Откуда_Должность+')',Sdat)
 if (МОЛ_Куда_Должность   <> '',Prin+' ('+МОЛ_Куда_Должность  +')',Prin)
! Sdat Prin
 СпецСимвол
.endfields
.{
 ^

               НАКЛАДНАЯ НА ВНУТРЕННЕЕ ПЕРЕМЕЩЕНИЕ
                  №   Б^ Б от  Б^ Б

  Куда   : @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  Откуда : @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

 Р
┌─────┬────────────┬─────────────────────────────────────┬───────────┬──────────────┬───────────────┬──────────────┐
│№ п/п│ Номенклат. │       Наименование МЦ               │  Единица  │  Количество  │     Цена      │   Стоимость  │
│     │   номер    │                                     │ измерения │              │               │              │
├─────┼────────────┼─────────────────────────────────────┼───────────┼──────────────┼───────────────┼──────────────┤
.{
│@@@@@│@@@@@@@@@@@@│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@@@@@@@@@@@│&&&&&&&&&&&&&&│&&&&&&&&&& @@@@│&&&&&&&&& @@@@│
.}
└─────┴────────────┴─────────────────────────────────────┴───────────┴──────────────┴───────────────┴──────────────┘
 Б Итого :                                                                                            &&&&&&&&&& @@@@ Р
 С Количество наименований : @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

 Сдал            @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Принял          @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Отпуск разрешил ___________________________________________________________________________________________________
 Отпуск произвел ___________________________________________________________________________________________________
 Товар получил   ___________________________________________________________________________________________________
 Гл.бухгалтер    ___________________________________________________________________________________________________

 Р
  ^
.}
.endform



!******************************************************************************
!******************************************************************************
!******************************************************************************
/*
#doc
Товарная накладная № ТН-2 (с НДС и оптовой надбавкой)
#end
.LinkForm 'printinmovnak2_TN2' prototype is 'printinmovnak'
.NameInList '(3.) Товарная накладная № ТН-2 (с НДС и оптовой надбавкой)'
.Group 'Vnut'
.Set Filler = '-'
.DEFO PORTRAIT
.p 70
.O 5
.Set Filler = '-'
.var
  mfo_, unn_ : string;
.endvar
#ifdef GAL5_80
.begin
  mfo_ := ' ' + sGetTune('KatOrg.FldView.MFO') + ' ';
  unn_ := ' ' + sGetTune('KatOrg.FldView.UNN') + ' ';
end.
#else
.Create view mfo_view
From
  usertune
 ,systdate
where
((
  UserName == Usertune.OwnName
))
;
.begin
  mfo_view.getfirst systdate;
  mfo_ := ' ' + mfo_view.systdate.MFOBIK + ' ';
  mfo_view.getfirst usertune;
  unn_ := ' ' + mfo_view.usertune.UNNName + ' ';
end.
#end
.var
  Itigo_Sum, Itigo_SumHDC, Itogo_Mest :Double;
  Itigo_Sum0, Itigo_SumHDC0, Itogo_Mest0 :Double;
  NomPp, KolSt, KolStr :Word;
.endvar
.{
.{?Internal;not PrTH2
.fields
  УНН
  УНН
  ОКПО
  ОКПО

  Номер_с_дескриптором
  DateToStr(Dat, '"DD" mon YYYY г.')
.endfields
.}
.{?Internal; PrTH2
.fields
  Номер_с_дескриптором
  DateToStr(Dat, '"DD" mon YYYY г.')
.endfields
.}
.fields
  if(Грузоотправительт = '', Организация + ' (' + To + ')',
                             Грузоотправительт
                              +' ОКПО  '+  Грузоотправитель_ОКПО
                              +unn_     +  Грузоотправитель_УНН
                              +' Адрес:'+  Грузоотправитель_Адрес
                              + ' Банк:'+  Грузоотправитель_БАНК_Имя
                              + ' р/с ' +  Грузоотправитель_БАНК_Счет
                              + mfo_    +  Грузоотправитель_БАНК_Мфо) : 'D:R'

  if(Грузополучатель = '', Организация + ' (' + From + ')',
                           Грузополучатель
                            +' ОКПО  '+  Грузополучатель_ОКПО
                            +unn_     +  Грузополучатель_УНН
                            +' Адрес:'+  Грузополучатель_Адрес
                            + ' Банк:'+  Грузополучатель_БАНК_Имя
                            + ' р/с ' +  Грузополучатель_БАНК_Счет
                            + mfo_    +  Грузополучатель_БАНК_Мфо) : 'D:R'
.endfields
.{?Internal;not PrTH2





 С                                        @~@@@@@@@@@@@@@@@@@@@@ @~@@@@@@@@@@@@@@@@@@@@ С

 С                                        @~@@@@@@@@@@@@@@@@@@@@ @~@@@@@@@@@@@@@@@@@@@@ С


 С                                                                      ^ С



 С                                     @~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ С


.}
.{
.[h
.{?Internal; PrTH2
 Ш                                                                                                                                       лист  Б@NP@ Б Ш
 ШПриложение к накладной №  З^ З от  З^ Я
.}
 ШОтправитель        З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Я
 ШПолучатель         З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Я
.{?Internal;not PrTH2
 ШОснование отпуска ______________________________________________________________________________________________________________________________ Ш
 ШЦель приобретения продукции (товара) ___________________________________________________________________________________________________________ Ш
 ШКому выданы товарно-материальные ценности ______________________________________________________________________________________________________ Ш
.}
.fields
!.{
   String(NomPp) + '.' + NameMC : 'D:R'
   EdUch : 'D:R'

   DoubleToStr(Kol * Koef, Kol_Pr)
   DoubleToStr(Price / Koef - if(NDS_in_Price, SumNDS / Kol, 0), Cena_Pr)
!   DoubleToStr(Price * Kol - if(NDS_in_Price, SumNDS * Koef, 0), Cena_Pr)
   оптовая_надбавка
   DoubleToStr(SumPr - if(NDS_in_Price, SumNDS * Koef, 0), Cena_Pr)

   ProcNDS
   if(SumNDS <> 0, DoubleToStr(SumNDS * Koef, Cena_Pr), '-')
!   DoubleToStr(Price * Kol + if(not NDS_in_Price, SumNDS * Koef, 0), Cena_Pr)
   DoubleToStr(SumPr + if(not NDS_in_Price, SumNDS * Koef, 0), Cena_Pr)

   if(Ed <> EdUch, Ed, '-') : 'D:R'
   DoubleToStr(Kol, Kol_Pr)
   DoubleToStr(Koef, Kol_Pr)
!.}
.endfields
.begin
  Itigo_Sum    :=0;
  Itigo_SumHDC :=0;
  Itogo_Mest   :=0;
end.

 Ш───────────────────────────────┬──────────────────────────────────────────────────────────────────────────────────────────────────────────────── Ш
 Ш                               │                                       Сведения о продукции (товаре)                                             Ш
 Ш Наименование продукции, товара├───────┬──────────┬──────────┬──────┬────────────┬──────┬────────────┬────────────┬───────┬──────────┬────────── Ш
 Ш (с указанием сорта, размера,  │  еди- │          │   цена   │ Опт. │ стоимость  │ставка│   сумма    │   всего    │  вид  │          │количество Ш
 Ш артикула, прейскуранта и т.д.)│  ница │количество│ единицы  │надбав│ продукции, │ НДС, │    НДС,    │   с НДС,   │ тары, │количество│продукции  Ш
 Ш                               │ изме- │продукции │продукции,│  %   │   руб.     │  %   │    руб.    │    руб.    │  упа- │ упаковок │в упаковке Ш
 Ш                               │ рения │          │   руб.   │      │            │      │            │            │ ковки │          │           Ш
 Ш───────────────────────────────┼───────┼──────────┼──────────┼──────┼────────────┼──────┼────────────┼────────────┼───────┼──────────┼────────── Ш
 Ш               1               │   2   │    3     │    4     │  5   │     6      │  7   │     8      │     9      │  10   │    11    │    12     Ш
 Ш───────────────────────────────┼───────┼──────────┼──────────┼──────┼────────────┼──────┼────────────┼────────────┼───────┼──────────┼────────── Ш
.]h
.begin
  NomPp :=NomPp + 1;

!  Itigo_Sum    :=Itigo_Sum + Price * Kol - if(NDS_in_Price, SumNDS * Koef, 0);
  Itigo_Sum    :=Itigo_Sum + SumPr - if(NDS_in_Price, SumNDS * Koef, 0);
  Itigo_SumHDC :=Itigo_SumHDC + SumNDS * Koef;
  Itogo_Mest   :=Itogo_Mest + Kol;

!  Itigo_Sum0    :=Itigo_Sum0 + Price * Kol - if(NDS_in_Price, SumNDS * Koef, 0);
  Itigo_Sum0    :=Itigo_Sum0 + SumPr - if(NDS_in_Price, SumNDS * Koef, 0);
  Itigo_SumHDC0 :=Itigo_SumHDC0 + SumNDS * Koef;
  Itogo_Mest0   :=Itogo_Mest0 + Kol;

  KolStr :=KolStr + 1;
end.
 Ш@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@~@@@@@│&#'&&&&&&&│&#'&&&&&&&│&#&.&&│&#'&&&&&&&&&│&#&.&&│&#'&&&&&&&&&│&#'&&&&&&&&&│@~@@@@@│&#'&&&&&&&│&#'&&&&&&& Ш
.{?Internal; (PrTH2) and (KolStr = KolStrTH2)
.begin
 KolStr :=0;
end.
.begin
 KolSt :=KolSt + 1;
end.
.fields
  DoubleToStr(Itigo_Sum, Cena_Pr)
  if(Itigo_SumHDC <> 0, DoubleToStr(Itigo_SumHDC, Cena_Pr), '-')
  DoubleToStr(Itigo_Sum + Itigo_SumHDC, Cena_Pr)
  DoubleToStr(Itogo_Mest, Kol_Pr)
.endfields
 Ш───────────────────────────────┼───────┼──────────┼──────────┼──────┼────────────┼──────┼────────────┼────────────┼───────┼──────────┼────────── Ш
 Ш Итого ....................... │       │          │          │      │&#'&&&&&&&&&│      │&#'&&&&&&&&&│&#'&&&&&&&&&│       │&#'&&&&&&&│           Ш
 Ш                               └───────┴──────────┴──────────┴──────┴────────────┴──────┴────────────┴────────────┴───────┴──────────┴────────── Ш

 Ш                                                                               Отпуск разрешил _________________________________________________ Ш
 ШСдал отправитель _______________________________________                       Cдал водитель(экспедитор) _______________________________________ Ш
 ШПринял водитель  _______________________________________                       Принял получатель _______________________________________________ Ш

 Ш                     Штамп отправителя                                                                 Штамп получателя Ш

.}
.}
.fields
  DoubleToStr(Itigo_Sum, Cena_Pr)
  if(Itigo_SumHDC <> 0, DoubleToStr(Itigo_SumHDC, Cena_Pr), '-')
  DoubleToStr(Itigo_Sum + Itigo_SumHDC, Cena_Pr)
  DoubleToStr(Itogo_Mest, Kol_Pr)
.endfields
 Ш───────────────────────────────┼───────┼──────────┼──────────┼──────┼────────────┼──────┼────────────┼────────────┼───────┼──────────┼────────── Ш
 Ш Итого ....................... │       │          │          │      │&#'&&&&&&&&&│      │&#'&&&&&&&&&│&#'&&&&&&&&&│       │&#'&&&&&&&│           Ш
 Ш                               └───────┴──────────┴──────────┴──────┴────────────┴──────┴────────────┴────────────┴───────┴──────────┴────────── Ш
.{?Internal; PrTH2

 Ш                                                                               Отпуск разрешил _________________________________________________ Ш
 ШСдал отправитель _______________________________________                       Cдал водитель(экспедитор) _______________________________________ Ш
 ШПринял водитель  _______________________________________                       Принял получатель _______________________________________________ Ш

 Ш                      Штамп отправителя                                                                 Штамп получателя Ш

.begin
 KolSt :=KolSt + 1;
end.
.fields
  'true' : 's'
.endfields
^
.fields
  УНН
  УНН
  ОКПО
  ОКПО

  Номер_с_дескриптором
  DateToStr(Dat, '"DD" mon YYYY г.')

  if(Грузоотправительт = '', Организация + ' (' + To + ')',
                             Грузоотправительт
                              +' ОКПО  '+  Грузоотправитель_ОКПО
                              +unn_     +  Грузоотправитель_УНН
                              +' Адрес:'+  Грузоотправитель_Адрес
                              + ' Банк:'+  Грузоотправитель_БАНК_Имя
                              + ' р/с ' +  Грузоотправитель_БАНК_Счет
                              + mfo_    +  Грузоотправитель_БАНК_Мфо) : 'D:R'

  if(Грузополучатель = '', Организация + ' (' + From + ')',
                           Грузополучатель
                            +' ОКПО  '+  Грузополучатель_ОКПО
                            +unn_     +  Грузополучатель_УНН
                            +' Адрес:'+  Грузополучатель_Адрес
                            + ' Банк:'+  Грузополучатель_БАНК_Имя
                            + ' р/с ' +  Грузополучатель_БАНК_Счет
                            + mfo_    +  Грузополучатель_БАНК_Мфо) : 'D:R'
.endfields





 С                                        @~@@@@@@@@@@@@@@@@@@@@ @~@@@@@@@@@@@@@@@@@@@@ С

 С                                        @~@@@@@@@@@@@@@@@@@@@@ @~@@@@@@@@@@@@@@@@@@@@ С


 С                                                                      ^ С



 С                                     @~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ С


 ШОтправитель        З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Я
 ШПолучатель         З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Я
 ШОснование отпуска ______________________________________________________________________________________________________________________________ Ш
 ШЦель приобретения продукции (товара) ___________________________________________________________________________________________________________ Ш
 ШКому выданы товарно-материальные ценности ______________________________________________________________________________________________________ Ш
 Ш───────────────────────────────┬──────────────────────────────────────────────────────────────────────────────────────────────────────────────── Ш
 Ш                               │                                       Сведения о продукции (товаре)                                             Ш
 Ш Наименование продукции, товара├───────┬──────────┬──────────┬──────┬────────────┬──────┬────────────┬────────────┬───────┬──────────┬────────── Ш
 Ш (с указанием сорта, размера,  │  еди- │          │   цена   │ Опт. │ стоимость  │ставка│   сумма    │   всего    │  вид  │          │количество Ш
 Ш артикула, прейскуранта и т.д.)│  ница │количество│ единицы  │надбав│ продукции, │ НДС, │    НДС,    │   с НДС,   │ тары, │количество│продукции  Ш
 Ш                               │ изме- │продукции │продукции,│  %   │   руб.     │  %   │    руб.    │    руб.    │  упа- │ упаковок │в упаковке Ш
 Ш                               │ рения │          │   руб.   │      │            │      │            │            │ ковки │          │           Ш
 Ш───────────────────────────────┼───────┼──────────┼──────────┼──────┼────────────┼──────┼────────────┼────────────┼───────┼──────────┼────────── Ш
 Ш               1               │   2   │    3     │    4     │  5   │     6      │  7   │     8      │     9      │  10   │    11    │    12     Ш
 Ш───────────────────────────────┴───────┴──────────┴──────────┴──────┴────────────┴──────┴────────────┴────────────┴───────┴──────────┴────────── Ш
.fields
  Номер_с_дескриптором
  DateToStr(Dat, '"DD" mon YYYY г.')

  DoubleToStr(KolSt, '4')
.endfields
 Ш Перечень продукции согласно приложения к накладной №  З^ З  от  З^ З  на  З^ З лист(ах). Ш
.fields
  DoubleToStr(Itigo_Sum0, Cena_Pr)
  if(Itigo_SumHDC0 <> 0, DoubleToStr(Itigo_SumHDC0, Cena_Pr), '-')
  DoubleToStr(Itigo_Sum0 + Itigo_SumHDC0, Cena_Pr)
  DoubleToStr(Itogo_Mest0, Kol_Pr)
.endfields
 Ш                               ┌───────┬──────────┬──────────┬──────┬────────────┬──────┬────────────┬────────────┬───────┬──────────┬────────── Ш
 Ш Всего по накладной .......... │       │          │          │      │&#'&&&&&&&&&│      │&#'&&&&&&&&&│&#'&&&&&&&&&│       │&#'&&&&&&&│           Ш
 Ш                               └───────┴──────────┴──────────┴──────┴────────────┴──────┴────────────┴────────────┴───────┴──────────┴────────── Ш
.}

.fields
  DoubleToString(0, Round(Itigo_SumHDC0, wCena_Pr))
  DoubleToString(0, Round(Itigo_Sum0 + Itigo_SumHDC0, wCena_Pr))

  DoubleToStr(NomPp, '4\n')

  if(МОЛ_Откуда <> '',
     if(МОЛ_Откуда_Должность <> '',
        МОЛ_Откуда_Должность + ', ' + МОЛ_Откуда,
        МОЛ_Откуда),
     '')
.endfields
 ИСумма НДС  З @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ П
 ИВсего отпущено на сумму с НДС  З @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ П
 ИВсего отпущено наименований  З @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ З  № пломбы __________ И
 ИС товаром переданы документы __________________________________________________________ И
 ИОтпуск разрешил _______________________________________________________________________ И
 ИОтпуск произвел  З @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ П
 ИТовар получил   _______________________________________________________________________ И
 ИУказаный товар сдал ___________________________________________________________________ И
 ИПринятое количество и стоимость товара_________________________________________________ И
 И______________________________________________________________  № пломбы ______________ И
 ИПринял ________________________________________________________________________________ И
.}
.endform
!==============================================================================
!==============================================================================



!******************************************************************************
!******************************************************************************
!******************************************************************************
#doc
Товарная накладная № ТН-2 (с НДС)(в тыс. руб.)
#end
.LinkForm 'printinmovnak_TN2' prototype is 'printinmovnak'
.NameInList '(4.) Товарная накладная № ТН-2 (с НДС)(в тыс. руб.)'
.Group 'Vnut'
.Set Filler = '-'
.DEFO PORTRAIT
.p 70
.O 5
.Set Filler = '-'
.var
  mfo_, unn_ : string;
.endvar
.begin
  mfo_ := ' ' + sGetTune('KatOrg.FldView.MFO') + ' ';
  unn_ := ' ' + sGetTune('KatOrg.FldView.UNN') + ' ';
end.
.var
  Itigo_Sum, Itigo_SumHDC, Itogo_Mest :Double;
  Itigo_Sum0, Itigo_SumHDC0, Itogo_Mest0 :Double;
  NomPp, KolSt, KolStr :Word;
.endvar
.{
.{?Internal;not PrTH2
.fields
  УНН
  УНН
  ОКПО
  ОКПО

  Номер_с_дескриптором
  DateToStr(Dat, '"DD" mon YYYY г.')
.endfields
.}
.{?Internal; PrTH2
.fields
  Номер_с_дескриптором
  DateToStr(Dat, '"DD" mon YYYY г.')
.endfields
.}
.fields
  if(Грузоотправительт = '', Организация + ' (' + To + ')',
                             Грузоотправительт
                              +' ОКПО  '+  Грузоотправитель_ОКПО
                              +unn_     +  Грузоотправитель_УНН
                              +' Адрес:'+  Грузоотправитель_Адрес
                              + ' Банк:'+  Грузоотправитель_БАНК_Имя
                              + ' р/с ' +  Грузоотправитель_БАНК_Счет
                              + mfo_    +  Грузоотправитель_БАНК_Мфо) : 'D:R'

  if(Грузополучатель = '', Организация + ' (' + From + ')',
                           Грузополучатель
                            +' ОКПО  '+  Грузополучатель_ОКПО
                            +unn_     +  Грузополучатель_УНН
                            +' Адрес:'+  Грузополучатель_Адрес
                            + ' Банк:'+  Грузополучатель_БАНК_Имя
                            + ' р/с ' +  Грузополучатель_БАНК_Счет
                            + mfo_    +  Грузополучатель_БАНК_Мфо) : 'D:R'
.endfields
.{?Internal;not PrTH2





 С                                        @~@@@@@@@@@@@@@@@@@@@@ @~@@@@@@@@@@@@@@@@@@@@ С

 С                                        @~@@@@@@@@@@@@@@@@@@@@ @~@@@@@@@@@@@@@@@@@@@@ С


 С                                                                      ^ С



 С                                     @~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ С


.}
.{
.[h
.{?Internal; PrTH2
 Ш                                                                                                                                       лист  Б@NP@ Б Ш
 ШПриложение к накладной №  З^ З от  З^ Я
.}
 ШОтправитель        З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Я
 ШПолучатель         З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Я
.{?Internal;not PrTH2
 ШОснование отпуска ______________________________________________________________________________________________________________________________ Ш
 ШЦель приобретения продукции (товара) ___________________________________________________________________________________________________________ Ш
 ШКому выданы товарно-материальные ценности ______________________________________________________________________________________________________ Ш
.}
.fields
!.{
   String(NomPp) + '.' + NameMC : 'D:R'
   EdUch : 'D:R'

   DoubleToStr(Kol * Koef, Kol_Pr)
   DoubleToStr((Price / Koef - if(NDS_in_Price, SumNDS / Kol, 0)) / 1000, Cena_Pr)
!   DoubleToStr((Price * Kol - if(NDS_in_Price, SumNDS * Koef, 0)) / 1000, Cena_Pr)
   DoubleToStr((SumPr - if(NDS_in_Price, SumNDS * Koef, 0)) / 1000, Cena_Pr)

   ProcNDS
   if(SumNDS <> 0, DoubleToStr(SumNDS * Koef / 1000, Cena_Pr), '-')
!   DoubleToStr((Price * Kol + if(not NDS_in_Price, SumNDS * Koef, 0)) / 1000, Cena_Pr)
   DoubleToStr((SumPr + if(not NDS_in_Price, SumNDS * Koef, 0)) / 1000, Cena_Pr)

   if(Ed <> EdUch, Ed, '-') : 'D:R'
   DoubleToStr(Kol, Kol_Pr)
   DoubleToStr(Koef, Kol_Pr)
!.}
.endfields
.begin
  Itigo_Sum    :=0;
  Itigo_SumHDC :=0;
  Itogo_Mest   :=0;
end.

 Ш──────────────────────────────────────┬───────────────────────────────────────────────────────────────────────────────────────────────────────── Ш
 Ш                                      │                                    Сведения о продукции (товаре)                                         Ш
 Ш   Наименование продукции, товара     ├───────┬──────────┬──────────┬────────────┬──────┬────────────┬────────────┬───────┬──────────┬────────── Ш
 Ш   (с указанием сорта, размера,       │  еди- │          │   цена   │ стоимость  │ставка│   сумма    │   всего    │  вид  │          │количество Ш
 Ш   артикула, прейскуранта и т.д.)     │  ница │количество│ единицы  │ продукции, │ НДС, │    НДС,    │   с НДС,   │ тары, │количество│продукции  Ш
 Ш                                      │ изме- │продукции │продукции,│ тыс. руб.  │  %   │  тыс. руб. │  тыс. руб. │  упа- │ упаковок │в упаковке Ш
 Ш                                      │ рения │          │ тыс. руб.│            │      │            │            │ ковки │          │           Ш
 Ш──────────────────────────────────────┼───────┼──────────┼──────────┼────────────┼──────┼────────────┼────────────┼───────┼──────────┼────────── Ш
 Ш                  1                   │   2   │     3    │    4     │     5      │  6   │     7      │     8      │   9   │    10    │    11     Ш
 Ш──────────────────────────────────────┼───────┼──────────┼──────────┼────────────┼──────┼────────────┼────────────┼───────┼──────────┼────────── Ш
.]h
.begin
  NomPp :=NomPp + 1;

!  Itigo_Sum    :=Itigo_Sum + (Price * Kol -
  Itigo_Sum    :=Itigo_Sum + (SumPr -
                              if(NDS_in_Price, SumNDS * Koef, 0)) / 1000;
  Itigo_SumHDC :=Itigo_SumHDC + SumNDS * Koef / 1000;
  Itogo_Mest   :=Itogo_Mest + Kol;

!  Itigo_Sum0    :=Itigo_Sum0 + (Price * Kol -
  Itigo_Sum0    :=Itigo_Sum0 + (SumPr -
                                if(NDS_in_Price, SumNDS * Koef, 0)) / 1000;
  Itigo_SumHDC0 :=Itigo_SumHDC0 + SumNDS * Koef / 1000;
  Itogo_Mest0   :=Itogo_Mest0 + Kol;

  KolStr :=KolStr + 1;
end.
 Ш@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@~@@@@@│&#'&&&&&&&│&#'&&&&&&&│&#'&&&&&&&&&│&#&.&&│&#'&&&&&&&&&│&#'&&&&&&&&&│@~@@@@@│&#'&&&&&&&│&#'&&&&&&& Ш
.{?Internal; (PrTH2) and (KolStr = KolStrTH2)
.begin
 KolStr :=0;
end.
.begin
 KolSt :=KolSt + 1;
end.
.fields
  DoubleToStr(Itigo_Sum, Cena_Pr)
  if(Itigo_SumHDC <> 0, DoubleToStr(Itigo_SumHDC, Cena_Pr), '-')
  DoubleToStr(Itigo_Sum + Itigo_SumHDC, Cena_Pr)
  DoubleToStr(Itogo_Mest, Kol_Pr)
.endfields
 Ш──────────────────────────────────────┼───────┼──────────┼──────────┼────────────┼──────┼────────────┼────────────┼───────┼──────────┼────────── Ш
 Ш Итого .............................. │       │          │          │&#'&&&&&&&&&│      │&#'&&&&&&&&&│&#'&&&&&&&&&│       │&#'&&&&&&&│           Ш
 Ш                                      └───────┴──────────┴──────────┴────────────┴──────┴────────────┴────────────┴───────┴──────────┴────────── Ш

 Ш                                                                               Отпуск разрешил _________________________________________________ Ш
 ШСдал отправитель _______________________________________                       Cдал водитель(экспедитор) _______________________________________ Ш
 ШПринял водитель  _______________________________________                       Принял получатель _______________________________________________ Ш

 Ш                     Штамп отправителя                                                                 Штамп получателя Ш

.}
.}
.fields
  DoubleToStr(Itigo_Sum, Cena_Pr)
  if(Itigo_SumHDC <> 0, DoubleToStr(Itigo_SumHDC, Cena_Pr), '-')
  DoubleToStr(Itigo_Sum + Itigo_SumHDC, Cena_Pr)
  DoubleToStr(Itogo_Mest, Kol_Pr)
.endfields
 Ш──────────────────────────────────────┼───────┼──────────┼──────────┼────────────┼──────┼────────────┼────────────┼───────┼──────────┼────────── Ш
 Ш Итого .............................. │       │          │          │&#'&&&&&&&&&│      │&#'&&&&&&&&&│&#'&&&&&&&&&│       │&#'&&&&&&&│           Ш
 Ш                                      └───────┴──────────┴──────────┴────────────┴──────┴────────────┴────────────┴───────┴──────────┴────────── Ш
.{?Internal; PrTH2

 Ш                                                                               Отпуск разрешил _________________________________________________ Ш
 ШСдал отправитель _______________________________________                       Cдал водитель(экспедитор) _______________________________________ Ш
 ШПринял водитель  _______________________________________                       Принял получатель _______________________________________________ Ш

 Ш                      Штамп отправителя                                                                 Штамп получателя Ш

.begin
 KolSt :=KolSt + 1;
end.
.fields
  'true' : 's'
.endfields
^
.fields
  УНН
  УНН
  ОКПО
  ОКПО

  Номер_с_дескриптором
  DateToStr(Dat, '"DD" mon YYYY г.')

  if(Грузоотправительт = '', Организация + ' (' + To + ')',
                             Грузоотправительт
                              +' ОКПО  '+  Грузоотправитель_ОКПО
                              +unn_     +  Грузоотправитель_УНН
                              +' Адрес:'+  Грузоотправитель_Адрес
                              + ' Банк:'+  Грузоотправитель_БАНК_Имя
                              + ' р/с ' +  Грузоотправитель_БАНК_Счет
                              + mfo_    +  Грузоотправитель_БАНК_Мфо) : 'D:R'

  if(Грузополучатель = '', Организация + ' (' + From + ')',
                           Грузополучатель
                            +' ОКПО  '+  Грузополучатель_ОКПО
                            +unn_     +  Грузополучатель_УНН
                            +' Адрес:'+  Грузополучатель_Адрес
                            + ' Банк:'+  Грузополучатель_БАНК_Имя
                            + ' р/с ' +  Грузополучатель_БАНК_Счет
                            + mfo_    +  Грузополучатель_БАНК_Мфо) : 'D:R'
.endfields





 С                                        @~@@@@@@@@@@@@@@@@@@@@ @~@@@@@@@@@@@@@@@@@@@@ С

 С                                        @~@@@@@@@@@@@@@@@@@@@@ @~@@@@@@@@@@@@@@@@@@@@ С


 С                                                                      ^ С



 С                                     @~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ С


 ШОтправитель        З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Я
 ШПолучатель         З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Я
 ШОснование отпуска ______________________________________________________________________________________________________________________________ Ш
 ШЦель приобретения продукции (товара) ___________________________________________________________________________________________________________ Ш
 ШКому выданы товарно-материальные ценности ______________________________________________________________________________________________________ Ш
 Ш──────────────────────────────────────┬───────────────────────────────────────────────────────────────────────────────────────────────────────── Ш
 Ш                                      │                                    Сведения о продукции (товаре)                                         Ш
 Ш   Наименование продукции, товара     ├───────┬──────────┬──────────┬────────────┬──────┬────────────┬────────────┬───────┬──────────┬────────── Ш
 Ш   (с указанием сорта, размера,       │  еди- │          │   цена   │ стоимость  │ставка│   сумма    │   всего    │  вид  │          │количество Ш
 Ш   артикула, прейскуранта и т.д.)     │  ница │количество│ единицы  │ продукции, │ НДС, │    НДС,    │   с НДС,   │ тары, │количество│продукции  Ш
 Ш                                      │ изме- │продукции │продукции,│ тыс. руб.  │  %   │  тыс. руб. │  тыс. руб. │  упа- │ упаковок │в упаковке Ш
 Ш                                      │ рения │          │ тыс. руб.│            │      │            │            │ ковки │          │           Ш
 Ш──────────────────────────────────────┼───────┼──────────┼──────────┼────────────┼──────┼────────────┼────────────┼───────┼──────────┼────────── Ш
 Ш                  1                   │   2   │     3    │    4     │     5      │  6   │     7      │     8      │   9   │    10    │    11     Ш
 Ш──────────────────────────────────────┴───────┴──────────┴──────────┴────────────┴──────┴────────────┴────────────┴───────┴──────────┴────────── Ш
.fields
  Номер_с_дескриптором
  DateToStr(Dat, '"DD" mon YYYY г.')

  DoubleToStr(KolSt, '4')
.endfields
 Ш Перечень продукции согласно приложения к накладной №  З^ З  от  З^ З  на  З^ З лист(ах). Ш
.fields
  DoubleToStr(Itigo_Sum0, Cena_Pr)
  if(Itigo_SumHDC0 <> 0, DoubleToStr(Itigo_SumHDC0, Cena_Pr), '-')
  DoubleToStr(Itigo_Sum0 + Itigo_SumHDC0, Cena_Pr)
  DoubleToStr(Itogo_Mest0, Kol_Pr)
.endfields
 Ш                                      ┌───────┬──────────┬──────────┬────────────┬──────┬────────────┬────────────┬───────┬──────────┬────────── Ш
 Ш Всего по накладной ................. │       │          │          │&#'&&&&&&&&&│      │&#'&&&&&&&&&│&#'&&&&&&&&&│       │&#'&&&&&&&│           Ш
 Ш                                      └───────┴──────────┴──────────┴────────────┴──────┴────────────┴────────────┴───────┴──────────┴────────── Ш
.}

.fields
!  DoubleToString(0, Itigo_SumHDC0)
!  DoubleToString(0, Itigo_Sum0 + Itigo_SumHDC0)
  DoubleToStr(Itigo_SumHDC0, '\f4') +
   DoubleToStr(Itigo_SumHDC0, ',99')+' тыс.руб.'
  DoubleToStr(Itigo_Sum0 + Itigo_SumHDC0, '\f4') +
   DoubleToStr(Itigo_Sum0 + Itigo_SumHDC0, ',99') + ' тыс.руб.'

  DoubleToStr(NomPp, '4\n')

  if(МОЛ_Откуда <> '',
     if(МОЛ_Откуда_Должность <> '',
        МОЛ_Откуда_Должность + ', ' + МОЛ_Откуда,
        МОЛ_Откуда),
     '')
.endfields
 ИСумма НДС  З @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ П
 ИВсего отпущено на сумму с НДС  З @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ П
 ИВсего отпущено наименований  З @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ З  № пломбы __________ И
 ИС товаром переданы документы __________________________________________________________ И
 ИОтпуск разрешил _______________________________________________________________________ И
 ИОтпуск произвел  З @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ П
 ИТовар получил   _______________________________________________________________________ И
 ИУказаный товар сдал ___________________________________________________________________ И
 ИПринятое количество и стоимость товара_________________________________________________ И
 И______________________________________________________________  № пломбы ______________ И
 ИПринял ________________________________________________________________________________ И
.}
.endform
!==============================================================================
!==============================================================================
*/


#include m11.frn

!******************************************************************************
!******************************************************************************
!******************************************************************************

!- Сидоров В.Г. 17.08.98
#doc
Требование-накладная. ФОРМА М-11. Для бюджетных организаций
#end
.linkform 'INMOV_M11' prototype is 'printinmovnak'
.NameInList '3а. Требование-накладная. ФОРМА М-11. Для бюджетных организаций'
.Group 'Vnut'
.DEFO LANDSCAPE
.DEFP PA4
.P 40
.PAPER PA4
.ORIENT LANDSCAPE
.LL 60
.var
  mfo_, unn_ : string;
  SchMain, KodMain : string;
  SchSpec, KodSpec : string;
.endvar

.begin
  mfo_ := ' ' + sGetTune('KatOrg.FldView.MFO') + ' ';
  unn_ := ' ' + sGetTune('KatOrg.FldView.UNN') + ' ';
end.

.begin
  RunInterface('iPrnShowSchet26', НрекДокумента, '', SchMain, '', '', '', KodMain);
  SchSpec := SchMain;
  KodSpec := KodMain;
end.

.VAR
  Tire : string CurP,kounter : word
  PrintPic: boolean
.ENDVAR
.fields
  Nom Tire CurP

  if(мой_ИМЯ = '', Организация,
                   мой_ИМЯ
                    + ' ОКПО '     + мой_ОКПО
                    + unn_         + мой_УНН
                    + ' Адрес:'    + мой_Адрес
                    + ' Банк:'     + мой_БАНК_Имя
                    + ' р/с '      + мой_БАНК_Счет
                    + mfo_         + мой_БАНК_Мфо)
  ОКПО

  Dat To From
  SchMain
  KodMain

  if (МОЛ_Откуда_Должность <> '',МОЛ_Откуда+' ('+МОЛ_Откуда_Должность+')',МОЛ_Откуда)
  if (МОЛ_Куда_Должность   <> '',МОЛ_Куда+' ('+МОЛ_Куда_Должность  +')',МОЛ_Куда)
//if (МОЛ_Откуда_Должность <> '',МОЛ_Откуда+' ('+МОЛ_Откуда_Должность+')',МОЛ_Откуда)

  SchSpec
  KodSpec
  NameMC
  NomMC
  ed

  DoubleToStr(Кол_Док, Kol_Pr)
  DoubleToStr(Kol, Kol_Pr)

  DoubleToStr(Price, Cena_Pr)
!  DoubleToStr(Price * Kol - if(NDS_in_Price, SumNDS * Koef, 0), Cena_Pr)
  DoubleToStr(SumPr - if(NDS_in_Price, SumNDS * Koef, 0), Cena_Pr)
.endfields

 Ш
.{
.BEGIN
CurP := -1;
Tire := ' ';
kounter:=2;
END.
.{
.[H
.{?INTERNAL;(kounter mod 2)=0
.Begin
    CurP := CurP + 1;
    if (CurP>0) Tire:='-';
END.
                                                                                                                                Типовая межотраслевая форма № М-11
                                                                                                                                Утверждена постановлением Госкомстата России
                                                                                                                                от 30.10.97 № 71а
                                                                                                                                                         ┌───────────┐
                                       ТРЕБОВАНИЕ-НАКЛАДНАЯ №  Е@@@@@@@@@@@ @ @#@@ Е                                                                         │   Коды    │
                                                                                                                                                         ├───────────┤
                                                                                                                                          Форма по ОКУД   Д│  0315006  │ Д
Организация :  Е@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Е                          по ОКПО  │@~@@@@@@@@@│
                                                                                                                                                         └───────────┘
                       ╔══════════╦═══════╦═══════════════════════════════════╦═══════════════════════════════════╦═════════════════════════════════════════╦═════════════════╗
                       ║ Дата     ║Код ви-║            Отправитель            ║            Получатель             ║        Корреспондирующий счет           ║ Учетная единица ║
                       ║ соста-   ║да опе-╟──────────────────────┬────────────╫──────────────────────┬────────────╫──────────────────────────┬──────────────╢выпуска продукции║
                       ║ вления   ║ рации ║     структурное      │    вид     ║     структурное      │    вид     ║      счет, субсчет       │код аналити-  ║ (работ, услуг)  ║
                       ║          ║       ║    подразделение     │деятельности║    подразделение     │деятельности║                          │ческого учета ║                 ║
                       ╠══════════╬═══════╬══════════════════════╪════════════╬══════════════════════╪════════════╬══════════════════════════╪══════════════╬═════════════════╣
                       ║@@@@@@@@@@║       ║@@@@@@@@@@@@@@@@@@@@@@│            ║@@@@@@@@@@@@@@@@@@@@@@│            ║@@@@@@@@@@@@@@@@@@@@@@@@@@│@@@@@@@@@@@@@@║                 ║
                       ╚══════════╩═══════╩══════════════════════╧════════════╩══════════════════════╧════════════╩══════════════════════════╧══════════════╩═════════════════╝

Через кого :  Е@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Е
Затребовал :  Е@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Е                  Разрешил :
╔════════════════════════════════════════╦═════════════════════════════════╦═════════════════╦═════════════════════════════╦═════════════════╦════════════════════╦══════════╗
║         Корреспондирующий счет         ║     Материальные ценности       ║Единица измерения║         Количество          ║      Цена,      ║       Сумма        ║Порядковый║
╟──────────────────────────┬─────────────╫───────────────────────┬─────────╫────┬────────────╫──────────────┬──────────────╢    руб.коп.     ║     без учета      ║номер по  ║
║                          │код аналити- ║   наименование        │номенк-  ║код │наименование║  затребовано │   отпущено   ║                 ║        НДС,        ║складской ║
║      счет, субсчет       │ческого учета║                       │латурный ║    │            ║              │              ║                 ║      руб.коп.      ║картотеке ║
║                          │             ║                       │номер    ║    │            ║              │              ║                 ║                    ║          ║
╟──────────────────────────┼─────────────╫───────────────────────┼─────────╫────┼────────────╫──────────────┼──────────────╫─────────────────╫────────────────────╫──────────╢
║       1                  │   2         ║       3               │  4      ║  5 │     6      ║       7      │      8       ║         9       ║        10          ║    11    ║
╠══════════════════════════╪═════════════╬═══════════════════════╪═════════╬════╪════════════╬══════════════╪══════════════╬═════════════════╬════════════════════╬══════════╣
.}
.{?INTERNAL;(kounter mod 2)<>0
                                                                                                                  Оборотная сторона формы № M-11
╔════════════════════════════════════════╦═════════════════════════════════╦═════════════════╦═════════════════════════════╦═════════════════╦════════════════════╦══════════╗
║         Корреспондирующий счет         ║     Материальные ценности       ║Единица измерения║         Количество          ║      Цена,      ║       Сумма        ║Порядковый║
╟──────────────────────────┬─────────────╫───────────────────────┬─────────╫────┬────────────╫──────────────┬──────────────╢    руб.коп.     ║     без учета      ║номер по  ║
║                          │код аналити- ║   наименование        │номенк-  ║код │наименование║  затребовано │   отпущено   ║                 ║        НДС,        ║складской ║
║      счет, субсчет       │ческого учета║                       │латурный ║    │            ║              │              ║                 ║      руб.коп.      ║картотеке ║
║                          │             ║                       │номер    ║    │            ║              │              ║                 ║                    ║          ║
╟──────────────────────────┼─────────────╫───────────────────────┼─────────╫────┼────────────╫──────────────┼──────────────╫─────────────────╫────────────────────╫──────────╢
║       1                  │   2         ║       3               │  4      ║  5 │     6      ║       7      │      8       ║         9       ║        10          ║    11    ║
╠══════════════════════════╪═════════════╬═══════════════════════╪═════════╬════╪════════════╬══════════════╪══════════════╬═════════════════╬════════════════════╬══════════╣
.}
.]H
║@@@@@@@@@@@@@@@@@@@@@@@@@@│@@@@@@@@@@@@@║@@@@@@@@@@@@@@@@@@@@@@@│@@@@@@@@@║    │@@@@@@@@@@@@║&&&&&&&&&&&&&&│&&&&&&&&&&&&&&║&&&&&&&&&&&&&&&&&║&&&&&&&&&&&&&&&&&&&&║          ║
.[F
.{?INTERNAL;(kounter mod 2)=0
.Begin PrintPic:=true  End.
╚══════════════════════════╧═════════════╩═══════════════════════╧═════════╩════╧════════════╩══════════════╧══════════════╩═════════════════╩════════════════════╩══════════╝
 
.}
.{?INTERNAL;(kounter mod 2)<>0
.Begin PrintPic:=false  End.
╚══════════════════════════╧═════════════╩═══════════════════════╧═════════╩════╧════════════╩══════════════╧══════════════╩═════════════════╩════════════════════╩══════════╝
.fields
 МОЛ_Откуда_Должность
 МОЛ_Откуда

 МОЛ_Куда_Должность
 МОЛ_Куда
.endfields
Отпустил:  Е@~@@@@@@@@@@@@@@@@@@@@ Е ___________  Е@~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Е  Получил:  Е@~@@@@@@@@@@@@@@@@@@@@ Е ___________  Е@~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Е
                должность          подпись          расшифровка подписи                       должность          подпись          расшифровка подписи

                                                                                                              (С) НИПИстатинформ Госкомстата России, 1997 г.
 
.}
.Begin
  kounter:=kounter+1
 End.
.]F
.}
.{?INTERNAL;PrintPic
                                                                                                                  Оборотная сторона формы № M-11
╔════════════════════════════════════════╦═════════════════════════════════╦═════════════════╦═════════════════════════════╦═════════════════╦════════════════════╦══════════╗
║         Корреспондирующий счет         ║     Материальные ценности       ║Единица измерения║         Количество          ║      Цена,      ║       Сумма        ║Порядковый║
╟──────────────────────────┬─────────────╫───────────────────────┬─────────╫────┬────────────╫──────────────┬──────────────╢    руб.коп.     ║     без учета      ║номер по  ║
║                          │код аналити- ║   наименование        │номенк-  ║код │наименование║  затребовано │   отпущено   ║                 ║        НДС,        ║складской ║
║      счет, субсчет       │ческого учета║                       │латурный ║    │            ║              │              ║                 ║      руб.коп.      ║картотеке ║
║                          │             ║                       │номер    ║    │            ║              │              ║                 ║                    ║          ║
╟──────────────────────────┼─────────────╫───────────────────────┼─────────╫────┼────────────╫──────────────┼──────────────╫─────────────────╫────────────────────╫──────────╢
║       1                  │   2         ║       3               │  4      ║  5 │     6      ║       7      │      8       ║         9       ║        10          ║    11    ║
╠══════════════════════════╪═════════════╬═══════════════════════╪═════════╬════╪════════════╬══════════════╪══════════════╬═════════════════╬════════════════════╬══════════╣
║                          │             ║                       │         ║    │            ║              │              ║                 ║                    ║          ║
║                          │             ║                       │         ║    │            ║              │              ║                 ║                    ║          ║
║                          │             ║                       │         ║    │            ║              │              ║                 ║                    ║          ║
║                          │             ║                       │         ║    │            ║              │              ║                 ║                    ║          ║
║                          │             ║                       │         ║    │            ║              │              ║                 ║                    ║          ║
║                          │             ║                       │         ║    │            ║              │              ║                 ║                    ║          ║
║                          │             ║                       │         ║    │            ║              │              ║                 ║                    ║          ║
║                          │             ║                       │         ║    │            ║              │              ║                 ║                    ║          ║
║                          │             ║                       │         ║    │            ║              │              ║                 ║                    ║          ║
║                          │             ║                       │         ║    │            ║              │              ║                 ║                    ║          ║
║                          │             ║                       │         ║    │            ║              │              ║                 ║                    ║          ║
║                          │             ║                       │         ║    │            ║              │              ║                 ║                    ║          ║
║                          │             ║                       │         ║    │            ║              │              ║                 ║                    ║          ║
║                          │             ║                       │         ║    │            ║              │              ║                 ║                    ║          ║
║                          │             ║                       │         ║    │            ║              │              ║                 ║                    ║          ║
║                          │             ║                       │         ║    │            ║              │              ║                 ║                    ║          ║
║                          │             ║                       │         ║    │            ║              │              ║                 ║                    ║          ║
║                          │             ║                       │         ║    │            ║              │              ║                 ║                    ║          ║
╚══════════════════════════╧═════════════╩═══════════════════════╧═════════╩════╧════════════╩══════════════╧══════════════╩═════════════════╩════════════════════╩══════════╝
.fields
 МОЛ_Откуда_Должность
 МОЛ_Откуда

 МОЛ_Куда_Должность
 МОЛ_Куда
.endfields
Отпустил:  Е@~@@@@@@@@@@@@@@@@@@@@ Е ___________  Е@~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Е  Получил:  Е@~@@@@@@@@@@@@@@@@@@@@ Е ___________  Е@~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Е
                должность          подпись          расшифровка подписи                       должность          подпись          расшифровка подписи

                                                                                                              (С) НИПИстатинформ Госкомстата России, 1997 г.
 
.}
.} Ш
.endform



!******************************************************************************
!******************************************************************************
!******************************************************************************
/*
#doc
Товарно-транспортная накладная № ТТН-1 (с НДС и оптовой надбавкой)
#end
.LinkForm 'TTN' prototype is 'printinmovnak'
.NameInList '(6.) Товарно-транспортная накладная № ТТН-1 (с НДС и оптовой надбавкой)'
.Group 'Vnut'
.Defo Landscape
.P 57
.O 5
.Set Filler = '-'
.var
  mfo_, unn_ : string;
.endvar
#ifdef GAL5_80
.begin
  mfo_ := ' ' + sGetTune('KatOrg.FldView.MFO') + ' ';
  unn_ := ' ' + sGetTune('KatOrg.FldView.UNN') + ' ';
end.
#else
.Create view mfo_view
From
  usertune
 ,systdate
where
((
  UserName == Usertune.OwnName
))
;
.begin
  mfo_view.getfirst systdate;
  mfo_ := ' ' + mfo_view.systdate.MFOBIK + ' ';
  mfo_view.getfirst usertune;
  unn_ := ' ' + mfo_view.usertune.UNNName + ' ';
end.
#end
.var
  Itigo_Sum, Itigo_SumHDC, Itogo_Mest, Itogo_MassBr :Double;
  Itigo_Sum0, Itigo_SumHDC0, Itogo_Mest0, Itogo_MassBr0 :Double;
  NomPp, KolSt, KolStr :Word;
.endvar
.{
.{?Internal;not PrTTH1
.fields
  УНН
  УНН
  УНН

  ОКПО
  ОКПО
  ОКПО

  Номер_с_дескриптором
  DateToStr(Dat, 'DD mon YYYY г.')

  if(ТТН_Авто_Номер <> '', ТТН_Авто_Номер,
     '__________________________________________________________________')
  if(ТТН_Номер_ПЛист <> '', ТТН_Номер_ПЛист,
     '______________________________________________________________________')


  if(ТТН_АвтоОрг_Имя <> '', ТТН_АвтоОрг_Имя,
     '__________________________________________________')
  if(ТТН_Водитель_Имя <> '', ТТН_Водитель_Имя,
     '_____________________________')


  if(мой_ИМЯ = '', Организация,
                   мой_ИМЯ
                    + ' ОКПО '     + мой_ОКПО
                    + unn_         + мой_УНН
                    + ' Адрес:'    + мой_Адрес
                    + ' Банк:'     + мой_БАНК_Имя
                    + ' р/с '      + мой_БАНК_Счет
                    + mfo_         + мой_БАНК_Мфо) : 'D:R'
  if(мой_ОКПО = '', ОКПО, мой_ОКПО)


  if(Грузоотправительт = '', Организация + ' (' + To + ')',
                             Грузоотправительт
                              +' ОКПО  '+  Грузоотправитель_ОКПО
                              +unn_     +  Грузоотправитель_УНН
                              +' Адрес:'+  Грузоотправитель_Адрес
                              + ' Банк:'+  Грузоотправитель_БАНК_Имя
                              + ' р/с ' +  Грузоотправитель_БАНК_Счет
                              + mfo_    +  Грузоотправитель_БАНК_Мфо) : 'D:R'
  if(Грузоотправитель_ОКПО = '', ОКПО, Грузоотправитель_ОКПО)


  if(Грузополучатель = '', Организация + ' (' + From + ')',
                           Грузополучатель
                            +' ОКПО  '+  Грузополучатель_ОКПО
                            +unn_     +  Грузополучатель_УНН
                            +' Адрес:'+  Грузополучатель_Адрес
                            + ' Банк:'+  Грузополучатель_БАНК_Имя
                            + ' р/с ' +  Грузополучатель_БАНК_Счет
                            + mfo_    +  Грузополучатель_БАНК_Мфо) : 'D:R'
  if(Грузополучатель_ОКПО = '', ОКПО, Грузополучатель_ОКПО)


  if(ТТН_ПунктП_Адрес <> '', ТТН_ПунктП_Адрес,
     '_________________________________')
  if(ТТН_ПунктР_Адрес <> '', ТТН_ПунктР_Адрес,
     '_________________________________')

  if(ТТН_Прицеп1_Номер <> '', ТТН_Прицеп1_Номер,
     '____________________________')
  if(ТТН_Прицеп2_Номер <> '', ТТН_Прицеп2_Номер,
     '____________________________')

.endfields



 Ш                                               Б@@@@@@@@@@@@@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@ Б Ш

 Ш                                               Б@@@@@@@@@@@@@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@ Б Ш


 Ш                                                                               Б@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Б Ш
 Ш                                                                                                                                                                                                 ┌────────────────┐ Ш
 Ш                                                                                                                                                                                                 │      Коды      │ Ш
 Ш                                                                                                                                                                                                 ├────────────────┤ Ш
 Ш З&&&&&&&&&&&&&&&&&&&&& З  Автомобиль  З&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& З  К путевому листу  № З&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& З  │________________│ Ш
 ШВладелец транспорта  З&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& З  Водитель  З&&&&&&&&&&&&&&&&&&&&&&&&&&&&& З  Вид перевозки _________________________________________________________________  │________________│ Ш
 ШЗаказчик (плательщик)  З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ З   Д│@~@@@@@@@@@@@@@@│ Д Ш
 ШГрузоотправитель       З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ З   Д│@~@@@@@@@@@@@@@@│ Д Ш
 ШГрузополучатель        З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ З   Д│@~@@@@@@@@@@@@@@│ Д Ш
 ШОснование отпуска _____________________________________________________________________ Цель приобретения продукции(товара) ___________________________________________________________________  │________________│ Ш
 ШПункт погрузки  З&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& З  Пункт разгрузки  З&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& З  Маршрут №  _______________________________________________________________________________  │________________│ Ш
 ШПереадресовка ___________________________________________________________  1. Прицеп  З&&&&&&&&&&&&&&&&&&&&&&&&&&&& З  Гар. №  ____________________________________________________________________  │________________│ Ш
 Ш                  наименование и адрес нового грузополучат., подпись       2. Прицеп  З&&&&&&&&&&&&&&&&&&&&&&&&&&&& З  Гар. №  ____________________________________________________________________  │                │ Ш
 Ш─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┴────────────────┘ Ш
 Ш                                                                                                   СВЕДЕНИЯ О ГРУЗЕ Ш
.}
.{
.[h
.{?Internal; PrTTH1
.fields
  Номер_с_дескриптором
  DateToStr(Dat, '"DD" mon YYYY г.')


  if(мой_ИМЯ = '', Организация,
                   мой_ИМЯ
                    + ' ОКПО '     + мой_ОКПО
                    + unn_         + мой_УНН
                    + ' Адрес:'    + мой_Адрес
                    + ' Банк:'     + мой_БАНК_Имя
                    + ' р/с '      + мой_БАНК_Счет
                    + mfo_         + мой_БАНК_Мфо) : 'D:R'

  if(Грузоотправительт = '', Организация + ' (' + To + ')',
                             Грузоотправительт
                              +' ОКПО  '+  Грузоотправитель_ОКПО
                              +unn_     +  Грузоотправитель_УНН
                              +' Адрес:'+  Грузоотправитель_Адрес
                              + ' Банк:'+  Грузоотправитель_БАНК_Имя
                              + ' р/с ' +  Грузоотправитель_БАНК_Счет
                              + mfo_    +  Грузоотправитель_БАНК_Мфо) : 'D:R'

  if(Грузополучатель = '', Организация + ' (' + From + ')',
                           Грузополучатель
                            +' ОКПО  '+  Грузополучатель_ОКПО
                            +unn_     +  Грузополучатель_УНН
                            +' Адрес:'+  Грузополучатель_Адрес
                            + ' Банк:'+  Грузополучатель_БАНК_Имя
                            + ' р/с ' +  Грузополучатель_БАНК_Счет
                            + mfo_    +  Грузополучатель_БАНК_Мфо) : 'D:R'
.endfields
 Ш                                                                                                                                                                                                          лист  Б@NP@ Б Ш
 ШПриложение к накладной №  З^ З от  З^ Я
 ШЗаказчик (плательщик)  З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Я
 ШГрузоотправитель       З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Я
 ШГрузополучатель        З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Я
 ШОснование отпуска _____________________________________________________________________ Цель приобретения продукции(товара) _________________________________________________________________________________________ Ш
.}
.fields
!.{
   String(NomPp) + '.' + NameMC : 'D:R'
   NomMC : 'D:R'
   EdUch : 'D:R'

   DoubleToStr(Kol * Koef, Kol_Pr)
   DoubleToStr(Price / Koef - if(NDS_in_Price, SumNDS / Kol, 0), Cena_Pr)
!   DoubleToStr(Price * Kol - if(NDS_in_Price, SumNDS * Koef, 0), Cena_Pr)
   оптовая_надбавка
   DoubleToStr(SumPr - if(NDS_in_Price, SumNDS * Koef, 0), Cena_Pr)

   ProcNDS
   if(SumNDS <> 0, DoubleToStr(SumNDS * Koef, Cena_Pr), '-')
!   DoubleToStr(Price * Kol + if(not NDS_in_Price, SumNDS * Koef, 0), Cena_Pr)
   DoubleToStr(SumPr + if(not NDS_in_Price, SumNDS * Koef, 0), Cena_Pr)

   if(Ed <> EdUch, Ed, '-') : 'D:R'
   DoubleToStr(Kol, Kol_Pr)
   DoubleToStr(Koef, Kol_Pr)
   if(Брутто <> 0,  DoubleToStr(Брутто * Kol * Koef / 1000, Massa_Pr), '-')
!.}
.endfields
.begin
  Itigo_Sum    :=0;
  Itigo_SumHDC :=0;
  Itogo_Mest   :=0;
  Itogo_MassBr :=0;
end.
 Ш────────────────────────────────────────────────┬─────────┬───────────┬────────────┬──────┬────────────────┬──────┬────────────┬────────────────┬────────┬───────────┬────────────┬──────┬─────┬─────────┬───────── Ш
 Ш     Наименование продукции, товара (груза)     │ Единица │Количество │   Цена,    │ Опт. │   Стоимость,   │Ставка│   Сумма    │     Сумма      │  Вид   │Количество │Количество  │ Код  │Класс│  Масса  │С грузом  Ш
 Ш  (с указанием сорта, размера, артикула, прейс- │измерения│ продукции │ руб. коп.  │надбав│   руб. коп.    │ НДС, │    НДС,    │     с НДС,     │  тары  │ грузовых  │продукции в │груза │груза│ брутто, │ следуют  Ш
 Ш     куранта и т.д.) или номера контейнеров     │         │           │            │  %   │                │  %   │ руб. коп.  │    руб. коп.   │        │   мест    │груз. месте │по ООН│     │  тонн   │документы Ш
 Ш────────────────────────────────────────────────┼─────────┼───────────┼────────────┼──────┼────────────────┼──────┼────────────┼────────────────┼────────┼───────────┼────────────┼──────┼─────┼─────────┼───────── Ш
 Ш                       1                        │    2    │     3     │     4      │  5   │       6        │  7   │     8      │       9        │   10   │    11     │     12     │  13  │ 14  │   15    │   16     Ш
 Ш────────────────────────────────────────────────┼─────────┼───────────┼────────────┼──────┼────────────────┼──────┼────────────┼────────────────┼────────┼───────────┼────────────┼──────┼─────┼─────────┼───────── Ш
.]h
.begin
  NomPp :=NomPp + 1;

!  Itigo_Sum    :=Itigo_Sum + Price * Kol - if(NDS_in_Price, SumNDS * Koef, 0);
  Itigo_Sum    :=Itigo_Sum + SumPr - if(NDS_in_Price, SumNDS * Koef, 0);
  Itigo_SumHDC :=Itigo_SumHDC + SumNDS * Koef;
  Itogo_Mest   :=Itogo_Mest + Kol;
  Itogo_MassBr :=Itogo_MassBr + Брутто * Kol * Koef / 1000;

!  Itigo_Sum0    :=Itigo_Sum0 + Price * Kol - if(NDS_in_Price, SumNDS * Koef, 0);
  Itigo_Sum0    :=Itigo_Sum0 + SumPr - if(NDS_in_Price, SumNDS * Koef, 0);
  Itigo_SumHDC0 :=Itigo_SumHDC0 + SumNDS * Koef;
  Itogo_Mest0   :=Itogo_Mest0 + Kol;
  Itogo_MassBr0 :=Itogo_MassBr0 + Брутто * Kol * Koef / 1000;

  KolStr :=KolStr + 1;
end.
 Ш@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@│@~@@@@@@@│&#'&&&&&&&&│&#'&&&&&&&&&│&#&.&&│&#'&&&&&&&&&&&&&│&#&.&&│&#'&&&&&&&&&│&#'&&&&&&&&&&&&&│@~@@@@@@│&#'&&&&&&&&│&#'&&&&&&&&&│      │     │&#'&&&&&&│          Ш
.{?Internal; (PrTTH1) and (KolStr = KolStrTTH1)
.begin
 KolStr :=0;
end.
.begin
 KolSt :=KolSt + 1;
end.
.fields
  DoubleToStr(Itigo_Sum, Cena_Pr)
  if(Itigo_SumHDC <> 0, DoubleToStr(Itigo_SumHDC, Cena_Pr), '-')
  DoubleToStr(Itigo_Sum + Itigo_SumHDC, Cena_Pr)
  DoubleToStr(Itogo_Mest, Kol_Pr)
  if(Itogo_MassBr <> 0, DoubleToStr(Itogo_MassBr, Massa_Pr), '-')
.endfields
 Ш────────────────────────────────────────────────┴─────────┴───────────┴────────────┴──────┼────────────────┼──────┼────────────┼────────────────┼────────┼───────────┼────────────┼──────┼─────┼─────────┼───────── Ш
 Ш Итого ...................................................................................│&#'&&&&&&&&&&&&&│      │&#'&&&&&&&&&│&#'&&&&&&&&&&&&&│        │&#'&&&&&&&&│            │      │     │&#'&&&&&&│          Ш
 Ш                                                                                          └────────────────┴──────┴────────────┴────────────────┴────────┴───────────┴────────────┴──────┴─────┴─────────┴───────── Ш

 Ш                                                                                                                                                  Отпуск разрешил _________________________________________________ Ш
 ШСдал отправитель _______________________________________                                                                                          Cдал водитель(экспедитор) _______________________________________ Ш
 ШПринял водитель  _______________________________________                                                                                          Принял получатель _______________________________________________ Ш

 Ш                      Штамп отправителя                                                                                                                                    Штамп получателя Ш

.}
.}
.fields
  DoubleToStr(Itigo_Sum, Cena_Pr)
  if(Itigo_SumHDC <> 0, DoubleToStr(Itigo_SumHDC, Cena_Pr), '-')
  DoubleToStr(Itigo_Sum + Itigo_SumHDC, Cena_Pr)
  DoubleToStr(Itogo_Mest, Kol_Pr)
  if(Itogo_MassBr <> 0, DoubleToStr(Itogo_MassBr, Massa_Pr), '-')
.endfields
 Ш────────────────────────────────────────────────┴─────────┴───────────┴────────────┴──────┼────────────────┼──────┼────────────┼────────────────┼────────┼───────────┼────────────┼──────┼─────┼─────────┼───────── Ш
 Ш Итого ...................................................................................│&#'&&&&&&&&&&&&&│      │&#'&&&&&&&&&│&#'&&&&&&&&&&&&&│        │&#'&&&&&&&&│            │      │     │&#'&&&&&&│          Ш
 Ш                                                                                          └────────────────┴──────┴────────────┴────────────────┴────────┴───────────┴────────────┴──────┴─────┴─────────┴───────── Ш
.{?Internal; PrTTH1

 Ш                                                                                                                                                  Отпуск разрешил _________________________________________________ Ш
 ШСдал отправитель _______________________________________                                                                                          Cдал водитель(экспедитор) _______________________________________ Ш
 ШПринял водитель  _______________________________________                                                                                          Принял получатель _______________________________________________ Ш

 Ш                      Штамп отправителя                                                                                                                                    Штамп получателя Ш

.begin
 KolSt :=KolSt + 1;
end.
.fields
  'true' : 's'
.endfields
^
.fields
  УНН
  УНН
  УНН

  ОКПО
  ОКПО
  ОКПО

  Номер_с_дескриптором
  DateToStr(Dat, 'DD mon YYYY г.')

  if(ТТН_Авто_Номер <> '', ТТН_Авто_Номер,
     '__________________________________________________________________')
  if(ТТН_Номер_ПЛист <> '', ТТН_Номер_ПЛист,
     '______________________________________________________________________')


  if(ТТН_АвтоОрг_Имя <> '', ТТН_АвтоОрг_Имя,
     '__________________________________________________')
  if(ТТН_Водитель_Имя <> '', ТТН_Водитель_Имя,
     '_____________________________')


  if(мой_ИМЯ = '', Организация,
                   мой_ИМЯ
                    + ' ОКПО '     + мой_ОКПО
                    + unn_         + мой_УНН
                    + ' Адрес:'    + мой_Адрес
                    + ' Банк:'     + мой_БАНК_Имя
                    + ' р/с '      + мой_БАНК_Счет
                    + mfo_         + мой_БАНК_Мфо) : 'D:R'
  if(мой_ОКПО = '', ОКПО, мой_ОКПО)


  if(Грузоотправительт = '', Организация + ' (' + To + ')',
                             Грузоотправительт
                              +' ОКПО  '+  Грузоотправитель_ОКПО
                              +unn_     +  Грузоотправитель_УНН
                              +' Адрес:'+  Грузоотправитель_Адрес
                              + ' Банк:'+  Грузоотправитель_БАНК_Имя
                              + ' р/с ' +  Грузоотправитель_БАНК_Счет
                              + mfo_    +  Грузоотправитель_БАНК_Мфо) : 'D:R'
  if(Грузоотправитель_ОКПО = '', ОКПО, Грузоотправитель_ОКПО)


  if(Грузополучатель = '', Организация + ' (' + From + ')',
                           Грузополучатель
                            +' ОКПО  '+  Грузополучатель_ОКПО
                            +unn_     +  Грузополучатель_УНН
                            +' Адрес:'+  Грузополучатель_Адрес
                            + ' Банк:'+  Грузополучатель_БАНК_Имя
                            + ' р/с ' +  Грузополучатель_БАНК_Счет
                            + mfo_    +  Грузополучатель_БАНК_Мфо) : 'D:R'
  if(Грузополучатель_ОКПО = '', ОКПО, Грузополучатель_ОКПО)


  if(ТТН_ПунктП_Адрес <> '', ТТН_ПунктП_Адрес,
     '_________________________________')
  if(ТТН_ПунктР_Адрес <> '', ТТН_ПунктР_Адрес,
     '_________________________________')

  if(ТТН_Прицеп1_Номер <> '', ТТН_Прицеп1_Номер,
     '____________________________')
  if(ТТН_Прицеп2_Номер <> '', ТТН_Прицеп2_Номер,
     '____________________________')

.endfields


 Ш                                               Б@@@@@@@@@@@@@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@ Б Ш

 Ш                                               Б@@@@@@@@@@@@@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@ Б Ш


 Ш                                                                               Б@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Б Ш
 Ш                                                                                                                                                                                                 ┌────────────────┐ Ш
 Ш                                                                                                                                                                                                 │      Коды      │ Ш
 Ш                                                                                                                                                                                                 ├────────────────┤ Ш
 Ш З&&&&&&&&&&&&&&&&&&&&& З  Автомобиль  З&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& З  К путевому листу №  З&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& З  │________________│ Ш
 ШВладелец транспорта  З&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& З  Водитель  З&&&&&&&&&&&&&&&&&&&&&&&&&&&&& З  Вид перевозки _________________________________________________________________  │________________│ Ш
 ШЗаказчик (плательщик)  З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ З   Д│@~@@@@@@@@@@@@@@│ Д Ш
 ШГрузоотправитель       З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ З   Д│@~@@@@@@@@@@@@@@│ Д Ш
 ШГрузополучатель        З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ З   Д│@~@@@@@@@@@@@@@@│ Д Ш
 ШОснование отпуска _____________________________________________________________________ Цель приобретения продукции(товара) ___________________________________________________________________  │________________│ Ш
 ШПункт погрузки  З&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& З  Пункт разгрузки  З&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&& З  Маршрут №  _______________________________________________________________________________  │________________│ Ш
 ШПереадресовка ___________________________________________________________  1. Прицеп  З&&&&&&&&&&&&&&&&&&&&&&&&&&&& З  Гар. №  ____________________________________________________________________  │________________│ Ш
 Ш                  наименование и адрес нового грузополучат., подпись       2. Прицеп  З&&&&&&&&&&&&&&&&&&&&&&&&&&&& З  Гар. №  ____________________________________________________________________  │                │ Ш
 Ш─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┴────────────────┘ Ш
 Ш                                                                                                   СВЕДЕНИЯ О ГРУЗЕ Ш
 Ш────────────────────────────────────────────────┬─────────┬───────────┬────────────┬──────┬────────────────┬──────┬────────────┬────────────────┬────────┬───────────┬────────────┬──────┬─────┬─────────┬───────── Ш
 Ш     Наименование продукции, товара (груза)     │ Единица │Количество │   Цена,    │ Опт. │   Стоимость,   │Ставка│   Сумма    │     Сумма      │  Вид   │Количество │Количество  │ Код  │Класс│  Масса  │С грузом  Ш
 Ш  (с указанием сорта, размера, артикула, прейс- │измерения│ продукции │ руб. коп.  │надбав│   руб. коп.    │ НДС, │    НДС,    │     с НДС,     │  тары  │ грузовых  │продукции в │груза │груза│ брутто, │ следуют  Ш
 Ш     куранта и т.д.) или номера контейнеров     │         │           │            │  %   │                │  %   │ руб. коп.  │    руб. коп.   │        │   мест    │груз. месте │по ООН│     │  тонн   │документы Ш
 Ш────────────────────────────────────────────────┼─────────┼───────────┼────────────┼──────┼────────────────┼──────┼────────────┼────────────────┼────────┼───────────┼────────────┼──────┼─────┼─────────┼───────── Ш
 Ш                       1                        │    2    │     3     │     4      │  5   │       6        │  7   │     8      │       9        │   10   │    11     │     12     │  13  │ 14  │   15    │   16     Ш
 Ш────────────────────────────────────────────────┴─────────┴───────────┴────────────┴──────┴────────────────┴──────┴────────────┴────────────────┴────────┴───────────┴────────────┴──────┴─────┴─────────┴───────── Ш
.fields
  Номер_с_дескриптором
  DateToStr(Dat, '"DD" mon YYYY г.')

  DoubleToStr(KolSt, '4')
.endfields
 Ш Перечень продукции согласно приложения к накладной №  З^ З  от  З^ З  на  З^ З лист(ах). Ш
.fields
  DoubleToStr(Itigo_Sum0, Cena_Pr)
  if(Itigo_SumHDC0 <> 0, DoubleToStr(Itigo_SumHDC0, Cena_Pr), '-')
  DoubleToStr(Itigo_Sum0 + Itigo_SumHDC0, Cena_Pr)
  DoubleToStr(Itogo_Mest0, Kol_Pr)
  if(Itogo_MassBr0 <> 0, DoubleToStr(Itogo_MassBr0, Massa_Pr), '-')
.endfields
 Ш                                                                                          ┌────────────────┬──────┬────────────┬────────────────┬────────┬───────────┬────────────┬──────┬─────┬─────────┬───────── Ш
 Ш Всего по накладной ......................................................................│&#'&&&&&&&&&&&&&│      │&#'&&&&&&&&&│&#'&&&&&&&&&&&&&│        │&#'&&&&&&&&│            │      │     │&#'&&&&&&│          Ш
 Ш                                                                                          └────────────────┴──────┴────────────┴────────────────┴────────┴───────────┴────────────┴──────┴─────┴─────────┴───────── Ш
.}
.fields
  'true' : 's'

  DoubleToString(0, Round(Itigo_SumHDC0, wCena_Pr))
  DoubleToString(0, Round(Itigo_Sum0 + Itigo_SumHDC0, wCena_Pr))

  if(НОМЕРДОВ <> '', НОМЕРДОВ, '_________________')
  if(LongInt(ДАТАДОВ) <> LongInt(0),
     DateToStr(ДАТАДОВ, 'DD mon YYYY г.'), '__________________')
  if(ДОВЕРЛИЦО <> '', ДОВЕРЛИЦО, '_______________________________________________________________')
.endfields
^ ИСумма НДС  З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ П

 ИВсего отпущено на сумму с НДС  З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ П
 Ш                                                                    │ Отпуск разрешил __________________________________________________ │              При приеме товарно-материальных ценностей Ш
 ШУказанный груз за исправной пломбой №  ____________________________ │ Указанный груз за исправной пломбой №  ___________________________ │ Ш
 Ш                                                                    │                                                                    │ по доверенности №   З^ З от  З^ З Ш
 Штарой и упаковкой, к-во мест ______________________________________ │ тарой и упаковкой, к-во мест _____________________________________ │ Ш
 Ш                                                                    │                                                                    │ выданной  З^ З Ш
 ШГруз массой брутто, т _____________________________________________ │ Груз массой брутто, т ____________________________________________ │ Ш
 Ш                                                                    │                                                                    │ ________________________________________________________________________ Ш
 ШСдал отправитель __________________________________________________ │ Сдал водитель(экспедитор)_________________________________________ │ Ш
 Ш                                                                    │                                                                    │ груз получил ___________________________________________________________ Ш
 ШПринял водитель ___________________________________________________ │ Принял получатель ________________________________________________ │                                 должность, Ф.,И.,О. Ш
 Ш                                ф.и.о., подпись                     │                               должность, ф.и.о., подпись           │ Ш
 Ш                                                                    │                                                                    │ Ш
 Ш                                                                    │                                                                    │ ──────────────────────────────────────────────────────────────────────── Ш
 ШШтамп отправителя                                                   │ Штамп получателя                                                   │ Ш
 Ш                                                                    │                                                                    │ ──────────────────────────────────────────────────────────────────────── Ш
 Ш                                                                    │                                                                    │                              подпись грузополучателя Ш
 Ш─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤ Ш
 Ш                                                    ПОГРУЗОЧНО-РАЗГРУЗОЧНЫЕ ОПЕРАЦИИ                                                     │ Ш
 Ш──────────┬────────────────┬──────────┬────────┬────────────────────────────────┬─────────────────────────────────────────┬──────────────┤ Транспортные услуги ____________________________________________________ Ш
 Ш          │                │  Способ  │        │     Дата, время(час. мин.)     │         Дополнительные операции         │   Подпись    │ Ш
 Ш Операция │   Исполнитель  ├──────────┤  Код   ├──────────┬──────────┬──────────┼─────────────┬───────────────────────────┤   отв.лица   │ ──────────────────────────────────────────────────────────────────────── Ш
 Ш          │                │ руч.мех. │        │ прибытия │  убытия  │ простоя  │ время, мин  │       наименование        │              │ Ш
 Ш          │       17       │   18     │   19   │    20    │    21    │    22    │     23      │            24             │      25      │ ──────────────────────────────────────────────────────────────────────── Ш
 Ш──────────┼────────────────┼──────────┼────────┼──────────┼──────────┼──────────┼─────────────┼───────────────────────────┼──────────────┤ Ш
 ШПогрузка  │                │          │        │          │          │          │             │                           │              │ ──────────────────────────────────────────────────────────────────────── Ш
 ШРазгрузка │                │          │        │          │          │          │             │                           │              │ Ш
 Ш──────────┴────────────────┴──────────┴────────┴──────────┴──────────┴──────────┴─────────────┴───────────────────────────┴──────────────┤ ──────────────────────────────────────────────────────────────────────── Ш
 Ш                                                                                                                                         │ Ш
 Ш─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤                      Отметки о составленых актах Ш
 Ш                                                    ПРОЧИЕ СВЕДЕНИЯ (заполняется перевозчиком)                                           │ Ш
 Ш────────────────────────────────────────────────┬─────────┬────────────────────┬────────────────────────────┬────────────────┬───────────┤ ──────────────────────────────────────────────────────────────────────── Ш
 Ш    Расстояние перевоз. по группам дорог, км    │   Код   │  За транспортные   │  Поправочный коэффициент   │                │           │ Ш
 Ш─────────────┬────────┬────────┬────────┬───────┤  эксп.  │       услуги       ├──────────────┬─────────────┤     Штраф      │           │ ──────────────────────────────────────────────────────────────────────── Ш
 Ш    всего    │ в гор. │   I    │   II   │  III  │         │    с заказчика     │  расц.водит. │  осн.тариф  │                │           │ Ш
 Ш     26      │   27   │   28   │   29   │  30   │   31    │         32         │      33      │     34      │       35       │    36     │ ──────────────────────────────────────────────────────────────────────── Ш
 Ш─────────────┼────────┼────────┼────────┼───────┼─────────┼────────────────────┼──────────────┼─────────────┼────────────────┼───────────┤ Ш
 Ш             │        │        │        │       │         │                    │              │             │                │           │ ──────────────────────────────────────────────────────────────────────── Ш
 Ш─────────────┴────────┴────────┴────────┴───────┴─────────┴────────────────────┴──────────────┴─────────────┴────────────────┴───────────┤ Ш
 Ш                                                                                                                                         │ Ш
 Ш─────────┬───────┬──────────┬──────────┬──────────┬──────────┬───────────────────┬─────────┬───────────┬─────────────────────────────────┤ Таксировка _____________________________________________________________ Ш
 Ш Расчет  │  За   │За расст. │ За спец. │За трансп.│Погр/разгр│ Сверхнорм.простой │ Прочие  │  Дополн.  │    К оплате                     │ Ш
 Шстоимости│ тонны │перевозки │транспорт │ услуги   │ работы,т ├─────────┬─────────┤ доплаты │  услуги   ├──────────────┬──────────────────┤ ──────────────────────────────────────────────────────────────────────── Ш
 Ш         │       │          │          │          │          │погрузка │разгрузка│         │           │    итого     │ в том числе ТЭП  │ Ш
 Ш         │  37   │    38    │    39    │    40    │    41    │   42    │   43    │   44    │    45     │      46      │       47         │ ──────────────────────────────────────────────────────────────────────── Ш
 Ш─────────┼───────┼──────────┼──────────┼──────────┼──────────┼─────────┼─────────┼─────────┼───────────┼──────────────┼──────────────────┤ Ш
 ШПо заказу│       │          │          │          │          │         │         │         │           │              │                  │ ──────────────────────────────────────────────────────────────────────── Ш
 ШВыполнено│       │          │          │          │          │         │         │         │           │              │                  │ Ш
 ШРасценка │       │          │          │          │          │         │         │         │           │              │                  │ ──────────────────────────────────────────────────────────────────────── Ш
 ШК оплате │       │          │          │          │          │         │         │         │           │              │                  │ Ш
 Ш─────────┴───────┴──────────┴──────────┴──────────┴──────────┴─────────┴─────────┴─────────┴───────────┴──────────────┴──────────────────┘ ──────────────────────────────────────────────────────────────────────── Ш


 Ш                                                                                   Таксировщик __________________________________________ Ш
.}
.endform
*/


//****************************************************************************
#Include TorgN_13.frn  //Накладная на внутреннее перемещение,передачу товаров,тары(форма №ТОРГ-13)
#Include TorgN_14.frn  //Расходно-приходная накладная(форма №ТОРГ-14)
#Include M_30p.frn     //Ведомость на пополнение постоянного запаса инструмента (приспособлений)
#ifdef _MOVENAKL_
#Include TH2_MOV.frn
#Include TTN_MOV.frn
#end
