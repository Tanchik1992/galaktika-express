//******************************************************************************
//                                                      (c) корпорация Галактика
// Галактика 7.12 - Логистика - сопроводительные документы
// Общие функции сопроводительных документов,
// которые нельзя вынести на методы объектов
//******************************************************************************

//------------------------------------------------------------------------------
// ТРЕБОВАНИЯ К ИНТЕРФЕЙСАМ:
// 1.подключены таблицы:
//   - KATSOPR
// 2.подключены файлы:
//   - SDfuns.vih ; SDfuns.var
//------------------------------------------------------------------------------


#ifNdef _SOPRALL_VPP
#define _SOPRALL_VPP

//******************************************************************************
// обновление текущей записи KatSopr, SoprHoz и баланса взаиморасчета с контрагентами

Function Update_Current_KatSopr: word;
var
  ret: word;
{
  iKB.SaveInfoforBal(KatSopr.VidSopr,KatSopr.NRec);

  ret := Update Current KatSopr;

  if ( ret = tsOk )
    oSDfuns.UpdateSoprHoz(KatSopr.Buffer);

  iKB.ModiKontrBal(KatSopr.VidSopr,KatSopr.NRec);

  Update_Current_KatSopr := ret;
}

//******************************************************************************

#include ukrdeitmp.vpp

//******************************************************************************

#end