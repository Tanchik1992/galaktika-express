#doc
Стандартная накладная (для строительства)
#end
.linkform 'tovn_uks' prototype is prihnkl
.NameInList 'Стандартная накладная (для строительства)'
.DEFO landscape
.P 45
.var
  СтНакБН_busl       : double
  СтНДСНак_busl      : double
  Партия, Объект_строительства,  Статья_затрат: string;
.endvar
#include format.frn
.create view frm_uks01
from
  SpSopr, KatStroy, SpecZatr, AddSumTune, KatParty
where
((
!   спецификацияМЦ_нрек  == SpSopr.NRec      and
   SpSopr.cUKS          == KatStroy.Nrec    and
   SpSopr.nRec          == SpecZatr.cSpec   and
   coSpSopr             == SpecZatr.coTable and
   SpecZatr.cAddSumTune == AddSumTune.nRec  and
   SpSopr.cParty        == KatParty.NRec
))
;
.fields
 CommonFormHeader
 Поставщик
 Номер_с_дескриптором
 DateToStr(Дата_накладной,'DD mon YYYY г.')
 Склад
 if(Основание<>'', Основание, '')
 if(ДатаОснования<>Date(0,0,0),'от','')
 if(ДатаОснования<>Date(0,0,0), DateToStr(ДатаОснования,'DD mon YYYY г.'), '')
 Назначение
 Получатель
 доверенность_кому_выдана
   Npp Код_Товара Товар Единица DoubleToStr(KolFact, Kol_Pr)
   DoubleToStr(Цена_нацБН, Cena_PrR)
   DoubleToStr(Стоим_нацБН, Cena_PrR)
   DoubleToStr(суммаНДС, Cena_PrR)
   Партия Объект_строительства Статья_затрат
// АСтНакБН АНДСНак АНПродНак
  DoubleToStr(СтНакБН_busl, Cena_PrR)
  DoubleToStr(СтНДСНак_busl, Cena_PrR)

// АСтНакСН
  DoubleToStr(СтНакБН_busl + СтНДСНак_busl, Cena_PrR)
// АНДСНак
 DoubleToStr(СтНДСНак_busl, Cena_PrR)
// стр_АСтНакСН
 DoubleToString(0,
                Round(СтНакБН_busl + СтНДСНак_busl, GetPrecisionGroup('brForSopr_Price')))
 СпецСимвол
.endfields
.{
 И
 ^

Организация :  В@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ В

                                    НАКЛАДНАЯ №   В^ В
                                              от  В^ В

 Склад :  В@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ В
 Основание №  В^ В ^  В^ В
 Назначение :  В@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ В
 Получатель :  В@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ В
 Через :  В@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ В
 И
 Ш───┬─────────────┬────────────────────────────────┬───────────┬──────────┬─────────────┬───────────────┬────────────┬─────────────────────────┬─────────────────────────┬─────────────────────────
 № │Номенклатурн.│         Наименование           │  Единица  │Количество│   Цена в    │    Сумма в    │    НДС     │        Партия           │         Объект          │      Статья затрат
п/п│   номер     │                                │ измерения │          │    руб.     │     руб.      │    руб.    │                         │      строительства      │
───┼─────────────┼────────────────────────────────┼───────────┼──────────┼─────────────┼───────────────┼────────────┼─────────────────────────┼─────────────────────────┼─────────────────────────
.begin
  СтНакБН_busl       := 0;
  СтНДСНак_busl      := 0;
end.
.{
.begin
  СтНакБН_busl   := СтНакБН_busl + Стоим_нацБН;
  СтНДСНак_busl  := СтНДСНак_busl + суммаНДС;
  if frm_uks01.GetFirst SpSopr where ((спецификацияМЦ_нрек == SpSopr.NRec)) = tsOk {};
  Партия               := if(frm_uks01.GetFirst KatParty=tsOk,frm_uks01.KatParty.Name,'');
  Объект_строительства := if(frm_uks01.GetFirst KatStroy=tsOk,frm_uks01.KatStroy.Name,'');
  Статья_затрат        := if(frm_uks01.GetFirst AddSumTune=tsOk,frm_uks01.AddSumTune.Name,'');
end.
@@@│@@@@@@@@@@@@@│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@@@@@@@@@@@│&&&&&&&&&&│&&&&&&&&&&&&&│&&&&&&&&&&&&&&&│&&&&&&&&&&&&│@@@@@@@@@@@@@@@@@@@@@@@@@│@@@@@@@@@@@@@@@@@@@@@@@@@│@@@@@@@@@@@@@@@@@@@@@@@@@
.}
.{ PrihNkl_SopUsl CHECKENTER
.}
───┴─────────────┴────────────────────────────────┴───────────┴──────────┴─────────────┴───────────────┴────────────┴─────────────────────────┴─────────────────────────┴─────────────────────────
                                                               Итого :                  &&&&&&&&&&&&&&& &&&&&&&&&&&& Ш
 РИтого по накладной        : &&&&&&&&&&&&&&&&&& руб.
в том числе НДС           : &&&&&&&&&&&&&&&&&& руб.
Отпущено по накладной : @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Р

 РОтпуск разрешил ___________  Ж_______________________________________________________ Ж        Гл. бухгалтер _________  Ж________________________________________ Ж

Отпустил        ___________  Ж_______________________________________________________ Ж        Получил       _________  Ж________________________________________ Ж Р

   ^
.}
.endform
