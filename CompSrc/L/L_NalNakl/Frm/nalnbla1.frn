/*
╔═══════════════════════════════════════════════════════════════════════════╗
║                     (c) 1994,99 корпорация ГАЛАКТИКА                      ║
║ Проект        : ГАЛАКТИКА                                                 ║
║ Система       : Оперативный контур                                        ║
║ Версия        : 5.70                                                      ║
║ Назначение    : Печать налоговых накладных (бланки)                       ║
║ Ответственный : Зайцев С.В.                                               ║
║ Параметры     : нет                                                       ║
╚═══════════════════════════════════════════════════════════════════════════╝
*/
! Для тех кому нужны платежные реквизиты
! Поставщик -
!  If (Direct=1,MyOrgSchet,OrgSchet)
!  If (Direct=1,MyOrgBank+ if (MyOrgBankMFO='','',' БИК:'+MyOrgBankMFO)+
!                          if (MyOrgBankSchRKC='','',' к/с:'+MyOrgBankSchRKC)
!              ,OrgBank +  if (OrgBankMFO='','',' БИК:'+OrgBankMFO)+
!                          if (OrgBankSchRKC='','',' к/с:'+OrgBankSchRKC)
!     )
!  If (Direct=1,MyOrgBankAddr,OrgBankAddr)
! Расчетный счет N @@@@@@@@@@@@@@@@@@@@@ в @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
! Город @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
!   Коды ОКОНХ и ОКПО
!  If (Direct=1,MyOrgOKONH,OrgOKONH)
!  If (Direct=1,MyOrgOKPO,OrgOKPO)
! Код по ОКОНХ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
! Код по ОКПО @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
! Получатель -
!  If (Direct<>1,MyOrgSchet,OrgSchet)
!  If (Direct<>1,MyOrgBank+ if (MyOrgBankMFO='','',' БИК:'+MyOrgBankMFO)+
!                          if (MyOrgBankSchRKC='','',' к/с:'+MyOrgBankSchRKC),
!               OrgBank +  if (OrgBankMFO='','',' БИК:'+OrgBankMFO)+
!                          if (OrgBankSchRKC='','',' к/с:'+OrgBankSchRKC)
!     )
!  If (Direct<>1,MyOrgBankAddr,OrgBankAddr)
! Расчетный счет N @@@@@@@@@@@@@@@@@@@@@ в @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
! Город @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
!  If (Direct<>1,MyOrgOKONH,OrgOKONH)
!  If (Direct<>1,MyOrgOKPO,OrgOKPO)
! Код по ОКОНХ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
! Код по ОКПО @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
! Сумма прописью -
!  '('+doubleToString(comp(0),S)+')'
! ^
!--------------------------------------------------------------------------------------------------------------------
#include predefs.inc

#doc
Налоговая накладная (формат A4)
#end
.linkform 'Nalnrees_10' prototype is 'Nalnrees'
.NameInList 'Налоговая накладная (формат A4)'
.Group 'Бланки налоговой накладной'
.p 80
.defo portrait
.create view loIsTara
var 
  _cRecSpSchF : comp; 
from
  SpSchF,
  KatMC,
  KatUsl
, KatSopr 
where
((
   _cRecSpSchF   == SpSchF.nRec and
   SpSchF.cMCUsl == KatMC.nRec  and
   SpSchF.cMCUsl == KatUsl.nRec
AND SpSchf.cSchFact == KatSopr.cSchFact
))
;
.if NnSetDateRange
.end
.var
  IsVozvTara : boolean;   // для МЦ-возвратная тара
  IsUsl_TTR  : boolean;   // тов.-трансп. расходы
  IsFirstLine: boolean;

  SumI7: double;
  SumI8: double;
  SumI9: double;
  SumI10: double;
  SumI11: double;

  SumII7: double;
  SumII8: double;
  SumII9: double;
  SumII10: double;
  SumII11: double;

  SumIII11: double;

  SumIVp7: double;
  SumIVp8: double;
  SumIVp9: double;
  SumIVp10: double;
  SumIVp11: double;

  SumIVm7: double;
  SumIVm8: double;
  SumIVm9: double;
  SumIVm10: double;
  SumIVm11: double;

  SumV7: double;
  SumV8: double;
  SumV9: double;
  SumV10: double;
  SumV11: double;

  SumVI7: double;
  SumVI8: double;
  SumVI9: double;
  SumVI10: double;
  SumVI11: double;
.endvar
#ifndef GAL5_80
.begin
  if (loIsTara.GetFirst SystDate = 0) {}
end.
#end
.{CheckEnter Naln
!.fields
!  CommonFormHeader
!.endfields
!.[h skip
!  Б^ Б
! Р╔══════╤══════════╤═════════════════════╤═══════╤═════════╤════════════╤═══════════╤═══════════╤═══════════╤═══════════╤════════════╗ Р
! С║  1   │    2     │          3          │   4   │    5    │      6     │     7     │     8     │     9     │    10     │     11     ║ С
! Р╟──────┼──────────┼─────────────────────┼───────┼─────────┼────────────┼───────────┼───────────┼───────────┼───────────┼────────────╢ Р
!.]h
.fields
  CommonFormHeader

  if (longint(dFact)<>0, DateToStr(dFact,'"DD" Mon YYYY г.'), '')
  NSF+if(trim(DopNSF)='','','/'+trim(DopNSF))
  If (Direct=1 ,MyOrgName + if(pFilialOrgName <> '',  ' / ' + pFilialOrgName, ''), OrgName)
  If (Direct<>1,MyOrgName + if(pFilialOrgName <> '',  ' / ' + pFilialOrgName, ''), OrgName)

  If (Direct=1,SubStr(MyOrgINN, 1, 1), SubStr(OrgINN, 1, 1))
  If (Direct=1,SubStr(MyOrgINN, 2, 1), SubStr(OrgINN, 2, 1))
  If (Direct=1,SubStr(MyOrgINN, 3, 1), SubStr(OrgINN, 3, 1))
  If (Direct=1,SubStr(MyOrgINN, 4, 1), SubStr(OrgINN, 4, 1))
  If (Direct=1,SubStr(MyOrgINN, 5, 1), SubStr(OrgINN, 5, 1))
  If (Direct=1,SubStr(MyOrgINN, 6, 1), SubStr(OrgINN, 6, 1))
  If (Direct=1,SubStr(MyOrgINN, 7, 1), SubStr(OrgINN, 7, 1))
  If (Direct=1,SubStr(MyOrgINN, 8, 1), SubStr(OrgINN, 8, 1))
  If (Direct=1,SubStr(MyOrgINN, 9, 1), SubStr(OrgINN, 9, 1))
  If (Direct=1,SubStr(MyOrgINN, 10, 1), SubStr(OrgINN, 10, 1))
  If (Direct=1,SubStr(MyOrgINN, 11, 1), SubStr(OrgINN, 11, 1))
  If (Direct=1,SubStr(MyOrgINN, 12, 1), SubStr(OrgINN, 12, 1))

  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 1, 1), SubStr(OrgINN, 1, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 2, 1), SubStr(OrgINN, 2, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 3, 1), SubStr(OrgINN, 3, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 4, 1), SubStr(OrgINN, 4, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 5, 1), SubStr(OrgINN, 5, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 6, 1), SubStr(OrgINN, 6, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 7, 1), SubStr(OrgINN, 7, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 8, 1), SubStr(OrgINN, 8, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 9, 1), SubStr(OrgINN, 9, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 10, 1), SubStr(OrgINN, 10, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 11, 1), SubStr(OrgINN, 11, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 12, 1), SubStr(OrgINN, 12, 1)))

  If (Direct=1,if (MyOrgGorod='', '', 'м.'+ MyOrgGorod + ', ') + MyOrgAddr 
                                                               + if(pFilialOrgGorod = '' AND pFilialOrgAddr = ''
                                                                   , ''
                                                                   , ' / ' + if(pFilialOrgGorod = ''
                                                                                , ''
                                                                                , 'м.'+ pFilialOrgGorod + ', ') + pFilialOrgAddr )
                                , if (OrgGorod='','','м.'+OrgGorod+', ')+OrgAddr)

  If (Direct<>1,if (MyOrgGorod='','','м.' + MyOrgGorod + ', ') + MyOrgAddr
                                                               + if(pFilialOrgGorod = '' AND pFilialOrgAddr = ''
                                                                   , ''
                                                                   , ' / ' + if(pFilialOrgGorod = ''
                                                                                , ''
                                                                                , 'м.'+ pFilialOrgGorod + ', ') + pFilialOrgAddr )
                                 ,if (OrgGorod='','','м.'+OrgGorod+', ')+OrgAddr)
  If (Direct=1,MyOrgTel,OrgTel)
  If (Direct<>1,MyOrgTel,OrgTel)

  If (Direct=1,MyINNDS,OrgINNDS)
  if ((SubTip and 15) = 3, 'XXXXXXXXXXXXXXXXXX', If (Direct<>1,MyINNDS,OrgINNDS))

!  if (trim(BaseDoc_NoDoc)='','','документ-основание N '+BaseDoc_NoDoc+if(longint(BaseDoc_dDoc)=0,'',' от '+DateToStr(BaseDoc_dDoc,'DD/MM/YYYY')))
  VidDogTxt
  FormRascTxt
  string(Stav2,0,0)+'%'
  string(Stav3,0,0)+'%'
  string(Stav1,0,0)+'%'
.endfields
  Б^ Б
 И  ┌──────────────────────────────┬────┐                                         ВЗАТВЕРДЖЕНО К
 И  │Оригiнал (видається покупцю)  │    │                                наказом ДПА України И
 И  ├──────────────────────────────┼────┤                                     30.05.97 N 165 И
 И  │Копiя (залишається у продавця)│    │                     (у редакцiї наказу ДПА України И
 И  └──────────────────────────────┴────┘                                   08.10.98  N 469) И
 И   (Непотрiбне видiлити помiткою "Х") И

 Б                             ПОДАТКОВА НАКЛАДНА Б

 Р        Дата вiписки податкової накладної  Е@@@@@@@@@@@@@@@@@@@@@@@ Е  Порядковий номер  Е@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Е
                         Продавець                                                        Покупець
    Особа (платник      ┌───────────────────────────────────────┐     Особа (платник     ┌────────────────────────────────────────┐
    податку) - продавець│ Б@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Б│     податку) - покупець Б│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Б│
                        └───────────────────────────────────────┘                        └────────────────────────────────────────┘
 И                (назва: прiзвище, iм'я, по батьковi - для фiзичної особи)                     (назва: прiзвище, iм'я, по батьковi - для фiзичної особи) Ш

 Р        ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┐                 ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┐
 Б        │@~@│@~@│@~@│@~@│@~@│@~@│@~@│@~@│@~@│@~@│@~@│@~@│                 │@~@│@~@│@~@│@~@│@~@│@~@│@~@│@~@│@~@│@~@│@~@│@~@│ С
 Р        └───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┘                 └───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┘
 И                (iндивiдуальний податковий номер продавця)                                (iндивiдуальний податковий номер покупця) Ш
 Р
    Мiсцезнаходження                                                  Мiсцезнаходження
    продавця  Е@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Е     покупця  Е@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Е
    Номер телефону  Е@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Е     Номер телефону  Е@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Е
    Номер свiдоцтва про          ┌──────────────────────────────┐     Номер свiдоцтва про          ┌──────────────────────────────┐
    реєстрацiю платника податку  │ Б@~@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Б│     реєстрацiю платника податку  │ Б@~@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Б│
    на додану вартiсть (продавця)└──────────────────────────────┘     на додану вартiсть (покупця) └──────────────────────────────┘
    Умова продажу  Е@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Е
 И                                                                            (форма цивiльно-правового договору) Ш
 Р    Форма проведених розрахункiв  Е@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Е
 И                                                                        (бартер, готiвка, оплата з розрахункового рахунка, чек тощо) Ш
 Р╔══════╤══════════╤═════════════════════╤═══════╤═════════╤════════════╤═══════════════════════════════════════════════╤════════════╗ Р
 Р║      │   Дата   │                     │       │         │            │    Обсяги продажу (база оподаткування) без    │            ║ Р
 Р║      │вiдванта- │                     │       │         │Цiна продажу│         урахування ПДВ, що пiдлягають         │  Загальна  ║ Р
 Р║      │ження (ви-│    Номенклатура     │       │         │  одиницi   │           оподаткуванню за ставками           │    сума    ║ Р
 Р║      │ конання, │  поставки товарiв   │Одиниця│Кiлькiсть│ продукцiї  ├───────────┬───────────┬───────────┬───────────┤   коштiв,  ║ Р
 Р║Роздiл│ надання  │   (робiт, послуг)   │вимiру │ (об'єм, │    без     │           │@~@@@@@@@@@│           │           │     що     ║ Р
 Р║      │(оплати*) │      продавця       │товару │  обсяг) │ урахування │           │(реалiзацiя│@~@@@@@@@@@│ Звiльнення│  пiдлягає  ║ Р
 Р║      │ товарiв  │                     │       │         │    ПДВ     │@~@@@@@@@@@│ на митнiй │ (експорт) │  вiд ПДВ  │   оплатi   ║ Р
 Р║      │ (робiт,  │                     │       │         │            │           │ територiї │           │   (ст.5)  │            ║ Р
 Р║      │ послуг)) │                     │       │         │            │           │  України) │           │           │            ║ Р
 Р╟──────┼──────────┼─────────────────────┼───────┼─────────┼────────────┼───────────┼───────────┼───────────┼───────────┼────────────╢ Р
 С║  1   │    2     │          3          │   4   │    5    │      6     │     7     │     8     │     9     │    10     │     11     ║ С
 Р╟──────┼──────────┼─────────────────────┼───────┼─────────┼────────────┼───────────┼───────────┼───────────┼───────────┼────────────╢ Р
.if NnHeaderGroup
.end
.begin
  IsVozvTara  := false;   // для МЦ-возвратная тара
  IsUsl_TTR   := false;   // для ТТР-услуги
  IsFirstLine := true;
  SumI7 := 0.0;
  SumI8 := 0.0;
  SumI9 := 0.0;
  SumI10 := 0.0;
  SumI11 := 0.0;
  SumII7 := 0.0;
  SumII8 := 0.0;
  SumII9 := 0.0;
  SumII10 := 0.0;
  SumII11 := 0.0;
  SumIII11 := 0.0;
  SumIVp7 := 0.0;
  SumIVp8 := 0.0;
  SumIVp9 := 0.0;
  SumIVp10 := 0.0;
  SumIVp11 := 0.0;
  SumIVm7 := 0.0;
  SumIVm8 := 0.0;
  SumIVm9 := 0.0;
  SumIVm10 := 0.0;
  SumIVm11 := 0.0;
  SumV7 := 0.0;
  SumV8 := 0.0;
  SumV9 := 0.0;
  SumV10 := 0.0;
  SumV11 := 0.0;
  SumVI7 := 0.0;
  SumVI8 := 0.0;
  SumVI9 := 0.0;
  SumVI10 := 0.0;
  SumVI11 := 0.0;
end.
.{CheckEnter SpNaln
.begin // возвратная тара
 isVozvTara := false;
 isUsl_TTR  := false;
 loIsTara._cRecSpSchf := cSpSchf;
 if (SpPrMC = word(1))
  {
  if (loIsTara.GetFirst SpSchF = 0)
   {
#ifndef GAL5_80
    if (loIsTara.KatMC.kGroupMC = loIsTara.SystDate.SchString1)
      isVozvTara:=true;
#else
    if (loIsTara.KatMC.kGroupMC =sGetTune('Tara.KodGrMcTara'))
      isVozvTara:=true;          
#end
  if isVozvTara
  {
    if (loIsTara.KatSopr.VidSopr = 204 OR loIsTara.KatSopr.VidSopr = 612) OR loIsTara.KatSopr.TaraVoz = 2
      isVozvTara := FALSE;
  }
   }
  }
#ifdef GAL5_80
  else
   {
    if (loIsTara.GetFirst SpSchF = 0)
      if (loIsTara.KatUsl.cGroupUsl =coGetTune('Nalog.Ukr.GrUsl_TTR'))
        isUsl_TTR:=true;
   }
#end
end.
.{?Internal;((not IsVozvTara) and (not IsUsl_TTR))
.{?Internal;(not IsFirstLine)
.{?Internal;(not boPrintPosl)
.fields
  if(longint(dOtgr)=0,
    if(longint(dOpl)=0,'',DateToStr(dOpl,'DD/MM/YYYY')),
    if(longint(dOpl)=0,
      DateToStr(dOtgr,'DD/MM/YYYY'),
      if(dOtgr<dOpl,DateToStr(dOtgr,'DD/MM/YYYY'),DateToStr(dOpl,'DD/MM/YYYY'))
      )
    )
  SpName If(SpPrMC=3,'',SpOtpEd) If(SpPrMC=3,0.0,SpKol) If(SpPrMC=3,0.0,SpSumNoNDS/SpKol) SpS1 SpS4 SpS7 SpS10+SpS11
.endfields
! Р║      ├──────────┼─────────────────────┼───────┼─────────┼────────────┼───────────┼───────────┼───────────┼───────────┼────────────╢ Р
 Р║      │@~@@@@@@@@│@@@@@@@@@@@@@@@@@@@@@│@~@@@@@│&#&&&&.&&│&#&&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│            ║ Р
.}
.{?Internal;(boPrintPosl)
.fields
  if(longint(dOtgr)=0,
    if(longint(dOpl)=0,'',DateToStr(dOpl,'DD/MM/YYYY')),
    if(longint(dOpl)=0,
      DateToStr(dOtgr,'DD/MM/YYYY'),
      if(dOtgr<dOpl,DateToStr(dOtgr,'DD/MM/YYYY'),DateToStr(dOpl,'DD/MM/YYYY'))
      )
    )
  SpName If(SpPrMC=3,'',SpOtpEd) sPosluga If(SpPrMC=3,0.0,SpSumNoNDS/SpKol) SpS1 SpS4 SpS7 SpS10+SpS11
.endfields
! Р║      ├──────────┼─────────────────────┼───────┼─────────┼────────────┼───────────┼───────────┼───────────┼───────────┼────────────╢ Р
 Р║      │@~@@@@@@@@│@@@@@@@@@@@@@@@@@@@@@│@~@@@@@│@~@@@@@@@│&#&&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│            ║ Р
.}
.}
.{?Internal;(IsFirstLine)
.{?Internal;(not boPrintPosl)
.fields
  if(longint(dOtgr)=0,
    if(longint(dOpl)=0,'',DateToStr(dOpl,'DD/MM/YYYY')),
    if(longint(dOpl)=0,
      DateToStr(dOtgr,'DD/MM/YYYY'),
      if(dOtgr<dOpl,DateToStr(dOtgr,'DD/MM/YYYY'),DateToStr(dOpl,'DD/MM/YYYY'))
      )
    )
  SpName If(SpPrMC=3,'',SpOtpEd) If(SpPrMC=3,0.0,SpKol) If(SpPrMC=3,0.0,SpSumNoNDS/SpKol) SpS1 SpS4 SpS7 SpS10+SpS11
.endfields
! Р╟──────┼──────────┼─────────────────────┼───────┼─────────┼────────────┼───────────┼───────────┼───────────┼───────────┼────────────╢ Р
 Р║  I   │@~@@@@@@@@│@@@@@@@@@@@@@@@@@@@@@│@~@@@@@│&#&&&&.&&│&#&&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│            ║ Р
.}
.{?Internal;(boPrintPosl)
.fields
  if(longint(dOtgr)=0,
    if(longint(dOpl)=0,'',DateToStr(dOpl,'DD/MM/YYYY')),
    if(longint(dOpl)=0,
      DateToStr(dOtgr,'DD/MM/YYYY'),
      if(dOtgr<dOpl,DateToStr(dOtgr,'DD/MM/YYYY'),DateToStr(dOpl,'DD/MM/YYYY'))
      )
    )
  SpName If(SpPrMC=3,'',SpOtpEd) sPosluga If(SpPrMC=3,0.0,SpSumNoNDS/SpKol) SpS1 SpS4 SpS7 SpS10+SpS11
.endfields
! Р╟──────┼──────────┼─────────────────────┼───────┼─────────┼────────────┼───────────┼───────────┼───────────┼───────────┼────────────╢ Р
 Р║  I   │@~@@@@@@@@│@@@@@@@@@@@@@@@@@@@@@│@~@@@@@│@~@@@@@@@│&#&&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│            ║ Р
.}
.begin IsFirstLine := false; end.
.}
.}
.begin
  if (isVozvTara)
   {
    SumIII11 := SumIII11+SpS17;
   }
  else
  {
#ifdef GAL5_80
   if (not IsUsl_TTR)
    {
      SumI7 := SumI7+SpS1;
      SumI8 := SumI8+SpS4;
      SumI9 := SumI9+SpS7;
      SumI10 := SumI10+SpS10+SpS11;
    }
   else
    {
      SumII7 := SumII7+SpS1;
      SumII8 := SumII8+SpS4;
      SumII9 := SumII9+SpS7;
      SumII10 := SumII10+SpS10+SpS11;
    }
#else
   SumI7 := SumI7+SpS1;
   SumI8 := SumI8+SpS4;
   SumI9 := SumI9+SpS7;
   SumI10 := SumI10+SpS10+SpS11;
#end
   SumVI7 := SumVI7+SpS2;
   SumVI8 := SumVI8+SpS5;
   SumVI9 := SumVI9+SpS8;
//   SumIII11 := SumIII11+SpS17;
   case TipNDS of
     1:
       {
         SumII7 := SumII7 + SpS16;
         SumIVp7 := SumIVp7 + SpS19;
         SumIVm7 := SumIVm7 + SpS20;
       };
     2:
       {
         SumII8 := SumII8 + SpS16;
         SumIVp8 := SumIVp8 + SpS19;
         SumIVm8 := SumIVm8 + SpS20;
       };
     3:
       {
         SumII9 := SumII9 + SpS16;
         SumIVp9 := SumIVp9 + SpS19;
         SumIVm9 := SumIVm9 + SpS20;
       };
     4, 5:
       {
         SumII10 := SumII10 + SpS16;
         SumIVp10 := SumIVp10 + SpS19;
         SumIVm10 := SumIVm10 + SpS20;
       };
   end;
  }
end.
.} // SpNaln
.{CheckEnter NalnKatSopr
.{CheckEnter NalnSpSopr
.{CheckEnter NalnSpSoprNalog
.} // NalnSpSoprNalog
.} // NalnSpSopr
.} // NalnKatSopr
.{CheckEnter NalogFinNaln
.} // NalogFinNaln
.if NnItogoGroup       // итого по группе. Если true, то не печатать Итого
.end
.begin
  SumI11 := SumI7+SumI8+SumI9+SumI10;
  SumII11 := SumII7+SumII8+SumII9+SumII10;
  SumIVp11 := SumIVp7+SumIVp8+SumIVp9+SumIVp10;
  SumIVm11 := SumIVm7+SumIVm8+SumIVm9+SumIVm10;
  SumV7 := SumI7+SumII7+SumIVp7-SumIVm7;
  SumV8 := SumI8+SumII8+SumIVp8-SumIVm8;
  SumV9 := SumI9+SumII9+SumIVp9-SumIVm9;
  SumV10 := SumI10+SumII10+SumIVp10-SumIVm10;
  SumV11 := SumV7+SumV8+SumV9+SumV10;
  SumVI11 := SumVI7+SumVI8+SumVI9+SumVI10;
end.
.fields
  SumI7 SumI8 SumI9 SumI10 SumI11
  SumII7 SumII8 SumII9 SumII10 SumII11
  SumIII11
  SumIVp7 SumIVp8 SumIVp9 SumIVp10 SumIVp11
  SumIVm7 SumIVm8 SumIVm9 SumIVm10 SumIVm11
  SumV7 SumV8 SumV9 SumV10 SumV11
.endfields
 Р║      ├──────────┴─────────────────────┼───────┼─────────┼────────────┼───────────┼───────────┼───────────┼───────────┤            ║ Р
 Р║      │Усього по роздiлу I             │       │         │            │&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&&.&&║ Р
 Р╟──────┼────────────────────────────────┼───────┼─────────┼────────────┼───────────┼───────────┼───────────┼───────────┼────────────╢ Р
 Р║  II  │Товаротранспортнi витрати       │       │         │            │&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&&.&&║ Р
 Р╟──────┼────────────────────────────────┼───────┼─────────┼────────────┼───────────┼───────────┼───────────┼───────────┼────────────╢ Р
 Р║ III  │Зворотна (заставна) тара        │   Х   │    Х    │      Х     │     Х     │     Х     │     Х     │     Х     │&#&&&&&&&.&&║ Р
 Р╟──────┼──────────────────┬─────────────┼───────┼─────────┼────────────┼───────────┼───────────┼───────────┼───────────┼────────────╢ Р
 Р║      │                  │ надбавка (+)│       │         │            │&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&&.&&║ Р
 Р║  IV  │Надано покупцю:   ├─────────────┼───────┼─────────┼────────────┼───────────┼───────────┼───────────┼───────────┼────────────╢ Р
 Р║      │                  │ знижка (-)  │       │         │            │&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&&.&&║ Р
 Р╟──────┼──────────────────┴─────────────┼───────┼─────────┼────────────┼───────────┼───────────┼───────────┼───────────┼────────────╢ Р
 Р║  V   │Усього по роздiлах I + II +/- IV│       │         │            │&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&&.&&║ Р
 Р╟──────┼────────────────────────────────┼───────┼─────────┼────────────┼───────────┼───────────┼───────────┼───────────┼────────────╢ Р
.{?Internal;(Abs(S10+S11) > 0.005)
.fields
!  SumVI7 if (Abs(S8) > 0.005 or Abs(SumVI8) > 0.005, string(SumVI8,0,2), '0'):'P:R'
!  if (Abs(S9) > 0.005 or Abs(SumVI9) > 0.005, string(SumVI9,0,2), '0'):'P:R'
  'Без НДС п.5.1.2' 'Без НДС п.5.1.2'
.endfields
! Р║  VI  │Податок на додану вартiсть      │       │         │            │&#&&&&&&.&&│@@@@@@@@@@@│@@@@@@@@@@@│@~@@@@@@@@@│@~@@@@@@@@@@║ Р
 Р║  VI  │Податок на додану вартiсть      │       │         │            │           │           │           │@~@@@@@@@@@│@~@@@@@@@@@@║ Р
.}
.{?Internal;(Abs(S10+S11) <= 0.005)
.fields
  SumVI7
  if (Abs(S4) < 0.005, '', if (Abs(Stav2) < 0.005, '0', string(SumVI8,0,2)))
  if (Abs(S7) < 0.005, '', if (Abs(Stav3) < 0.005, '0', string(SumVI9,0,2)))
  SumVI11
.endfields
 Р║  VI  │Податок на додану вартiсть      │       │         │            │&#&&&&&&.&&│@~@@@@@@@@@│@~@@@@@@@@@│           │&#&&&&&&&.&&║ Р
.}
.fields
  SumV7+SumVI7 SumV8+SumVI8 SumV9+SumVI9 SumV10+SumVI10 SumV11+SumVI11
  if (MOLName = '', '', '/'+MOLName+'/')
!  'true':'s' // прогон листа
.endfields
 Р╟──────┼────────────────────────────────┼───────┼─────────┼────────────┼───────────┼───────────┼───────────┼───────────┼────────────╢ Р
 Р║ VII  │Загальна сума з ПДВ             │       │         │            │&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&&.&&║ Р
 Р╚══════╧════════════════════════════════╧═══════╧═════════╧════════════╧═══════════╧═══════════╧═══════════╧═══════════╧════════════╝ Р
 Р    Суми ПДВ, нарахованi (сплаченi) у зв'язку з продажем товарiв (робiт, послуг), зазначених у цiй накладнiй, визначенi правильно, Р
 Р  вiдповiдають сумi податкових зобов'язань продавця i включенi до книги облiку продажу. Р
 И     ┌──────┐ И                                 Ф@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@               Ф
 И     │ М.П. │ И                                 Ш          (подпiс i прiзвище особи, яка склала податкову накладну) Ш
 И     └──────┘ И
.} // Naln
.endform

#doc
Приложение N1 (формат A4)
#end
.linkform 'Nalnrees_11' prototype is 'Nalnrees'
.NameInList 'Приложение N1 (формат A4)'
.Group 'Бланки приложения N1'
.p 80
.defo portrait
.if NnSetDateRange
.end
.var
  Sum7: double;
  NNP: longint;
.endvar
.{CheckEnter Naln
!.fields
!  CommonFormHeader
!.endfields
!.[h skip
!  Б^ Б
! Ш╔═══╤══════════════════╤═══════════════╤═══════╤════════════╤══════════╤════════════╤═══════════════╤═══════╤══════════╤═══════════════╤═══════╤══════════╗ Ш
! Щ║ 1 │        2         │       3       │   4   │      5     │     6    │      7     │       8       │   9   │    10    │       11      │  12   │    13    ║ Щ
! Ш╟───┼──────────────────┼───────────────┼───────┼────────────┼──────────┼────────────┼───────────────┼───────┼──────────┼───────────────┼───────┼──────────╢ Ш
!.]h
.fields
  CommonFormHeader

  NalNakl_NoDoc
  if (longint(NalNakl_dDoc)<>0, DateToStr(NalNakl_dDoc,'DD/MM/YYYY'), '')
  if (longint(dFact)<>0, DateToStr(dFact,'"DD" Mon YYYY г.'), '')
.endfields
  Б^ Б
 И  ┌──────────────────────────────┬────┐                                       Додаток  N 1 И
 И  │Оригiнал (видається покупцю)  │    │                            до податкової накладної И
 И  ├──────────────────────────────┼────┤                     (у редакцiї наказу ДПА України И
 И  │Копiя (залишається у продавця)│    │                                   08.10.98  N 469) И
 И  └──────────────────────────────┴────┘ И
 И   (Непотрiбне видiлити помiткою "Х") И

 Й          Додаток  до  податкової  накладної  N  Д@@@@@@@@@@@@@@@ Д вiд  Д@@@@@@@@@@@@ Н
 Й                              Дата  Д@@@@@@@@@@@@@@@@@@@@@@@@@ Н

 Ш╔═══╤══════════════════╤════════════════════════════════════════════════════════════╤══════════════════════════════════╤══════════════════════════════════╗ Ш
 Ш║   │                  │                                                            │      Перелiк (номенклатура)      │                                  ║ Ш
 Ш║   │                  │                                                            │      частки товару (роботи,      │      Залишок частки товару       ║ Ш
 Ш║   │                  │                   Належить поставцi                        │      послуги), що не мiстить     │     (роботи, послуги), що не     ║ Ш
 Ш║   │                  │                                                            │      вiдокремленої вартостi      │  мiстить вiдокремленої вартостi, ║ Ш
 Ш║ N │    N договору,   │                                                            │   частково поставлених товарiв   │       яку слiд допоставити       ║ Ш
 Ш║з/п│  назва продавця  │                                                            │          (робiт, послуг)         │                                  ║ Ш
 Ш║   │                  ├───────────────┬───────┬────────────┬──────────┬────────────┼───────────────┬───────┬──────────┼───────────────┬───────┬──────────╢ Ш
 Ш║   │                  │ Номенклатура  │Одиниця│Цiна одиницi│Кiлькiсть,│ Загальна   │ Номенклатура  │Одиниця│Кiлькiсть,│ Номенклатура  │Одиниця│Кiлькiсть,║ Ш
 Ш║   │                  │товарiв (робiт,│вимiру │ продукцiї  │  об'єм,  │сума коштiв │товарiв (робiт,│вимiру │  об'єм,  │товарiв (робiт,│вимiру │  об'єм,  ║ Ш
 Ш║   │                  │     послуг)   │       │ без ураху- │  обсяг   │  без ПДВ   │     послуг)   │       │  обсяг   │     послуг)   │       │  обсяг   ║ Ш
 Ш║   │                  │               │       │ вання ПДВ  │          │            │               │       │          │               │       │          ║ Ш
 Ш╟───┼──────────────────┼───────────────┼───────┼────────────┼──────────┼────────────┼───────────────┼───────┼──────────┼───────────────┼───────┼──────────╢ Ш
 Щ║ 1 │        2         │       3       │   4   │      5     │     6    │      7     │       8       │   9   │    10    │       11      │  12   │    13    ║ Щ
 Ш╟───┼──────────────────┼───────────────┼───────┼────────────┼──────────┼────────────┼───────────────┼───────┼──────────┼───────────────┼───────┼──────────╢ Ш
.if NnHeaderGroup
.end
.begin
  Sum7 := 0.0;
  NNP := 0;
end.
.{CheckEnter SpNaln
.begin
  NNP := NNP + 1;
  Sum7 := Sum7 + SpSumNoNDS;
end.
.fields
  NNP 'документ-основание N '+BaseDoc_NoDoc+' от '+if(longint(BaseDoc_dDoc)=0,'',DateToStr(BaseDoc_dDoc,'DD/MM/YYYY'))+
  ', '+if(Direct=1,MyOrgName,OrgName)
    SpName If(SpPrMC=3,'',SpOtpEd) If(SpPrMC=3,0.0,SpSumNoNDS/SpKol) If(SpPrMC=3,0.0,SpKol) SpS1+SpS4+SpS7+SpS10+SpS11
    SpName If(SpPrMC=3,'',SpOtpEd) If(SpPrMC=3,0.0,SpS22) SpName If(SpPrMC=3,'',SpOtpEd) If(SpPrMC=3,0.0,SpS23)
.endfields
! Ш╟───┼──────────────────┼───────────────┼───────┼────────────┼──────────┼────────────┼───────────────┼───────┼──────────┼───────────────┼───────┼──────────╢ Ш
 Ш║&~&│@@@@@@@@@@@@@@@@@@│@@@@@@@@@@@@@@@│@~@@@@@│&#&&&&&&&.&&│&#&&&&.&&&│&#&&&&&&&.&&│@@@@@@@@@@@@@@@│@~@@@@@│&#&&&&.&&&│@@@@@@@@@@@@@@@│@~@@@@@│&#&&&&.&&&║ Ш
.} // SpNaln
.{CheckEnter NalnKatSopr
.{CheckEnter NalnSpSopr
.{CheckEnter NalnSpSoprNalog
.} // NalnSpSoprNalog
.} // NalnSpSopr
.} // NalnKatSopr
.{CheckEnter NalogFinNaln
.} // NalogFinNaln
.if NnItogoGroup       // итого по группе. Если true, то не печатать Итого
.end
.fields
  Sum7
  if (MOLName = '', '', '/'+MOLName+'/')
.endfields
 Ш╟───┴──────────────────┼───────────────┼───────┼────────────┼──────────┼────────────┼───────────────┼───────┼──────────┼───────────────┼───────┼──────────╢ Ш
 Ш║               Всього │       Х       │   Х   │      Х     │     Х    │&#&&&&&&&.&&│       Х       │   Х   │     Х    │       Х       │   Х   │     Х    ║ Ш
 Ш╚══════════════════════╧═══════════════╧═══════╧════════════╧══════════╧════════════╧═══════════════╧═══════╧══════════╧═══════════════╧═══════╧══════════╝ Ш
       Р___________________________ Р                      Ф@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                Ф
 Ш              (дата заповнення додатка)                                                         (подпiс i прiзвище особи, яка склала додаток) Ш
.} // Naln
.endform

#doc
Приложение N2. Расчет корректировки (формат A4)
#end
.linkform 'Nalnrees_12' prototype is 'Nalnrees'
.NameInList 'Приложение N2. Расчет корректировки (формат A4)'
.Group 'Бланки приложения N2 (Расчет корректировки)'
.p 50
.defo landscape
.if NnSetDateRange
.end
.{CheckEnter Naln
!.fields
!  CommonFormHeader
!.endfields
!.[h skip
!  Б^ Б
! Р╔══════════╤══════════════╤════════════════════╤═══════╤═════════╤════════════╤════════════╤═════════╤═══════════╤═══════════╤═══════════╤════════════╤════════════╤════════════╤════════════╗ Р
! С║    1     │      2       │         3          │   4   │    5    │     6      │     7      │    8    │     9     │    10     │    11     │     12     │     13     │     14     │     15     ║ С
! Р╟──────────┼──────────────┼────────────────────┼───────┼─────────┼────────────┼────────────┼─────────┼───────────┼───────────┼───────────┼────────────┼────────────┼────────────┼────────────╢ Р
!.]h
.fields
  CommonFormHeader

  NSF+'/'+DopNSF
  if (longint(NalNakl_dDoc)<>0, DateToStr(NalNakl_dDoc,'"DD" Mon YYYY г.'), '')
  NalNakl_NoDoc
  if (longint(BaseDoc_dDoc)<>0, DateToStr(BaseDoc_dDoc,'"DD" Mon YYYY г.'), '')
  BaseDoc_NoDoc

  If (Direct=1 ,MyOrgName + if(pFilialOrgName <> '',  ' / ' + pFilialOrgName, ''), OrgName)
  If (Direct<>1,MyOrgName + if(pFilialOrgName <> '',  ' / ' + pFilialOrgName, ''), OrgName)

  If (Direct=1,SubStr(MyOrgINN, 1, 1), SubStr(OrgINN, 1, 1))
  If (Direct=1,SubStr(MyOrgINN, 2, 1), SubStr(OrgINN, 2, 1))
  If (Direct=1,SubStr(MyOrgINN, 3, 1), SubStr(OrgINN, 3, 1))
  If (Direct=1,SubStr(MyOrgINN, 4, 1), SubStr(OrgINN, 4, 1))
  If (Direct=1,SubStr(MyOrgINN, 5, 1), SubStr(OrgINN, 5, 1))
  If (Direct=1,SubStr(MyOrgINN, 6, 1), SubStr(OrgINN, 6, 1))
  If (Direct=1,SubStr(MyOrgINN, 7, 1), SubStr(OrgINN, 7, 1))
  If (Direct=1,SubStr(MyOrgINN, 8, 1), SubStr(OrgINN, 8, 1))
  If (Direct=1,SubStr(MyOrgINN, 9, 1), SubStr(OrgINN, 9, 1))
  If (Direct=1,SubStr(MyOrgINN, 10, 1), SubStr(OrgINN, 10, 1))
  If (Direct=1,SubStr(MyOrgINN, 11, 1), SubStr(OrgINN, 11, 1))
  If (Direct=1,SubStr(MyOrgINN, 12, 1), SubStr(OrgINN, 12, 1))

  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 1, 1), SubStr(OrgINN, 1, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 2, 1), SubStr(OrgINN, 2, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 3, 1), SubStr(OrgINN, 3, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 4, 1), SubStr(OrgINN, 4, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 5, 1), SubStr(OrgINN, 5, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 6, 1), SubStr(OrgINN, 6, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 7, 1), SubStr(OrgINN, 7, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 8, 1), SubStr(OrgINN, 8, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 9, 1), SubStr(OrgINN, 9, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 10, 1), SubStr(OrgINN, 10, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 11, 1), SubStr(OrgINN, 11, 1)))
  if ((SubTip and 15) = 3, 'X', If (Direct<>1,SubStr(MyOrgINN, 12, 1), SubStr(OrgINN, 12, 1)))

  If (Direct=1,if (MyOrgGorod='', '', 'м.'+ MyOrgGorod + ', ') + MyOrgAddr 
                                                               + if(pFilialOrgGorod = '' AND pFilialOrgAddr = ''
                                                                   , ''
                                                                   , ' / ' + if(pFilialOrgGorod = ''
                                                                                , ''
                                                                                , 'м.'+ pFilialOrgGorod + ', ') + pFilialOrgAddr )
                                , if (OrgGorod='','','м.'+OrgGorod+', ')+OrgAddr)

  If (Direct<>1,if (MyOrgGorod='','','м.' + MyOrgGorod + ', ') + MyOrgAddr
                                                               + if(pFilialOrgGorod = '' AND pFilialOrgAddr = ''
                                                                   , ''
                                                                   , ' / ' + if(pFilialOrgGorod = ''
                                                                                , ''
                                                                                , 'м.'+ pFilialOrgGorod + ', ') + pFilialOrgAddr )
                                 ,if (OrgGorod='','','м.'+OrgGorod+', ')+OrgAddr)

  If (Direct=1,MyOrgTel,OrgTel)
  If (Direct<>1,MyOrgTel,OrgTel)

  If (Direct=1,MyINNDS,OrgINNDS)
  if ((SubTip and 15) = 3, 'XXXXXXXXXXXXXXXXXX', If (Direct<>1,MyINNDS,OrgINNDS))

!  if (trim(BaseDoc_NoDoc)='','','документ-основание N '+BaseDoc_NoDoc+if(longint(BaseDoc_dDoc)=0,'',' от '+DateToStr(BaseDoc_dDoc,'DD/MM/YYYY')))
  VidDogTxt
  if(longint(dOpl)=0,'',DateToStr(dOpl,'DD/MM/YYYY'))
  FormRascTxt
  string(Stav1,0,0)+'%'
  string(Stav2,0,0)+'%'
  string(Stav1,0,0)+'%'
  string(Stav1,0,0)+'%'
  string(Stav1,0,0)+'%'
  string(Stav1,0,0)+'%'
.endfields
  Б^ Б
 Ш  ┌──────────────────────────────┬────┐ Ш                                                                          И           Додаток  N 2 И
 Ш  │Оригiнал (видається покупцю)  │    │ Ш                                                                          Идо податкової накладної И
 Ш  ├──────────────────────────────┼────┤ Ш
 Ш  │Копiя (залишається у продавця)│    │ Ш     И                           БРОЗРАХУНОК Б  N  Е@@@@@@@@@@@@@@@@@@ Н
 Ш  └──────────────────────────────┴────┘ Ш     Икоригування кiлькiсних i вартiсних показникiв до податкової накладної И
 Ш   (Непотрiбне видiлити помiткою "Х")   Ш     Ивiд  Е@@@@@@@@@@@@@@@@@@@@ Е N  Е@@@@@@@@@@ Е за договором вiд  Е@@@@@@@@@@@@@@@@@@@@ Е N  Е@@@@@@@@@@@ Н
 Р                            Продавець                                                                         Покупець Р
 Р      Особа (платник       ┌───────────────────────────────────────────────────────┐ Особа (платник      ┌─────────────────────────────────────────────────────┐ Р
 Р      податку) - продавець │ Б@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Б│ податку) - покупець Б │@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Б│ Р
 Р                           └───────────────────────────────────────────────────────┘                     └─────────────────────────────────────────────────────┘ Р
 Ш                                  (назва: прiзвище, iм'я, по батьковi - для фiзичної особи)                                    (назва: прiзвище, iм'я, по батьковi - для фiзичної особи) Ш
 Р          ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┐                                 ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┐ Р
 С          │@~@│@~@│@~@│@~@│@~@│@~@│@~@│@~@│@~@│@~@│@~@│@~@│                                 │@~@│@~@│@~@│@~@│@~@│@~@│@~@│@~@│@~@│@~@│@~@│@~@│ С
 Р          └───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┘                                 └───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┴───┘ Р
 Ш                (iндивiдуальний податковий номер продавця)                                                  (iндивiдуальний податковий номер покупця) Ш
 Р      Мiсцезнаходження продавця  Е@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Е   Мiсцезнаходження покупця  Е@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Е Р
 Р      Номер телефону  Е@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Е   Номер телефону  Е@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Е Р
 Р      Номер свiдоцтва про          ┌───────────────────────────────────────────────┐ Номер свiдоцтва про          ┌────────────────────────────────────────────┐ Р
 Р      реєстрацiю платника податку  │ Б@~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Б│ реєстрацiю платника податку  │ Б@~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Б│ Р
 Р      на додану вартiсть (продавця)└───────────────────────────────────────────────┘ на додану вартiсть (покупця) └────────────────────────────────────────────┘ Р
 Р      Умова продажу  Е@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Е Р
 Ш                                                                                (форма цивiльно-правового договору) Ш
 Р      Дата оплати  Е@@@@@@@@@@@@@@@@@ Е  Форма проведених розрахункiв  Е@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Е Р
 Ш                                                                                               (бартер, готiвка, оплата з розрахункового рахунка, чек тощо) Ш
 Р╔══════════╤══════════════╤════════════════════╤═══════╤══════════════════════╤══════════════════════╤═══════════════════════════════════╤═══════════════════════════════════════════════════╗ Р
 Р║          │              │                    │       │                      │                      │                                   │ Проведення коригування податкового зобов'язання та║ Р
 Р║          │              │                    │       │     Коригування      │      Коригування     │   Пiдлягають коригуванню обсяги   │               податкового кредиту                 ║ Р
 Р║          │              │                    │       │      кiлькостi       │       вартостi       │ без урахування ПДВ, що оподаткову-├─────────────────────────┬─────────────────────────╢ Р
 Р║          │              │Номенклатура товарiв│       ├─────────┬────────────┼────────────┬─────────┤         ються за ставками         │ При вiд'ємному значеннi │При позитивному значеннi ║ Р
 Р║  Дата    │   Причина    │  (робiт, послуг),  │Одиниця│  змiна  │            │            │ кiль-   │                                   │         графи 9         │       графи 9           ║ Р
 Р║ коригу-  │ коригування  │    вартiсть чи     │вимiру │ кiлько- │    цiна    │            │ кость   ├───────────┬───────────┬───────────┼────────────┬────────────┼────────────┬────────────╢ Р
 Р║  вання   │              │   кiлькiсть яких   │       │  стi,   │  поставки  │ змiна цiни │поставки │           │           │ звiльненi │ податкове  │подвтковий* │ податкове  │податковий* ║ Р
 Р║          │              │    коригується     │       │ об'єму, │  товарiв   │  (-) (+)   │товарiв  │@~@@@@@@@@@│@~@@@@@@@@@│  вiд ПДВ  │зобов'язан- │кредит по-  │зобов'язан- │кредит по-  ║ Р
 Р║          │              │                    │       │ обсягу  │  (робiт,   │            │(робiт,  │  (-) (+)  │  (-) (+)  │   ст.5    │ня продавця │купця змен- │ня продавця │   купця    ║ Р
 Р║          │              │                    │       │ (-) (+) │   послуг)  │            │послуг)  │           │           │  (-) (+)  │зменшується │  шується   │збiльшується│збiльшується║ Р
 Р║          │              │                    │       │         │            │            │         │           │           │           │гр.9 (-)*@@@│гр.9 (-)*@@@│гр.9(-)*@@@@│гр.9 (-)*@@@║ Р
 Р╟──────────┼──────────────┼────────────────────┼───────┼─────────┼────────────┼────────────┼─────────┼───────────┼───────────┼───────────┼────────────┼────────────┼────────────┼────────────╢ Р
 С║    1     │      2       │         3          │   4   │    5    │     6      │     7      │    8    │     9     │    10     │    11     │     12     │     13     │     14     │     15     ║ С
 Р╟──────────┼──────────────┼────────────────────┼───────┼─────────┼────────────┼────────────┼─────────┼───────────┼───────────┼───────────┼────────────┼────────────┼────────────┼────────────╢ Р
.if NnHeaderGroup
.end
.{CheckEnter SpNaln
.fields
  if(longint(dFact)=0,'',DateToStr(dFact, 'DD/MM/YYYY')) if (TipCorr = 0, 'Змiна кiлькостi', 'Змiна вартостi') SpName If(SpPrMC=3,'',SpOtpEd)
     if(TipCorr = 0, If(SpPrMC=3,0.0,SpKol), 0.0) if(TipCorr = 0, If(SpPrMC=3,0.0,SpSumNoNDS/SpKol), 0.0)
     if(TipCorr = 1, If(SpPrMC=3,0.0,SpKol), 0.0) if(TipCorr = 1, If(SpPrMC=3,0.0,SpSumNoNDS/SpKol), 0.0)
     SpS1 SpS4+SpS7 SpS10+SpS11 if(SpS2<0.0,SpS2,0.0) if(SpS2<0.0,SpS2,0.0) if(SpS2>0.0,SpS2,0.0) if(SpS2>0.0,SpS2,0.0)
.endfields
! Р╟──────────┼──────────────┼────────────────────┼───────┼─────────┼────────────┼────────────┼─────────┼───────────┼───────────┼───────────┼────────────┼────────────┼────────────┼────────────╢ Р
 Р║@~@@@@@@@@│@@@@@@@@@@@@@@│@@@@@@@@@@@@@@@@@@@@│@~@@@@@│&#&&&.&&&│&#&&&&&&&.&&│&#&&&&&&&.&&│&#&&&.&&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&.&&│&#&&&&&&&.&&│&#&&&&&&&.&&│&#&&&&&&&.&&│&#&&&&&&&.&&║ Р
.[f
 Р╚══════════╧══════════════╧════════════════════╧═══════╧═════════╧════════════╧════════════╧═════════╧═══════════╧═══════════╧═══════════╧════════════╧════════════╧════════════╧════════════╝ Р
.]f
.} // SpNaln
.{CheckEnter NalnKatSopr
.{CheckEnter NalnSpSopr
.{CheckEnter NalnSpSoprNalog
.} // NalnSpSoprNalog
.} // NalnSpSopr
.} // NalnKatSopr
.{CheckEnter NalogFinNaln
.} // NalogFinNaln
.if NnItogoGroup       // итого по группе. Если true, то не печатать Итого
.end
.fields
  DateToStr(Cur_Date, 'DD/MM/YYYY')
  if (MOLName = '', '', '/'+MOLName+'/')
.endfields
 Ш   Суми ПДВ, якi скоригованi у зв'язку зi змiною кiлькiсних чи вартiсних показникiв, що зазначенi в цьому розрахунку, Ш
 Ш  визначенi правильно, включенi вiдповiдно до податкового зобов'язання з одночасним вiдображенням у книги облiку продажу. Ш   Ф@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@             Ф
 И    ┌───────┐ И                                                        Ш(дата, подпiс i прiзвище особи, яка склала розрахунок коригування) Ш
 И    │  М.П. │ И
 И    └───────┘ И
.fields
  if (longint(dFact)<>0, DateToStr(dFact,'DD/MM/YYYY'), '')
  NSF+'/'+DopNSF
  if (longint(NalNakl_dDoc)<>0, DateToStr(NalNakl_dDoc,'DD/MM/YYYY'), '')
  NalNakl_NoDoc
.endfields
 Ш  Разрахунок коригування вiд  Д@@@@@@@@@@@@ Д N  Д@@@@@@@@@@@@@@@@ Д по податкової накладної вiд @@@@@@@@@@@@ N @@@@@@@@@@                       Р___________________________________________________ И
 Ш  отримав i зобов'язуюся включити суми коригування до книги облiку придбання та сум податкового кредиту i податкового зобов'язання.                             (дата отримання розрахунку, пiдпис покупця) Ш
 Ш  * - Зменшення чи збiльшення податкового кредиту покупця проводиться лише за умови попереднього включення ним в обсяг податкового кредиту ранiше здiйснених витрат на сплату податку на пiдставi податкової накладної. Ш
.} // Naln
.endform