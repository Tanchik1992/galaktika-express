#ifdef _TTN_MAIN_
#doc
Накладные на продажу
Стандартная накладная на отпуск (для строительства)
#end
.linkform 'tovn_uks' prototype is tovn
.NameInList 'Стандартная накладная на отпуск (для строительства)'
.group 'Накладные на продажу'
.group 'Акты на строительство'
#end
#ifdef _TTN_DOC_600_
#doc
ТТН_600
Стандартная накладная на отпуск (для строительства)
#end
.linkform 'tovn_uks_600' prototype is tovn
.NameInList 'Стандартная накладная на отпуск (для строительства)'
.group 'ТТН_600'
#end
#ifdef _TTN_AKTREC_
#doc
Рекламационные накладные
Стандартная рекламационная накладная (для строительства)
#end
.linkform 'tovn_uks_aktrec' prototype is tovn
.NameInList 'Стандартная рекламационная накладная (для строительства)'
.group 'Рекламационные накладные'
#end
#ifdef _TTN_PRIH_
#doc
Приходные накладные
Стандартная накладная (для строительства)
#end
.linkform 'tovn_uks_prih' prototype is tovn
.NameInList 'Стандартная накладная (для строительства)'
.group 'Приходные накладные'
#end
#include summa.frn
.DEFO landscape
.P 45
.var
  СтНакБН_busl       : double;
  СтНДСНак_busl      : double;
  СтНакСН_busl       : double;
.endvar
#include format.frn
#include sum_calc.frn
.fields
 CommonFormHeader
 Поставщик
 Номер_с_дескриптором
 Дата
#ifndef _TTN_AKTREC_
  #ifdef _TTN_PRIH_
   Склад_Пол
  #else
   Склад
  #end
 Основание ДатаОснования
#end
 Назначение
#ifdef _TTN_DOC_600_
if(Грузополучатель = '',
   Поставщик + '(' + Склад_Пол +
   if (Склад_Пол_Адрес = '', '', ', ' + Склад_Пол_Адрес) + ')',
   Грузополучатель)
#else
 Получатель
#end
#ifndef _TTN_AKTREC_
 ДовЛицо
#end
 НакСимвол НакСимвол НакСимвол НакСимвол
   Номер_пп КодМЦ Название ОтпЕд DoubleToStr(КолФ, Kol_Pr)
   DoubleToStr(ЦНакБН, Cena_Pr)   DoubleToStr(СтНакБН, Cena_Pr)
   DoubleToStr(СтНДСНак, Cena_Pr) DoubleToStr(СтНакСН, Cena_Pr)
   Партия Объект_строительства Статья_затрат
// итоговые суммы
  DoubleToStr(СтНакБН_busl,  Cena_Pr)
  DoubleToStr(СтНДСНак_busl, Cena_Pr)
  DoubleToStr(СтНакСН_busl,  Cena_Pr)

 DoubleToStr(СтНакСН_busl, Cena_Pr)
 НакСимвол
 DoubleToStr(СтНДСНак_busl, Cena_Pr)
 НакСимвол

 TaraVoz
 DoubleToString(Валюта_нрек, Round(СтНакСН_busl, GetPrecisionGroup('brForSopr_RVprice')))
 отпуск_разрешил_должность + ' ' + отпуск_разрешил
 Главный_Бухгалтер
 сдал_отправитель_должность + ' ' + сдал_отправитель
 СпецСимвол
.endfields
.{
 И
 ^

Организация :  В@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ В

#ifdef _TTN_AKTREC_
                                       РЕКЛАМАЦИОННАЯ НАКЛАДНАЯ №   В^ В
#else
  #ifdef _TTN_PRIH_
                                        Н А К Л А Д Н А Я   №   В^ В
  #else
                                    НАКЛАДНАЯ №   В^ В  НА ОТПУСК МАТЕРИАЛОВ
  #end
#end
                                              от  В^ В

#ifndef _TTN_AKTREC_
 Склад :  В@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ В
#end
.if tovn01
#ifndef _TTN_AKTREC_
  Основание №   В^ В от  В^ В
#end
.end
.if tovn02
 Назначение :  В@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ В
.end
 Получатель :  В@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ В
#ifndef _TTN_AKTREC_
 Через :  В@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ В
#end
 И
 Ш───┬─────────────┬────────────────────────────────┬───────────┬──────────┬─────────────┬───────────────┬────────────┬───────────────┬─────────────────────────┬─────────────────────────┬─────────────────────────
 № │Номенклатурн.│         Наименование           │  Единица  │Количество│    Цена     │   Стоимость   │    НДС     │  Всего с НДС  │        Партия           │         Объект          │      Статья затрат
п/п│   номер     │                                │ измерения │          │ @~@@@@@@@@@ │ @~@@@@@@@@@@@ │ @~@@@@@@@@ │ @~@@@@@@@@@@@ │                         │      строительства      │
───┼─────────────┼────────────────────────────────┼───────────┼──────────┼─────────────┼───────────────┼────────────┼───────────────┼─────────────────────────┼─────────────────────────┼─────────────────────────
.begin
  СтНакБН_busl       := 0;
  СтНДСНак_busl      := 0;
  СтНакСН_busl       := 0;
end.
.{
.begin
  СтНакБН_busl       := СтНакБН_busl  + СтНакБН;
  СтНДСНак_busl      := СтНДСНак_busl + СтНДСНак;
  СтНакСН_busl       := СтНакСН_busl  + СтНакСН;
end.
@@@│@@@@@@@@@@@@@│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@@@@@@@@@@@│&&&&&&&&&&│&&&&&&&&&&&&&│&&&&&&&&&&&&&&&│&&&&&&&&&&&&│&&&&&&&&&&&&&&&│@@@@@@@@@@@@@@@@@@@@@@@@@│@@@@@@@@@@@@@@@@@@@@@@@@@│@@@@@@@@@@@@@@@@@@@@@@@@@
.}
.{ CHECKENTER TOVNUSL
.}
───┴─────────────┴────────────────────────────────┴───────────┴──────────┴─────────────┴───────────────┴────────────┴───────────────┴─────────────────────────┴─────────────────────────┴─────────────────────────
                                                               Итого :                  &&&&&&&&&&&&&&& &&&&&&&&&&&& &&&&&&&&&&&&&&& Ш
 РИтого по накладной        : &&&&&&&&&&&&&&&&&& ^
в том числе НДС           : &&&&&&&&&&&&&&&&&& ^                                      ^
Отпущено по накладной : @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Р

 РОтпуск разрешил ___________  Ж@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Ж        Гл. бухгалтер _________  Ж@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Ж

Отпустил        ___________  Ж@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Ж        Получил       __________________________________________________ Р

.{
.}
#ifdef __SKYSHOP__
#include sky.inc
#end
   ^
.}
.endform

#ifdef _TTN_MAIN_
#doc
Накладные на продажу
Стандартная накладная на отпуск с услугами (для строительства)
#end
.linkform 'tovn_usl_uks' prototype is tovn
.NameInList 'Стандартная накладная на отпуск с услугами (для строительства)'
.group 'Накладные на продажу'
.group 'Акты на строительство'
#define _TTN_EXIST_NAME_
#end
#ifdef _TTN_PRIH_
#doc
Приходные накладные
Стандартная накладная с услугами (для строительства)
#end
.linkform 'tovn_usl_uks_prih' prototype is tovn
.NameInList 'Стандартная накладная с услугами (для строительства)'
.group 'Приходные накладные'
#define _TTN_EXIST_NAME_
#end
#ifdef _TTN_EXIST_NAME_
#include summa.frn
.DEFO landscape
.P 45
.var
  СтНакБН_usl       : double;
  СтНДСНак_usl      : double;
  СтНакСН_usl       : double;
  NPP               : word;
.endvar
#include format.frn
#include sum_calc.frn
.fields
 CommonFormHeader
 Поставщик
 Номер_с_дескриптором
 Дата
#ifndef _TTN_AKTREC_
  #ifdef _TTN_PRIH_
   Склад_Пол
  #else
   Склад
  #end
 Основание ДатаОснования
#end
 Назначение
 Получатель
#ifndef _TTN_AKTREC_
 ДовЛицо
#end
 НакСимвол НакСимвол НакСимвол НакСимвол
!МЦ
   NPP КодМЦ Название ОтпЕд  DoubleToStr(КолФ,Kol_Pr)
   DoubleToStr(ЦНакБН,Cena_Pr)   DoubleToStr(СтНакБН,Cena_Pr)
   DoubleToStr(СтНДСНак,Cena_Pr) DoubleToStr(СтНакСН,Cena_Pr)
   Партия Объект_строительства Статья_затрат
!Услуги
   NPP КодУслуги НазваниеУслуги ОтпЕдИзмУслуги DoubleToStr(КолФУслуги,Kol_Pr)
   DoubleToStr(У_ЦНакБН,Cena_Pr)    DoubleToStr(У_СтНакБН,Cena_Pr)
   DoubleToStr(У_СтНДСНак,Cena_Pr)  DoubleToStr(У_СтНакСН,Cena_Pr)
   У_Партия У_Объект_строительства У_Статья_затрат
// АСтНакБН АНДСНак АНПродНак
  DoubleToStr(СтНакБН_usl, Cena_Pr)
  DoubleToStr(СтНДСНак_usl, Cena_Pr)
  DoubleToStr(СтНакСН_usl, Cena_Pr)

// АСтНакСН
  DoubleToStr(СтНакСН_usl, Cena_Pr)
 НакСимвол
// АНДСНак
 DoubleToStr(СтНДСНак_usl, Cena_Pr)
 НакСимвол
// стр_АСтНакСН
 TaraVoz
 DoubleToString(Валюта_нрек, Round(СтНакСН_usl, GetPrecisionGroup('brForSopr_RVprice')))
 отпуск_разрешил_должность + ' ' + отпуск_разрешил
 Главный_Бухгалтер
 сдал_отправитель_должность + ' ' + сдал_отправитель
 СпецСимвол
.endfields
.{
 И
 ^

Организация :  В@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ В

#ifdef _TTN_PRIH_
                                        Н А К Л А Д Н А Я   №   В^ В
#else
                                    НАКЛАДНАЯ №   В^ В  НА ОТПУСК МАТЕРИАЛОВ
#end
                                              от  В^ В

 Склад :  В@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ В
.if tovn01
  Основание №   В^ В от  В^ В
.end
.if tovn02
 Назначение :  В@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ В
.end
 Получатель :  В@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ В
 Через :  В@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ В
 И
 Ш───┬─────────────┬────────────────────────────────┬───────────┬──────────┬─────────────┬───────────────┬────────────┬───────────────┬─────────────────────────┬─────────────────────────┬─────────────────────────
 № │Номенклатурн.│         Наименование           │  Единица  │Количество│   Цена в    │    Сумма в    │    НДС     │  Всего с НДС  │        Партия           │         Объект          │      Статья затрат
п/п│   номер     │                                │ измерения │          │ @~@@@@@@@@@ │ @~@@@@@@@@@@@ │ @~@@@@@@@@ │ @~@@@@@@@@@@@ │                         │      строительства      │
───┼─────────────┼────────────────────────────────┼───────────┼──────────┼─────────────┼───────────────┼────────────┼───────────────┼─────────────────────────┼─────────────────────────┼─────────────────────────
 1 │     2       │               3                │     4     │     5    │      6      │       7       │      8     │       9       │           10            │            11           │            12
───┼─────────────┼────────────────────────────────┼───────────┼──────────┼─────────────┼───────────────┼────────────┼───────────────┼─────────────────────────┼─────────────────────────┼─────────────────────────
.begin
  СтНакБН_usl       := 0;
  СтНДСНак_usl      := 0;
  СтНакСН_usl       := 0;
  NPP               := 0;
end.
.{
.{?Internal; Признак_МЦ = 1
.begin
  СтНакБН_usl       := СтНакБН_usl  + СтНакБН;
  СтНДСНак_usl      := СтНДСНак_usl + СтНДСНак;
  СтНакСН_usl       := СтНакСН_usl  + СтНакСН;
  inc(NPP);
end.
@@@│@@@@@@@@@@@@@│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@@@@@@@@@@@│&&&&&&&&&&│&&&&&&&&&&&&&│&&&&&&&&&&&&&&&│&&&&&&&&&&&&│&&&&&&&&&&&&&&&│@@@@@@@@@@@@@@@@@@@@@@@@@│@@@@@@@@@@@@@@@@@@@@@@@@@│@@@@@@@@@@@@@@@@@@@@@@@@@
.}
.}
.{?Internal;спецификацияУС_нрек<>0
───┴─────────────┴────────────────────────────────┴───────────┴──────────┴─────────────┴───────────────┴────────────┴───────────────┴─────────────────────────┴─────────────────────────┴───────────────────────── Ш
 ИУслуги по накладной И
 Ш───┬─────────────┬────────────────────────────────┬───────────┬──────────┬─────────────┬───────────────┬────────────┬───────────────┬─────────────────────────┬─────────────────────────┬─────────────────────────
 1 │     2       │               3                │     4     │     5    │      6      │       7       │      8     │       9       │           10            │            11           │            12
───┼─────────────┼────────────────────────────────┼───────────┼──────────┼─────────────┼───────────────┼────────────┼───────────────┼─────────────────────────┼─────────────────────────┼─────────────────────────
.}
.{ CHECKENTER TOVNUSL
.begin
  СтНакБН_usl       := СтНакБН_usl  + У_СтНакБН;
  СтНДСНак_usl      := СтНДСНак_usl + У_СтНДСНак;
  СтНакСН_usl       := СтНакСН_usl  + У_СтНакСН;
  inc(NPP)
end.
@@@│@@@@@@@@@@@@@│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│@@@@@@@@@@@│&&&&&&&&&&│&&&&&&&&&&&&&│&&&&&&&&&&&&&&&│&&&&&&&&&&&&│&&&&&&&&&&&&&&&│@@@@@@@@@@@@@@@@@@@@@@@@@│@@@@@@@@@@@@@@@@@@@@@@@@@│@@@@@@@@@@@@@@@@@@@@@@@@@
.}
───┴─────────────┴────────────────────────────────┴───────────┴──────────┴─────────────┴───────────────┴────────────┴───────────────┴─────────────────────────┴─────────────────────────┴─────────────────────────
                                                               Итого :                  &&&&&&&&&&&&&&& &&&&&&&&&&&& &&&&&&&&&&&&&&& Ш
 РИтого по накладной        : &&&&&&&&&&&&&&&&&& ^
в том числе НДС           : &&&&&&&&&&&&&&&&&& ^                                      ^
Отпущено по накладной : @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
 Р

 РОтпуск разрешил ___________  Ж@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Ж        Гл. бухгалтер _________  Ж@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Ж

Отпустил        ___________  Ж@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Ж        Получил       __________________________________________________ Р

.{
.}
#ifdef __SKYSHOP__
#include sky.inc
#end
   ^
.}
.endform
#end
#undef _TTN_EXIST_NAME_
