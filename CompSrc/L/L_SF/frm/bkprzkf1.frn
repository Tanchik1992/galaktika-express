/*
иммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм╩
╨                     (c) 1994,97 ╙╝Ю╞╝Ю═Ф╗О ┐─▀─┼▓┬┼─                      ╨
╨ ▐Ю╝╔╙Б        : ┐─▀─┼▓┬┼─                                                 ╨
╨ ▒╗АБ╔╛═       : ▌╞╔Ю═Б╗╒╜К╘ ╙╝╜БЦЮ                                        ╨
╨ ┌╔ЮА╗О        : 5.20                                                      ╨
╨ █═╖╜═Г╔╜╗╔    : ▐╔Г═БЛ ╙╜╗ё╗ ╞Ю╝╓═╕                                       ╨
╨ ▌Б╒╔БАБ╒╔╜╜К╘ : ┌╝╚╝╓Л╙╝ ─╜═Б╝╚╗╘ ┌╚═╓╗╛╗Ю╝╒╗Г (Anatoly)                  ╨
╨ ┬А╞Ю═╒╚╔╜╗О   : ▒╝Ю╝╙═ ┌.┌.(ValeraS)                                      ╨
╨ ▐═Ю═╛╔БЮК     : ╜╔Б                                                       ╨
хммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммммм╪
*/
#doc
┼╜╗ё═ ╞Ю╝╓═╕ А╒╝╓╜═О ╞╝ ╒А╔╛ ╒═╚НБ═╛
#end
.linkform 'BkPrZkF_31_Bel' prototype is 'BkPrZkF'
.NameInList '┼╜╗ё═ ╞Ю╝╓═╕ А╒╝╓╜═О ╞╝ ╒А╔╛ ╒═╚НБ═╛'
.Group '▐Ю╝╓═╕╗ (А╒╝╓╜═О, │╔╚═ЮЦАЛ)'
.P 60
.defo landscape
.fields
 If (RegTips=0,'▒╒╝╓╜═О ╙╜╗ё═ ╞Ю╝╓═╕ ╞╝ ╒═╚НБ═╛','░╔╔АБЮ ╖═╞╗А╔╘ (╞Ю╝╓═╕╗) ╞╝ ╒═╚НБ═╛')
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 MyInn
 FiltTxt

 CommonFormHeader
 If (RegTips=0,'▒┌▌└█─÷ ┼█┬┐─ ▐░▌└─├ ▐▌ ┌─▀·▓─▄','░┘┘▒▓░ ┤─▐┬▒┘┴ (▐░▌└─├┬) ▐▌ ┌─▀·▓─▄')
 MyOrg
 MyInn
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 FiltTxt

 Nds1
 Nds2
.endfields
.[h SKIP
Ъ░ ^ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└ ┬██ Ъ└@@@@@@@@@@@@@@@@@@@@Ъ└ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ ▀╗АБ Ъ└ @np@ Ъ└ ╗╖ _____Ъ░
Ъ≤зддддддддддддддддддддбддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддбддддддддддддддбддддддддддддддбддддддддддддддбддддддддддддддбдддддддддддддбддддддддддддддбдддддддддддддд©Ъ≤
Ъ≤Ё        (1)         Ё                      (2)                     Ё    (3)     Ё      (4)     Ё     (5═)     Ё     (5║)     Ё     (6═)     Ё     (6║)    Ё     (7)      Ё     (7═)     ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддддддддддддддддддддддддддддеддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддедддддддддддддеддддддддддддддедддддддддддддд╢Ъ≤
.]h
^

Ъ│                       @~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ│


Ъ┬ █═╚╝ё╝╞╚═Б╔╚ЛИ╗╙-╞Ю╝╓═╒╔Ф Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ⌠██ ╞Ю╝╓═╒Ф═ Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ▐Ю╝╓═╕═ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└Ъ┬

Ъ░ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                                   ▀╗АБ Ъ└ 1 Ъ└ ╗╖ _____Ъ░
Ъ≤зддддддддддддддддддддбддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддбддддддддддддддбдддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд©Ъ≤
Ъ≤Ё   └═Б═ ╗ ╜╝╛╔Ю     Ё █═╗╛╔╜╝╒═╜╗╔ ╞╝╙Ц╞═Б╔╚О                      Ё    ⌠██     Ё     ┌А╔ё╝    Ё                                          ┌ Б╝╛ Г╗А╚╔                                   ЁЪ≤
Ъ≤Ё    ╓╝╙Ц╛╔╜Б═       Ё                                              Ё ╞╝╙Ц╞═Б╔╚О Ё    ╞Ю╝╓═╕,   цддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                                              Ё            Ё    ╒╙╚НГ═О   Ё                ╞Ю╝╓═╕╗, ╝║╚═ё═╔╛К╔ ╞╝ АБ═╒╙╔             Ё    ╜╔ ╝║╚═ё═╔╛К╔ ╞Ю╝╓═╕╗    ЁЪ≤
Ъ≤Ё                    Ё                                              Ё            Ё      █└▒     цдддддддддддддддддддддддддддддбддддддддддддддддддддддддддддеддддддддддддддбдддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                                              Ё            Ё              Ё      &&. ╞Ю╝Ф╔╜Б╝╒ (5)      Ё      &&. ╞Ю╝Ф╔╜Б╝╒ (6)     Ё    ╒А╔ё╝     Ё    ╗╖ ╜╗Е    ЁЪ≤
Ъ≤Ё                    Ё                                              Ё            Ё              цддддддддддддддбддддддддддддддеддддддддддддддбддддддддддддд╢              Ё    М╙А╞╝ЮБ   ЁЪ≤
Ъ≤Ё                    Ё                                              Ё            Ё              Ё  АБ╝╗╛╝АБЛ   Ё    АЦ╛╛═     Ё  АБ╝╗╛╝АБЛ   Ё    АЦ╛╛═    Ё              Ё              ЁЪ≤
Ъ≤Ё                    Ё                                              Ё            Ё              Ё╞Ю╝╓═╕ ║╔╖ █└▒Ё     █└▒      Ё╞Ю╝╓═╕ ║╔╖ █└▒Ё     █└▒     Ё              Ё              ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддддддддддддддддддддддддддддеддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддедддддддддддддеддддддддддддддедддддддддддддд╢Ъ≤
Ъ≤Ё        (1)         Ё                      (2)                     Ё    (3)     Ё      (4)     Ё     (5═)     Ё     (5║)     Ё     (6═)     Ё     (6║)    Ё     (7)      Ё     (7═)     ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддддддддддддддддддддддддддддеддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддедддддддддддддеддддддддддддддедддддддддддддд╢Ъ≤
.{
.{CheckEnter BkPrZkVal
.fields
  Dollarah
.endfields
Ъ≤цддддддддддддддддддддаддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддаддддддддддддддаддддддддддддддаддддддддддддддаддддддддддддддадддддддддддддаддддддддддддддадддддддддддддд╢Ъ≤
Ъ≤Ё  ░╔ё╗АБЮ═Ф╗О ╒ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                                                              ЁЪ≤
Ъ≤цддддддддддддддддддддбддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддбддддддддддддддбддддддддддддддбддддддддддддддбддддддддддддддбдддддддддддддбддддддддддддддбдддддддддддддд╢Ъ≤
.{CheckEnter BkPrZkMain
.if TipUsersGroup
.fields
  TipUsersName             // 00 ╜═╖╒═╜╗╔ Б╗╞═ ╖═╞╗А╗
.endfields
Ъ≤цддддддддддддддддддддаддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддаддддддддддддддаддддддддддддддаддддддддддддддаддддддддддддддадддддддддддддаддддддддддддддадддддддддддддд╢Ъ≤
Ъ≤Ё  ▓╗╞ ╖═╞╗А╔╘ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                                                                ЁЪ≤
Ъ≤цддддддддддддддддддддбддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддбддддддддддддддбддддддддддддддбддддддддддддддбддддддддддддддбдддддддддддддбддддддддддддддбдддддддддддддд╢Ъ≤
.end
.if PodrGroup
.end
.if GroupBKObjectStroi
.end
.{CheckEnter BookZk
.}
.fields
 DatNomSF2
 KontrNameNazn
 KontrInn
 SummA Summ1 Summ2 Summ4 Summ5 Summ7+Summ23 Summ23
.endfields
Ъ≤Ё@@@@@@@@@@@@@@@@@@@@Ё@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ё@~@@@@@@@@@@Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&ЁЪ≤
.}
.fields
 Dollarah
 ISummA ISumm1 ISumm2 ISumm4 ISumm5 ISumm7+ISumm23 ISumm23
.endfields
Ъ≤цддддддддддддддддддддаддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддедддддддддддддеддддддддддддддедддддддддддддд╢Ъ≤
Ъ≤Ё      ┌▒┘┐▌ ╒ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@     Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&ЁЪ≤
Ъ≤цддддддддддддддддддддбддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддедддддддддддддеддддддддддддддедддддддддддддд╢Ъ≤
.[f
Ъ≤юддддддддддддддддддддаддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддаддддддддддддддаддддддддддддддаддддддддддддддаддддддддддддддадддддддддддддаддддддддддддддаддддддддддддддыЪ≤
.]f
.}
Ъ≤зддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддддбддддддддддддддбддддддддддддддбддддддддддддддбдддддддддддддбддддддддддддддбдддддддддддддд©Ъ≤
.{CheckEnter BkPrZkAllVal
.fields
 AllDollarah
 AllSummA AllSumm1 AllSumm2 AllSumm4 AllSumm5 AllSumm7+AllSumm23 AllSumm23
.endfields
Ъ≤Ё      ┌▒┘┐▌ ╒ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@     Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&ЁЪ≤
.}
Ъ≤юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддддаддддддддддддддаддддддддддддддаддддддддддддддадддддддддддддаддддддддддддддаддддддддддддддыЪ≤


.}

Ъ┬                    ░Ц╙╝╒╝╓╗Б╔╚Л

                    ┐╚═╒╜К╘ ║ЦЕё═╚Б╔ЮЪ┬
.endform

#doc
┼╜╗ё═ ╞Ю╝╓═╕
#end
.linkform 'BkPrZkF_32_Bel' prototype is 'BkPrZkF'
.NameInList '┼╜╗ё═ ╞Ю╝╓═╕'
.Group '▐Ю╝╓═╕╗ (│╔╚═ЮЦАЛ)'
.P 60
.defo landscape
.var
 LSA:double
 LS1:double
 LS2:double
 LS3:double
 LS4:double
 LS5:double
 LS6:double
 LS23:double
 LS8:double
 LS9:double
 LS7:double
 LS10:double
 LSIn1:double
 LSIn2:double
 LSIn3:double
 LSIn4:double
.endvar
.{
.{CheckEnter BkPrZkVal
.fields
 If (RegTips=0,'┼╜╗ё═ ╞Ю╝╓═╕','░╔╔АБЮ ╖═╞╗А╔╘ (╞Ю╝╓═╕╗)')
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 Dollar
 MyInn
 FiltTxt

  CommonFormHeader
 If (RegTips=0,'┼█┬┐─ ▐░▌└─├','░┘┘▒▓░ ┤─▐┬▒┘┴ (▐░▌└─├┬)')
 MyOrg
 MyInn
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 Dollar
 FiltTxt

 Nds1
 Nds2

 DatNomSF2
 KontrNameNazn
 KontrInn

 SummA Summ1 Summ2 Summ4 Summ5 Summ7+Summ23 Summ23

 LSA LS1 LS2 LS4 LS5 LS7+LS23 LS23

 ISummA ISumm1 ISumm2 ISumm4 ISumm5 ISumm7+ISumm23 ISumm23
.endfields
.[h SKIP
.begin
 LSA:=0.0;
 LS1:=0.0;
 LS2:=0.0;
 LS3:=0.0;
 LS4:=0.0;
 LS5:=0.0;
 LS6:=0.0;
 LS23:=0.0;
 LS8:=0.0;
 LS9:=0.0;
 LS7:=0.0;
 LS10:=0.0;
 LSIn1:=0.0;
 LSIn2:=0.0;
 LSIn3:=0.0;
 LSIn4:=0.0;
end.
Ъ░ ^ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└ ┌═╚НБ═ ЦГ╔Б═ @@@@@@@@@@@@@@@@@@@@ ┬██ Ъ└@@@@@@@@@@@@@@@@@@@@Ъ└ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ ▀╗АБ Ъ└ @np@ Ъ└ ╗╖ _____Ъ░
Ъ≤зддддддддддддддддддддбддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддбддддддддддддддбддддддддддддддбддддддддддддддбддддддддддддддбдддддддддддддбддддддддддддддбдддддддддддддд©Ъ≤
Ъ≤Ё        (1)         Ё                      (2)                     Ё    (3)     Ё      (4)     Ё     (5═)     Ё     (5║)     Ё     (6═)     Ё     (6║)    Ё     (7)      Ё     (7═)     ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддддддддддддддддддддддддддддеддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддедддддддддддддеддддддддддддддедддддддддддддд╢Ъ≤
.]h
.begin
 LSA:=0.0;
 LS1:=0.0;
 LS2:=0.0;
 LS3:=0.0;
 LS4:=0.0;
 LS5:=0.0;
 LS6:=0.0;
 LS23:=0.0;
 LS8:=0.0;
 LS9:=0.0;
 LS7:=0.0;
 LS10:=0.0;
 LSIn1:=0.0;
 LSIn2:=0.0;
 LSIn3:=0.0;
 LSIn4:=0.0;
end.
^

Ъ│                            @~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ│


Ъ┬ █═╚╝ё╝╞╚═Б╔╚ЛИ╗╙-╞Ю╝╓═╒╔Ф Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ⌠██ ╞Ю╝╓═╒Ф═ Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ▐Ю╝╓═╕═ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ┌═╚НБ═ ЦГ╔Б═ Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ░ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                                   ▀╗АБ Ъ└ 1 Ъ└ ╗╖ _____Ъ░
Ъ≤зддддддддддддддддддддбддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддбддддддддддддддбдддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд©Ъ≤
Ъ≤Ё   └═Б═ ╗ ╜╝╛╔Ю     Ё █═╗╛╔╜╝╒═╜╗╔ ╞╝╙Ц╞═Б╔╚О                      Ё    ⌠██     Ё     ┌А╔ё╝    Ё                                          ┌ Б╝╛ Г╗А╚╔                                   ЁЪ≤
Ъ≤Ё    ╓╝╙Ц╛╔╜Б═       Ё                                              Ё ╞╝╙Ц╞═Б╔╚О Ё    ╞Ю╝╓═╕,   цддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                                              Ё            Ё    ╒╙╚НГ═О   Ё                ╞Ю╝╓═╕╗, ╝║╚═ё═╔╛К╔ ╞╝ АБ═╒╙╔             Ё    ╜╔ ╝║╚═ё═╔╛К╔ ╞Ю╝╓═╕╗    ЁЪ≤
Ъ≤Ё                    Ё                                              Ё            Ё      █└▒     цдддддддддддддддддддддддддддддбддддддддддддддддддддддддддддеддддддддддддддбдддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                                              Ё            Ё              Ё      &&. ╞Ю╝Ф╔╜Б╝╒ (5)      Ё      &&. ╞Ю╝Ф╔╜Б╝╒ (6)     Ё    ╒А╔ё╝     Ё    ╗╖ ╜╗Е    ЁЪ≤
Ъ≤Ё                    Ё                                              Ё            Ё              цддддддддддддддбддддддддддддддеддддддддддддддбддддддддддддд╢              Ё    М╙А╞╝ЮБ   ЁЪ≤
Ъ≤Ё                    Ё                                              Ё            Ё              Ё  АБ╝╗╛╝АБЛ   Ё    АЦ╛╛═     Ё  АБ╝╗╛╝АБЛ   Ё    АЦ╛╛═    Ё              Ё              ЁЪ≤
Ъ≤Ё                    Ё                                              Ё            Ё              Ё╞Ю╝╓═╕ ║╔╖ █└▒Ё     █└▒      Ё╞Ю╝╓═╕ ║╔╖ █└▒Ё     █└▒     Ё              Ё              ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддддддддддддддддддддддддддддеддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддедддддддддддддеддддддддддддддедддддддддддддд╢Ъ≤
Ъ≤Ё        (1)         Ё                      (2)                     Ё    (3)     Ё      (4)     Ё     (5═)     Ё     (5║)     Ё     (6═)     Ё     (6║)    Ё     (7)      Ё     (7═)     ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддддддддддддддддддддддддддддеддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддедддддддддддддеддддддддддддддедддддддддддддд╢Ъ≤
.{CheckEnter BkPrZkMain
.if TipUsersGroup
.end //if
.if PodrGroup
.end
.if GroupBKObjectStroi
.end
.{CheckEnter BookZk
.}
.begin
 LSA:=LSA+SummA;
 LS1:=LS1+Summ1;
 LS2:=LS2+Summ2;
 LS3:=LS3+Summ3;
 LS4:=LS4+Summ4;
 LS5:=LS5+Summ5;
 LS6:=LS6+Summ6;
 LS23:=LS23+Summ23;
 LS8:=LS8+Summ8;
 LS9:=LS9+Summ9;
 LS7:=LS7+Summ7;
 LS10:=LS10+Summ10;
 LSIn1:=LSIn1+SumIn1;
 LSIn2:=LSIn2+SumIn2;
 LSIn3:=LSIn3+SumIn3;
 LSIn4:=LSIn4+SumIn4;
end.
Ъ≤Ё@@@@@@@@@@@@@@@@@@@@Ё@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ё@~@@@@@@@@@@Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&ЁЪ≤
.[f
Ъ≤цддддддддддддддддддддаддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддедддддддддддддеддддддддддддддедддддддддддддд╢Ъ≤
Ъ≤Ё      ┌▒┘┐▌ ╞╝ ╚╗АБЦ Э @np@                                                     Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&ЁЪ≤
Ъ≤юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддддаддддддддддддддаддддддддддддддаддддддддддддддадддддддддддддаддддддддддддддаддддддддддддддыЪ≤
.]f
.}
Ъ≥зддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддддбддддддддддддддбддддддддддддддбддддддддддддддбдддддддддддддбддддддддддддддбдддддддддддддд©Ъ≥
Ъ≥Ё      ┌▒┘┐▌                                                                     Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&ЁЪ≥
Ъ≥юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддддаддддддддддддддаддддддддддддддаддддддддддддддадддддддддддддаддддддддддддддаддддддддддддддыЪ≥


.}
.{CheckEnter BkPrZkAllVal
.}
.}

Ъ┬                    ░Ц╙╝╒╝╓╗Б╔╚ЛЪ┬

Ъ┬                    ┐╚═╒╜К╘ ║ЦЕё═╚Б╔ЮЪ┬

.endform
!//\\//\//\\//\\//\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\
#doc
┼╜╗ё═ ╞Ю╝╓═╕ (А ╜╝╛╔Ю═╛╗ └▌)
#end
.linkform 'BkPrZkF_33_Bel' prototype is 'BkPrZkF'
.NameInList '┼╜╗ё═ ╞Ю╝╓═╕ (А ╜╝╛╔Ю═╛╗ └▌)'
.Group '▐Ю╝╓═╕╗ (│╔╚═ЮЦАЛ)'
.p 60
.defo landscape
.var
 LSA:double
 LS1:double
 LS2:double
 LS3:double
 LS4:double
 LS5:double
 LS6:double
 LS23:double
 LS8:double
 LS9:double
 LS7:double
 LS10:double
 LSIn1:double
 LSIn2:double
 LSIn3:double
 LSIn4:double
.endvar
.{
.{CheckEnter BkPrZkVal
.fields
 If (RegTips=0,'┼╜╗ё═ ╞Ю╝╓═╕','░╔╔АБЮ ╖═╞╗А╔╘ (╞Ю╝╓═╕╗)')
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 Dollar
 MyInn
 FiltTxt

  CommonFormHeader
 If (RegTips=0,'┼█┬┐─ ▐░▌└─├','░┘┘▒▓░ ┤─▐┬▒┘┴ (▐░▌└─├┬)')
 MyOrg
 MyInn
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 Dollar
 FiltTxt

 Nds1
 Nds2

 DatNomSF2
 NomDO
 KontrNameNazn
 KontrInn

 SummA Summ1 Summ2 Summ4 Summ5 Summ7+Summ23 Summ23

 LSA LS1 LS2 LS4 LS5 LS7+LS23 LS23

 ISummA ISumm1 ISumm2 ISumm4 ISumm5 ISumm7+ISumm23 ISumm23
.endfields
.[h OVERWRITE SKIP
.begin
 LSA:=0.0;
 LS1:=0.0;
 LS2:=0.0;
 LS3:=0.0;
 LS4:=0.0;
 LS5:=0.0;
 LS6:=0.0;
 LS23:=0.0;
 LS8:=0.0;
 LS9:=0.0;
 LS7:=0.0;
 LS10:=0.0;
 LSIn1:=0.0;
 LSIn2:=0.0;
 LSIn3:=0.0;
 LSIn4:=0.0;
end.
Ъ░ ^ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└ ┌═╚НБ═ ЦГeБ═ @@@@@@@@@@@@@@@@@@@@ ┬██ Ъ└@@@@@@@@@@@@@@@@@@@@Ъ└ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ ▀╗АБ Ъ└ @np@ Ъ└ ╗╖ _____Ъ░
Ъ≤зддддддддддддддддддддбддддддддддбддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддбддддддддддддддбддддддддддддддбддддддддддддддбддддддддддддддбдддддддддддддбддддддддддддддбдддддддддддддд©Ъ≤
Ъ≤Ё        (1)         Ё   (1═)   Ё                      (2)                     Ё    (3)     Ё      (4)     Ё      (5═)    Ё     (5║)     Ё      (6═)    Ё     (6║)    Ё      (7)     Ё     (7═)     ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддеддддддддддддддддддддддддддддддддддддддддддддддеддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддедддддддддддддеддддддддддддддедддддддддддддд╢Ъ≤
.]h
.begin
 LSA:=0.0;
 LS1:=0.0;
 LS2:=0.0;
 LS3:=0.0;
 LS4:=0.0;
 LS5:=0.0;
 LS6:=0.0;
 LS23:=0.0;
 LS8:=0.0;
 LS9:=0.0;
 LS7:=0.0;
 LS10:=0.0;
 LSIn1:=0.0;
 LSIn2:=0.0;
 LSIn3:=0.0;
 LSIn4:=0.0;
end.
^

Ъ│                            @~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ│


Ъ┬ █═╚╝ё╝╞╚═Б╔╚ЛИ╗╙-╞Ю╝╓═╒╔Ф Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ⌠██ ╞Ю╝╓═╒Ф═ Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ▐Ю╝╓═╕═ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ┌═╚НБ═ ЦГ╔Б═ Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ░ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                                       ▀╗АБ Ъ└ 1 Ъ└ ╗╖ _____Ъ░
Ъ≤зддддддддддддддддддддбддддддддддбддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддбддддддддддддддбдддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд©Ъ≤
Ъ≤Ё   └═Б═ ╗ ╜╝╛╔Ю     Ё █╝╛╔Ю └▌ Ё █═╗╛╔╜╝╒═╜╗╔ ╞╝╙Ц╞═Б╔╚О                      Ё    ⌠██     Ё     ┌А╔ё╝    Ё                                          ┌ Б╝╛ Г╗А╚╔                                   ЁЪ≤
Ъ≤Ё    ╓╝╙Ц╛╔╜Б═       Ё          Ё                                              Ё ╞╝╙Ц╞═Б╔╚О Ё    ╞Ю╝╓═╕,   цддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё          Ё                                              Ё            Ё    ╒╙╚НГ═О   Ё                ╞Ю╝╓═╕╗, ╝║╚═ё═╔╛К╔ ╞╝ АБ═╒╙╔             Ё    ╜╔ ╝║╚═ё═╔╛К╔ ╞Ю╝╓═╕╗    ЁЪ≤
Ъ≤Ё                    Ё          Ё                                              Ё            Ё      █└▒     цдддддддддддддддддддддддддддддбддддддддддддддддддддддддддддеддддддддддддддбдддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё          Ё                                              Ё            Ё              Ё      &&. ╞Ю╝Ф╔╜Б╝╒ (5)      Ё      &&. ╞Ю╝Ф╔╜Б╝╒ (6)     Ё    ╒А╔ё╝     Ё    ╗╖ ╜╗Е    ЁЪ≤
Ъ≤Ё                    Ё          Ё                                              Ё            Ё              цддддддддддддддбддддддддддддддеддддддддддддддбддддддддддддд╢              Ё    М╙А╞╝ЮБ   ЁЪ≤
Ъ≤Ё                    Ё          Ё                                              Ё            Ё              Ё  АБ╝╗╛╝АБЛ   Ё    АЦ╛╛═     Ё  АБ╝╗╛╝АБЛ   Ё    АЦ╛╛═    Ё              Ё              ЁЪ≤
Ъ≤Ё                    Ё          Ё                                              Ё            Ё              Ё╞Ю╝╓═╕ ║╔╖ █└▒Ё     █└▒      Ё╞Ю╝╓═╕ ║╔╖ █└▒Ё     █└▒     Ё              Ё              ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддеддддддддддддддддддддддддддддддддддддддддддддддеддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддедддддддддддддеддддддддддддддедддддддддддддд╢Ъ≤
Ъ≤Ё        (1)         Ё   (1═)   Ё                      (2)                     Ё    (3)     Ё      (4)     Ё     (5═)     Ё     (5║)     Ё     (6═)     Ё     (6║)    Ё     (7)      Ё     (7═)     ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддеддддддддддддддддддддддддддддддддддддддддддддддеддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддедддддддддддддеддддддддддддддедддддддддддддд╢Ъ≤
.{CheckEnter BkPrZkMain
.if TipUsersGroup
.end
.if PodrGroup
.end
.if GroupBKObjectStroi
.end
.{CheckEnter BookZk
.}
.begin
 LSA:=LSA+SummA;
 LS1:=LS1+Summ1;
 LS2:=LS2+Summ2;
 LS3:=LS3+Summ3;
 LS4:=LS4+Summ4;
 LS5:=LS5+Summ5;
 LS6:=LS6+Summ6;
 LS23:=LS23+Summ23;
 LS8:=LS8+Summ8;
 LS9:=LS9+Summ9;
 LS7:=LS7+Summ7;
 LS10:=LS10+Summ10;
 LSIn1:=LSIn1+SumIn1;
 LSIn2:=LSIn2+SumIn2;
 LSIn3:=LSIn3+SumIn3;
 LSIn4:=LSIn4+SumIn4;
end.
Ъ≤Ё@@@@@@@@@@@@@@@@@@@@Ё@~@@@@@@@@Ё@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ё@~@@@@@@@@@@Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&ЁЪ≤
.[f OverWrite
Ъ≤цддддддддддддддддддддаддддддддддаддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддеддддддддддддддедддддддддддддеддддддддддддддедддддддддддддд╢Ъ≤
Ъ≤Ё      ┌▒┘┐▌ ╞╝ ╚╗АБЦ Э @np@                                                                Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&ЁЪ≤
Ъ≤юдддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддддаддддддддддддддаддддддддддддддаддддддддддддддадддддддддддддаддддддддддддддаддддддддддддддыЪ≤
.]f
.}
Ъ≥здддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддддбддддддддддддддбддддддддддддддбддддддддддддддбдддддддддддддбддддддддддддддбдддддддддддддд©Ъ≥
Ъ≥Ё      ┌▒┘┐▌                                                                                Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&.&&Ё&'&&&&&&&&&.&&Ё&'&&&&&&&&&.&&ЁЪ≥
Ъ≥юдддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддддаддддддддддддддаддддддддддддддаддддддддддддддадддддддддддддаддддддддддддддаддддддддддддддыЪ≥


.}
.{CheckEnter BkPrZkAllVal
.}
.}

Ъ┬                    ░Ц╙╝╒╝╓╗Б╔╚ЛЪ┬

Ъ┬                    ┐╚═╒╜К╘ ║ЦЕё═╚Б╔ЮЪ┬

.endform
!//\\//\//\\//\\//\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\
#define KS_RUSSIA  '643'

#doc
┼╜╗ё═ ╞╝╙Ц╞╝╙ А╒╝╓╜═О ╞╝ ╒А╔╛ ╒═╚НБ═╛
#end
.linkform 'BkPrZkF_34_Bel' prototype is 'BkPrZkF'
.NameInList '┼╜╗ё═ ╞╝╙Ц╞╝╙ А╒╝╓╜═О ╞╝ ╒А╔╛ ╒═╚НБ═╛'
.Group '┤═╙Ц╞╙╗ (А╒╝╓╜═О, │╔╚═ЮЦАЛ)'
.P 60
.create view vSFNums
from
    BookPrZk (ReadOnly)
  , KatOrg   (ReadOnly)
  , KatState (ReadOnly)
where
((
      nBookPrZk          == BookPrZk.nRec
  and BookPrZk.cOrg      == KatOrg.nRec
  and KatOrg.cState      == KatState.nRec
))
;
.defo landscape
.var
 isRussia : boolean;
.endvar
.fields
 If (RegTips=0,'▒╒╝╓╜═О ╙╜╗ё═ ╞╝╙Ц╞╝╙ ╞╝ ╒═╚НБ═╛','░╔╔АБЮ ╖═╞╗А╔╘ (╞╝╙Ц╞╙╗) ╞╝ ╒═╚НБ═╛')
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 MyInn
 FiltTxt

  CommonFormHeader
 If (RegTips=0,'▒┌▌└█─÷ ┼█┬┐─ ▐▌┼⌠▐▌┼ ▐▌ ┌─▀·▓─▄','░┘┘▒▓░ ┤─▐┬▒┘┴ (▐▌┼⌠▐┼┬) ▐▌ ┌─▀·▓─▄')
 MyOrg
 MyInn
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 FiltTxt

 Nds1
 Nds2
.endfields
.[h SKIP
Ъ░ ^ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└ ┬██ Ъ└@@@@@@@@@@@@@@@@@@@@Ъ└ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ ▀╗АБ Ъ└ @np@ Ъ└ ╗╖ _____Ъ░
Ъ≤зддддддддддддддддддддбдддддддддддддддддддддддддддддддддддбддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбддддддддддддддддд©Ъ≤
Ъ≤Ё        (1)         Ё                (2)                Ё    (3)     Ё       (4)       Ё      (5═)       Ё      (5║)       Ё       (6═)      Ё       (6║)      Ё       (7)       ЁЪ≤
Ъ≤цддддддддддддддддддддедддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддеддддддддддддддддд╢Ъ≤
.]h
^

Ъ│                       @~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ│


Ъ┬ █═╚╝ё╝╞╚═Б╔╚ЛИ╗╙-╞╝╙Ц╞═Б╔╚Л Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ⌠██ ╞╝╙Ц╞═Б╔╚О Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ▐╝╙Ц╞╙═ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└Ъ┬

Ъ░ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                          ▀╗АБ Ъ└ 1 Ъ└ ╗╖ _____Ъ░
Ъ≤зддддддддддддддддддддбдддддддддддддддддддддддддддддддддддбддддддддддддбдддддддддддддддддбддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд©Ъ≤
Ъ≤Ё  └═Б═ Ю╔ё╗АБЮ═Ф╗╗, Ё █═╗╛╔╜╝╒═╜╗╔ ╞Ю╝╓═╒Ф═             Ё    ⌠██     Ё     ┌А╔ё╝       Ё                                     ┌ Б╝╛ Г╗А╚╔                                         ЁЪ≤
Ъ≤Ё    ╜╝╛╔Ю ╗ ╓═Б═    Ё                                   Ё  ╞Ю╝╓═╒Ф═  Ё    ╞╝╙Ц╞╝╙,     цдддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддддддд╢Ъ≤
Ъ≤Ё     ╓╝╙Ц╛╔╜Б═      Ё                                   Ё            Ё    ╒╙╚НГ═О      Ё                 ╞╝╙Ц╞╙╗, ╝║╚═ё═╔╛К╔ ╜═╚╝ё╝╛ ╞╝ АБ═╒╙╔                 Ё     ╞╝╙Ц╞╙╗,    ЁЪ≤
Ъ≤Ё                    Ё                                   Ё            Ё      █└▒        цдддддддддддддддддддддддддддддддддддбддддддддддддддддддддддддддддддддддд╢  ╜╔ ╝║╚═ё═╔╛К╔  ЁЪ≤
Ъ≤Ё                    Ё                                   Ё            Ё                 Ё         &&. ╞Ю╝Ф╔╜Б╝╒ (5)         Ё          &&. ╞Ю╝Ф╔╜Б╝╒ (6)        Ё       █└▒       ЁЪ≤
Ъ≤Ё                    Ё                                   Ё            Ё                 цдддддддддддддддддбдддддддддддддддддедддддддддддддддддбдддддддддддддддддеддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                                   Ё            Ё                 Ё    АБ╝╗╛╝АБЛ    Ё      АЦ╛╛═      Ё    АБ╝╗╛╝АБЛ    Ё      АЦ╛╛═      Ё      ╒А╔ё╝      ЁЪ≤
Ъ≤Ё                    Ё                                   Ё            Ё                 Ё ╞╝╙Ц╞╝╙ ║╔╖ █└▒ Ё       █└▒       Ё ╞╝╙Ц╞╝╙ ║╔╖ █└▒ Ё       █└▒       Ё                 ЁЪ≤
Ъ≤цддддддддддддддддддддедддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддеддддддддддддддддд╢Ъ≤
Ъ≤Ё        (1)         Ё                (2)                Ё    (3)     Ё       (4)       Ё      (5═)       Ё      (5║)       Ё       (6═)      Ё       (6║)      Ё       (7)       ЁЪ≤
Ъ≤цддддддддддддддддддддедддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддеддддддддддддддддд╢Ъ≤
.{
.{CheckEnter BkPrZkVal
.fields
  Dollarah
.endfields
Ъ≤цддддддддддддддддддддадддддддддддддддддддддддддддддддддддаддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддаддддддддддддддддд╢Ъ≤
Ъ≤Ё  ░╔ё╗АБЮ═Ф╗О ╒ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                                                       ЁЪ≤
Ъ≤цддддддддддддддддддддбдддддддддддддддддддддддддддддддддддбддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбддддддддддддддддд╢Ъ≤
.{CheckEnter BkPrZkMain
.if TipUsersGroup
.fields
  TipUsersName             // 00 ╜═╖╒═╜╗╔ Б╗╞═ ╖═╞╗А╗
.endfields
Ъ≤цддддддддддддддддддддадддддддддддддддддддддддддддддддддддаддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддаддддддддддддддддд╢Ъ≤
Ъ≤Ё  ▓╗╞ ╖═╞╗А╔╘ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                                                         ЁЪ≤
Ъ≤цддддддддддддддддддддбдддддддддддддддддддддддддддддддддддбддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбддддддддддддддддд╢Ъ≤
.end //if
.if PodrGroup
.end
.if GroupBKObjectStroi
.end
.{CheckEnter BookZk
.}
.begin
 if (vSFNums.GetFirst BookPrZk = 0) {
   isRussia := false;
   if (vSFNums.GetFirst KatState = 0) {
     isRussia  := trim(vSFNums.KatState.KOD) = #KS_RUSSIA;
   }
 }
end.
.fields
 if (isRussia, DatNomSF3, DatNomSF2)
 KontrNameNazn
 KontrInn

 SummA Summ1 Summ2 Summ4 Summ5 Summ7+Summ23
.endfields
Ъ≤Ё@@@@@@@@@@@@@@@@@@@@Ё@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ё@~@@@@@@@@@@Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&ЁЪ≤
.}
.fields
 Dollarah
 ISummA ISumm1 ISumm2 ISumm4 ISumm5 ISumm7+ISumm23
.endfields
Ъ≤цддддддддддддддддддддадддддддддддддддддддддддддддддддддддаддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддеддддддддддддддддд╢Ъ≤
Ъ≤Ё      ┌▒┘┐▌ ╒ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&ЁЪ≤
Ъ≤цддддддддддддддддддддбдддддддддддддддддддддддддддддддддддбддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддеддддддддддддддддд╢Ъ≤
.[f
Ъ≤юддддддддддддддддддддадддддддддддддддддддддддддддддддддддаддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддыЪ≤
.]f
.}
Ъ≤здддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбддддддддддддддддд©Ъ≤
.{CheckEnter BkPrZkAllVal
.fields
 AllDollarah
 AllSummA AllSumm1 AllSumm2 AllSumm4 AllSumm5 AllSumm7+AllSumm23
.endfields
Ъ≤Ё      ┌▒┘┐▌ ╒ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&ЁЪ≤
.}
Ъ≤юдддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддыЪ≤


.}

Ъ┬                    ░Ц╙╝╒╝╓╗Б╔╚ЛЪ┬

Ъ┬                    ┐╚═╒╜К╘ ║ЦЕё═╚Б╔ЮЪ┬
.endform
!//\\//\//\\//\\//\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\
#doc
┼╜╗ё═ ╞╝╙Ц╞╝╙
#end
.linkform 'BkPrZkF_35_Bel' prototype is 'BkPrZkF'
.NameInList '┼╜╗ё═ ╞╝╙Ц╞╝╙'
.Group '┤═╙Ц╞╙╗ (│╔╚═ЮЦАЛ)'
.var
 LSA:double
 LS1:double
 LS2:double
 LS3:double
 LS4:double
 LS5:double
 LS6:double
 LS23:double
 LS8:double
 LS9:double
 LS7:double
 LS10:double
 LSIn1:double
 LSIn2:double
 LSIn3:double
 LSIn4:double
.endvar
.P 60
.defo landscape
.{
.{CheckEnter BkPrZkVal
.fields
 If (RegTips=0,'┼╜╗ё═ ╞╝╙Ц╞╝╙','░╔╔АБЮ ╖═╞╗А╔╘ (╞╝╙Ц╞╙╗)')
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 Dollar
 MyInn
 FiltTxt

  CommonFormHeader
 If (RegTips=0,'┼█┬┐─ ▐▌┼⌠▐▌┼','░┘┘▒▓░ ┤─▐┬▒┘┴ (▐▌┼⌠▐┼┬)')
 MyOrg
 MyInn
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 Dollar
 FiltTxt

 Nds1
 Nds2

 DatNomSF2
 KontrNameNazn
 KontrInn

 SummA Summ1 Summ2 Summ4 Summ5 Summ7+Summ23

 LSA LS1 LS2 LS4 LS5 LS7+LS23

 ISummA ISumm1 ISumm2 ISumm4 ISumm5 ISumm7+ISumm23
.endfields
.[h OVERWRITE SKIP
.begin
 LSA:=0.0;
 LS1:=0.0;
 LS2:=0.0;
 LS3:=0.0;
 LS4:=0.0;
 LS5:=0.0;
 LS6:=0.0;
 LS23:=0.0;
 LS8:=0.0;
 LS9:=0.0;
 LS7:=0.0;
 LS10:=0.0;
 LSIn1:=0.0;
 LSIn2:=0.0;
 LSIn3:=0.0;
 LSIn4:=0.0;
end.
Ъ░ ^ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└ ┌═╚НБ═ ЦГ╔Б═ @@@@@@@@@@@@@@@@ ┬██ Ъ└@@@@@@@@@@@@@@Ъ└ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ ▀╗АБ Ъ└ @np@ Ъ└ ╗╖ _____Ъ░
Ъ≤зддддддддддддддддддддбдддддддддддддддддддддддддддддддддддбддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбддддддддддддддддд©Ъ≤
Ъ≤Ё        (1)         Ё                (2)                Ё    (3)     Ё       (4)       Ё      (5═)       Ё      (5║)       Ё       (6═)      Ё       (6║)      Ё       (7)       ЁЪ≤
Ъ≤цддддддддддддддддддддедддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддеддддддддддддддддд╢Ъ≤
.]h
.begin
 LSA:=0.0;
 LS1:=0.0;
 LS2:=0.0;
 LS3:=0.0;
 LS4:=0.0;
 LS5:=0.0;
 LS6:=0.0;
 LS23:=0.0;
 LS8:=0.0;
 LS9:=0.0;
 LS7:=0.0;
 LS10:=0.0;
 LSIn1:=0.0;
 LSIn2:=0.0;
 LSIn3:=0.0;
 LSIn4:=0.0;
end.
^

Ъ│                                    @~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ│


Ъ┬ █═╚╝ё╝╞╚═Б╔╚ЛИ╗╙-╞╝╙Ц╞═Б╔╚Л Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ⌠██ ╞╝╙Ц╞═Б╔╚О Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ▐╝╙Ц╞╙═ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ┌═╚НБ═ ЦГ╔Б═ Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ░ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                              ▀╗АБ Ъ└ 1 Ъ└ ╗╖ _____Ъ░
Ъ≤зддддддддддддддддддддбдддддддддддддддддддддддддддддддддддбддддддддддддбдддддддддддддддддбддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд©Ъ≤
Ъ≤Ё   └═Б═ ╝╞╚═БК ╗    Ё █═╗╛╔╜╝╒═╜╗╔ ╞Ю╝╓═╒Ф═             Ё    ⌠██     Ё     ┌А╔ё╝       Ё                                     ┌ Б╝╛ Г╗А╚╔                                         ЁЪ≤
Ъ≤Ё  ╜╝╛╔Ю ╓╝╙Ц╛╔╜Б═   Ё                                   Ё  ╞Ю╝╓═╒Ф═  Ё    ╞╝╙Ц╞╝╙,     цдддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                                   Ё            Ё    ╒╙╚НГ═О      Ё                 ╞╝╙Ц╞╙╗, ╝║╚═ё═╔╛К╔ ╜═╚╝ё╝╛ ╞╝ АБ═╒╙╔                 Ё     ╞╝╙Ц╞╙╗,    ЁЪ≤
Ъ≤Ё                    Ё                                   Ё            Ё      █└▒        цдддддддддддддддддддддддддддддддддддбддддддддддддддддддддддддддддддддддд╢  ╜╔ ╝║╚═ё═╔╛К╔  ЁЪ≤
Ъ≤Ё                    Ё                                   Ё            Ё                 Ё         &&. ╞Ю╝Ф╔╜Б╝╒ (5)         Ё          &&. ╞Ю╝Ф╔╜Б╝╒ (6)        Ё       █└▒       ЁЪ≤
Ъ≤Ё                    Ё                                   Ё            Ё                 цдддддддддддддддддбдддддддддддддддддедддддддддддддддддбдддддддддддддддддеддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                                   Ё            Ё                 Ё    АБ╝╗╛╝АБЛ    Ё      АЦ╛╛═      Ё    АБ╝╗╛╝АБЛ    Ё      АЦ╛╛═      Ё      ╒А╔ё╝      ЁЪ≤
Ъ≤Ё                    Ё                                   Ё            Ё                 Ё ╞╝╙Ц╞╝╙ ║╔╖ █└▒ Ё       █└▒       Ё ╞╝╙Ц╞╝╙ ║╔╖ █└▒ Ё       █└▒       Ё                 ЁЪ≤
Ъ≤цддддддддддддддддддддедддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддеддддддддддддддддд╢Ъ≤
Ъ≤Ё        (1)         Ё                (2)                Ё    (3)     Ё       (4)       Ё      (5═)       Ё      (5║)       Ё       (6═)      Ё       (6║)      Ё       (7)       ЁЪ≤
Ъ≤цддддддддддддддддддддедддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддеддддддддддддддддд╢Ъ≤
.{CheckEnter BkPrZkMain
.if TipUsersGroup
.end //if
.if PodrGroup
.end
.if GroupBKObjectStroi
.end
.{CheckEnter BookZk
.}
.begin
 LSA:=LSA+SummA;
 LS1:=LS1+Summ1;
 LS2:=LS2+Summ2;
 LS3:=LS3+Summ3;
 LS4:=LS4+Summ4;
 LS5:=LS5+Summ5;
 LS6:=LS6+Summ6;
 LS23:=LS23+Summ23;
 LS8:=LS8+Summ8;
 LS9:=LS9+Summ9;
 LS7:=LS7+Summ7;
 LS10:=LS10+Summ10;
 LSIn1:=LSIn1+SumIn1;
 LSIn2:=LSIn2+SumIn2;
 LSIn3:=LSIn3+SumIn3;
 LSIn4:=LSIn4+SumIn4;
end.
Ъ≤Ё@@@@@@@@@@@@@@@@@@@@Ё@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ё@~@@@@@@@@@@Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&ЁЪ≤
.[f OverWrite
Ъ≤цддддддддддддддддддддадддддддддддддддддддддддддддддддддддаддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддеддддддддддддддддд╢Ъ≤
Ъ≤Ё      ┌▒┘┐▌ ╞╝ ╚╗АБЦ Э @np@                                          Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&ЁЪ≤
Ъ≤юдддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддыЪ≤
.]f
.}
Ъ≤здддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбддддддддддддддддд©Ъ≤
Ъ≤Ё      ┌▒┘┐▌                                                          Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&ЁЪ≤
Ъ≤юдддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддыЪ≤

.}
.{CheckEnter BkPrZkAllVal
.}
.}


Ъ┬                    ░Ц╙╝╒╝╓╗Б╔╚ЛЪ┬

Ъ┬                    ┐╚═╒╜К╘ ║ЦЕё═╚Б╔ЮЪ┬

.endform

#doc
┼╜╗ё═ ╞╝╙Ц╞╝╙ (А ╜╝╛╔Ю═╛╗ └▌)
#end
.linkform 'BkPrZkF_36_Bel' prototype is 'BkPrZkF'
.NameInList '┼╜╗ё═ ╞╝╙Ц╞╝╙ (А ╜╝╛╔Ю═╛╗ └▌)'
.Group '┤═╙Ц╞╙╗ (│╔╚═ЮЦАЛ)'
.P 60
.defo landscape
.var
 LSA:double
 LS1:double
 LS2:double
 LS3:double
 LS4:double
 LS5:double
 LS6:double
 LS23:double
 LS8:double
 LS9:double
 LS7:double
 LS10:double
 LSIn1:double
 LSIn2:double
 LSIn3:double
 LSIn4:double
.endvar
.{
.{CheckEnter BkPrZkVal
.fields
 If (RegTips=0,'┼╜╗ё═ ╞╝╙Ц╞╝╙','░╔╔АБЮ ╖═╞╗А╔╘ (╞╝╙Ц╞╙╗)')
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 Dollar
 MyInn
 FiltTxt

  CommonFormHeader
 If (RegTips=0,'┼█┬┐─ ▐▌┼⌠▐▌┼','░┘┘▒▓░ ┤─▐┬▒┘┴ (▐▌┼⌠▐┼┬)')
 MyOrg
 MyInn
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 Dollar
 FiltTxt

 Nds1
 Nds2

 DatNomSF2
 NomDO
 KontrNameNazn
 KontrInn

 SummA Summ1 Summ2 Summ4 Summ5 Summ7+Summ23

 LSA LS1 LS2 LS4 LS5 LS7+LS23

 ISummA ISumm1 ISumm2 ISumm4 ISumm5 ISumm7+ISumm23
.endfields
.[h OVERWRITE SKIP
.begin
 LSA:=0.0;
 LS1:=0.0;
 LS2:=0.0;
 LS3:=0.0;
 LS4:=0.0;
 LS5:=0.0;
 LS6:=0.0;
 LS23:=0.0;
 LS8:=0.0;
 LS9:=0.0;
 LS7:=0.0;
 LS10:=0.0;
 LSIn1:=0.0;
 LSIn2:=0.0;
 LSIn3:=0.0;
 LSIn4:=0.0;
end.
Ъ░ ^ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└ ┌═╚НБ═ ЦГ╔Б═ @@@@@@@@@@@@@@@@@@ ┬██ Ъ└@@@@@@@@@@@@@@@@@Ъ└ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ ▀╗АБ Ъ└ @np@ Ъ└ ╗╖ _____Ъ░
Ъ≤зддддддддддддддддддддбддддддддддбдддддддддддддддддддддддддддддддддддбддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбддддддддддддддддд©Ъ≤
Ъ≤Ё        (1)         Ё   (1═)   Ё                (2)                Ё    (3)     Ё       (4)       Ё      (5═)       Ё      (5║)       Ё       (6═)      Ё       (6║)      Ё       (7)       ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддедддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддеддддддддддддддддд╢Ъ≤
.]h
.begin
 LSA:=0.0;
 LS1:=0.0;
 LS2:=0.0;
 LS3:=0.0;
 LS4:=0.0;
 LS5:=0.0;
 LS6:=0.0;
 LS23:=0.0;
 LS8:=0.0;
 LS9:=0.0;
 LS7:=0.0;
 LS10:=0.0;
 LSIn1:=0.0;
 LSIn2:=0.0;
 LSIn3:=0.0;
 LSIn4:=0.0;
end.
^

Ъ│                                @~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ│


Ъ┬ █═╚╝ё╝╞╚═Б╔╚ЛИ╗╙-╞╝╙Ц╞═Б╔╚Л Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ⌠██ ╞╝╙Ц╞═Б╔╚О Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ▐╝╙Ц╞╙═ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ┌═╚НБ═ ЦГ╔Б═ Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ░ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                                  ▀╗АБ Ъ└ 1 Ъ└ ╗╖ _____Ъ░
Ъ≤зддддддддддддддддддддбддддддддддбдддддддддддддддддддддддддддддддддддбддддддддддддбдддддддддддддддддбддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд©Ъ≤
Ъ≤Ё   └═Б═ ╝╞╚═БК ╗    Ё █╝╛╔Ю └▌ Ё █═╗╛╔╜╝╒═╜╗╔ ╞Ю╝╓═╒Ф═             Ё    ⌠██     Ё     ┌А╔ё╝       Ё                                     ┌ Б╝╛ Г╗А╚╔                                         ЁЪ≤
Ъ≤Ё  ╜╝╛╔Ю ╓╝╙Ц╛╔╜Б═   Ё          Ё                                   Ё  ╞Ю╝╓═╒Ф═  Ё    ╞╝╙Ц╞╝╙,     цдддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё          Ё                                   Ё            Ё    ╒╙╚НГ═О      Ё                 ╞╝╙Ц╞╙╗, ╝║╚═ё═╔╛К╔ ╜═╚╝ё╝╛ ╞╝ АБ═╒╙╔                 Ё     ╞╝╙Ц╞╙╗,    ЁЪ≤
Ъ≤Ё                    Ё          Ё                                   Ё            Ё      █└▒        цдддддддддддддддддддддддддддддддддддбддддддддддддддддддддддддддддддддддд╢  ╜╔ ╝║╚═ё═╔╛К╔  ЁЪ≤
Ъ≤Ё                    Ё          Ё                                   Ё            Ё                 Ё         &&. ╞Ю╝Ф╔╜Б╝╒ (5)         Ё          &&. ╞Ю╝Ф╔╜Б╝╒ (6)        Ё       █└▒       ЁЪ≤
Ъ≤Ё                    Ё          Ё                                   Ё            Ё                 цдддддддддддддддддбдддддддддддддддддедддддддддддддддддбдддддддддддддддддеддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё          Ё                                   Ё            Ё                 Ё    АБ╝╗╛╝АБЛ    Ё      АЦ╛╛═      Ё    АБ╝╗╛╝АБЛ    Ё      АЦ╛╛═      Ё      ╒А╔ё╝      ЁЪ≤
Ъ≤Ё                    Ё          Ё                                   Ё            Ё                 Ё ╞╝╙Ц╞╝╙ ║╔╖ █└▒ Ё       █└▒       Ё ╞╝╙Ц╞╝╙ ║╔╖ █└▒ Ё       █└▒       Ё                 ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддедддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддеддддддддддддддддд╢Ъ≤
Ъ≤Ё        (1)         Ё   (1═)   Ё                (2)                Ё    (3)     Ё       (4)       Ё      (5═)       Ё      (5║)       Ё       (6═)      Ё       (6║)      Ё       (7)       ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддедддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддеддддддддддддддддд╢Ъ≤
.{CheckEnter BkPrZkMain
.if TipUsersGroup
.end //if
.if PodrGroup
.end
.if GroupBKObjectStroi
.end
.{CheckEnter BookZk
.}
.begin
 LSA:=LSA+SummA;
 LS1:=LS1+Summ1;
 LS2:=LS2+Summ2;
 LS3:=LS3+Summ3;
 LS4:=LS4+Summ4;
 LS5:=LS5+Summ5;
 LS6:=LS6+Summ6;
 LS23:=LS23+Summ23;
 LS8:=LS8+Summ8;
 LS9:=LS9+Summ9;
 LS7:=LS7+Summ7;
 LS10:=LS10+Summ10;
 LSIn1:=LSIn1+SumIn1;
 LSIn2:=LSIn2+SumIn2;
 LSIn3:=LSIn3+SumIn3;
 LSIn4:=LSIn4+SumIn4;
end.
Ъ≤Ё@@@@@@@@@@@@@@@@@@@@Ё@~@@@@@@@@Ё@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ё@~@@@@@@@@@@Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&ЁЪ≤
.[f
Ъ≤цддддддддддддддддддддаддддддддддадддддддддддддддддддддддддддддддддддаддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддедддддддддддддддддеддддддддддддддддд╢Ъ≤
Ъ≤Ё      ┌▒┘┐▌ ╞╝ ╚╗АБЦ Э @np@                                                     Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&ЁЪ≤
Ъ≤юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддыЪ≤
.]f
.}
Ъ≤зддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбдддддддддддддддддбддддддддддддддддд©Ъ≤
Ъ≤Ё      ┌▒┘┐▌                                                                     Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&ЁЪ≤
Ъ≤юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддадддддддддддддддддыЪ≤


.}
.{CheckEnter BkPrZkAllVal
.}
.}

Ъ┬                    ░Ц╙╝╒╝╓╗Б╔╚ЛЪ┬

Ъ┬                    ┐╚═╒╜К╘ ║ЦЕё═╚Б╔ЮЪ┬

.endform

//////////////////////////////////////////////////////////////
////    █╝╒═О Д╝Ю╛═ ╙╜╗ё╗ ╞╝╙Ц╞╝╙ (А 01.01.2001)          ////
//////////////////////////////////////////////////////////////


#doc
┼╜╗ё═ ╞╝╙Ц╞╝╙ (А 01.01.2001)
#end
.linkform 'BkPrZkF_37_Bel' prototype is 'BkPrZkF'
.NameInList '┼╜╗ё═ ╞╝╙Ц╞╝╙ (А 01.01.2001)'
.Group '┤═╙Ц╞╙╗ (│╔╚═ЮЦАЛ)'
.P 60
.create view vSFNums
from
  BookPrZk (ReadOnly),
  synonym SchFact SchFactS (ReadOnly),
  KatOrg   (ReadOnly),
  KatState (ReadOnly)
where
((
  nBookPrZk          == BookPrZk.nRec and
  BookPrZk.cSchFact  == SchFact.nRec  and
  BookPrZk.cSchFactS == SchFactS.nRec and
  BookPrZk.cOrg      == KatOrg.nRec   and
  KatOrg.cState      == KatState.nRec
))
;
.defo landscape
.var
 LSA:double
 LS1:double
 LS2:double
 LS3:double
 LS4:double
 LS5:double
 LS6:double
 LS23:double
 LS8:double
 LS9:double
 LS7:double
 LS10:double
 LSIn1:double
 LSIn2:double
 LSIn3:double
 LSIn4:double
 strNum1: string
 strNum2: string
 strCountry: string
.endvar
.{
.{CheckEnter BkPrZkVal
.fields
 If (RegTips=0,'┼╜╗ё═ ╞╝╙Ц╞╝╙','░╔╔АБЮ ╖═╞╗А╔╘ (╞╝╙Ц╞╙╗)')
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 //Dollar
 MyInn
 FiltTxt

  CommonFormHeader
 If (RegTips=0,'┼█┬┐─ ▐▌┼⌠▐▌┼','░┘┘▒▓░ ┤─▐┬▒┘┴ (▐▌┼⌠▐┼┬)')
 MyOrg
 MyInn
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 //Dollar
 FiltTxt

 Nds1
 Nds2

 if ( longint(DatOpr) = 0, '', DateToStr(DatOpr, 'DD/MM/YYYY') ) + strNum1
 if ( longint(DatOpl) = 0, '', DateToStr(DatOpl, 'DD/MM/YYYY') ) + strNum2
 KontrNameNazn + strCountry
 KontrInn

 SummA Summ1 Summ2 Summ4 Summ5 //Summ7+Summ23

 LSA LS1 LS2 LS4 LS5 //LS7+LS23

 ISummA ISumm1 ISumm2 ISumm4 ISumm5 //ISumm7+ISumm23
.endfields
.[h OVERWRITE SKIP
.begin
 LSA:=0.0;
 LS1:=0.0;
 LS2:=0.0;
 LS3:=0.0;
 LS4:=0.0;
 LS5:=0.0;
 LS6:=0.0;
 LS23:=0.0;
 LS8:=0.0;
 LS9:=0.0;
 LS7:=0.0;
 LS10:=0.0;
 LSIn1:=0.0;
 LSIn2:=0.0;
 LSIn3:=0.0;
 LSIn4:=0.0;
end.
Ъ░ ^ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└ ┬██ Ъ└@@@@@@@@@@@@@@@@@Ъ└ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@               ▀╗АБ Ъ└ @np@ Ъ└ ╗╖ _____Ъ░
Ъ≤зддддддддддддддддддддбддддддддддддддддддддбдддддддддддддддддддддддддддддддддддддддбддддддддддддбдддддддддддддддддбддддддддддддддддддбддддддддддддддддддбддддддддддддддддддбдддддддддддддддддд©Ъ≤
Ъ≤Ё        (1)         Ё         (2)        Ё                  (3)                  Ё     (4)    Ё       (5)       Ё       (6═)       Ё       (6║)       Ё       (7═)       Ё       (7║)       ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддедддддддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддеддддддддддддддддддеддддддддддддддддддеддддддддддддддддддедддддддддддддддддд╢Ъ≤
.]h
.begin
 LSA:=0.0;
 LS1:=0.0;
 LS2:=0.0;
 LS3:=0.0;
 LS4:=0.0;
 LS5:=0.0;
 LS6:=0.0;
 LS23:=0.0;
 LS8:=0.0;
 LS9:=0.0;
 LS7:=0.0;
 LS10:=0.0;
 LSIn1:=0.0;
 LSIn2:=0.0;
 LSIn3:=0.0;
 LSIn4:=0.0;
end.
^

Ъ│                                @~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ│


Ъ┬ █═╚╝ё╝╞╚═Б╔╚ЛИ╗╙-╞╝╙Ц╞═Б╔╚Л Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ⌠██ ╞╝╙Ц╞═Б╔╚О Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ▐╝╙Ц╞╙═ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└Ъ┬

Ъ░ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                               ▀╗АБ Ъ└ 1 Ъ└ ╗╖ _____Ъ░
Ъ≤зддддддддддддддддддддбддддддддддддддддддддбдддддддддддддддддддддддддддддддддддддддбддддддддддддбдддддддддддддддддбддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд©Ъ≤
Ъ≤Ё └═Б═ ╞Ю╗╝║Ю╔Б╔╜╗О  Ё    └═Б═ ╝╞╚═БК     Ё █═╗╛╔╜╝╒═╜╗╔ ╞Ю╝╓═╒Ф═                 Ё    ⌠██     Ё     ┌А╔ё╝       Ё                                ┌ Б╝╛ Г╗А╚╔                                ЁЪ≤
Ъ≤Ё ╗ ╜╝╛╔Ю ╓╝╙Ц╛╔╜Б═  Ё ╗ ╜╝╛╔Ю ╓╝╙Ц╛╔╜Б═  Ё                                       Ё  ╞Ю╝╓═╒Ф═  Ё    ╞╝╙Ц╞╝╙,     Ё                   ╞╝╙Ц╞╙╗, ╝║╚═ё═╔╛К╔ ╜═╚╝ё╝╛ ╞╝ АБ═╒╙╔                   ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё  ╒╙╚НГ═О █└▒    цдддддддддддддддддддддддддддддддддддддбддддддддддддддддддддддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё          &&. ╞Ю╝Ф╔╜Б╝╒ (6)          Ё           &&. ╞Ю╝Ф╔╜Б╝╒ (7)         ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 цддддддддддддддддддбддддддддддддддддддеддддддддддддддддддбдддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё    АБ╝╗╛╝АБЛ     Ё       АЦ╛╛═      Ё    АБ╝╗╛╝АБЛ     Ё      АЦ╛╛═       ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё ╞╝╙Ц╞╝╙ ║╔╖ █└▒  Ё        █└▒       Ё ╞╝╙Ц╞╝╙ ║╔╖ █└▒  Ё       █└▒        ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддедддддддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддеддддддддддддддддддеддддддддддддддддддеддддддддддддддддддедддддддддддддддддд╢Ъ≤
Ъ≤Ё        (1)         Ё         (2)        Ё                  (3)                  Ё     (4)    Ё       (5)       Ё       (6═)       Ё       (6║)       Ё       (7═)       Ё       (7║)       ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддедддддддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддеддддддддддддддддддеддддддддддддддддддеддддддддддддддддддедддддддддддддддддд╢Ъ≤
.{CheckEnter BkPrZkMain
.if TipUsersGroup
.end //if
.if PodrGroup
.end
.if GroupBKObjectStroi
.end
.{CheckEnter BookZk
.}
.begin
 strNum1 := '';
 strNum2 := '';

 if (vSFNums.GetFirst BookPrZk = 0)
 {
   strNum1 := if (vSFNums.GetFirst SchFact = 0,
                  if (ZeroPrint, LPadCh(vSFNums.SchFact.Num, ' ', 9),
                                 LPadCh( Ltrim(vSFNums.SchFact.Num, '0'), ' ', 9) ),
                  ''
                );
   strNum2 := if (vSFNums.GetFirst SchFactS = 0,
                  if (ZeroPrint, LPadCh(vSFNums.SchFactS.Num, ' ', 9),
                                 LPadCh( Ltrim(vSFNums.SchFactS.Num, '0'), ' ', 9) ),
                  ''
                );
 }

 if (vSFNums.GetFirst KatState = 0)
 {
   strCountry := if (vSFNums.KatState.Name <> '│╔╚═ЮЦАЛ',
                      ' (' + vSFNums.KatState.Name + ')', '');
 } else strCountry := '';

 LSA:=LSA+SummA;
 LS1:=LS1+Summ1;
 LS2:=LS2+Summ2;
 LS3:=LS3+Summ3;
 LS4:=LS4+Summ4;
 LS5:=LS5+Summ5;
 LS6:=LS6+Summ6;
 LS23:=LS23+Summ23;
 LS8:=LS8+Summ8;
 LS9:=LS9+Summ9;
 LS7:=LS7+Summ7;
 LS10:=LS10+Summ10;
 LSIn1:=LSIn1+SumIn1;
 LSIn2:=LSIn2+SumIn2;
 LSIn3:=LSIn3+SumIn3;
 LSIn4:=LSIn4+SumIn4;
end.
Ъ≤Ё@@@@@@@@@@@@@@@@@@@@Ё@@@@@@@@@@@@@@@@@@@@Ё@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ё@~@@@@@@@@@@Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&&.&&ЁЪ≤
.[f
Ъ≤цддддддддддддддддддддаддддддддддддддддддддадддддддддддддддддддддддддддддддддддддддаддддддддддддедддддддддддддддддеддддддддддддддддддеддддддддддддддддддеддддддддддддддддддедддддддддддддддддд╢Ъ≤
Ъ≤Ё      ┌▒┘┐▌ ╞╝ ╚╗АБЦ Э @np@                                                                   Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&&.&&ЁЪ≤
Ъ≤юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддадддддддддддддддддаддддддддддддддддддаддддддддддддддддддаддддддддддддддддддаддддддддддддддддддыЪ≤
.]f
.}
Ъ≤зддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбдддддддддддддддддбддддддддддддддддддбддддддддддддддддддбддддддддддддддддддбдддддддддддддддддд©Ъ≤
Ъ≤Ё      ┌▒┘┐▌                                                                                   Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&&.&&ЁЪ≤
Ъ≤юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддадддддддддддддддддаддддддддддддддддддаддддддддддддддддддаддддддддддддддддддаддддддддддддддддддыЪ≤


.}
.{CheckEnter BkPrZkAllVal
.}
.}

Ъ┬   ░Ц╙╝╒╝╓╗Б╔╚Л  ________________   _______________________Ъ┬
Ъ┬                    (╞╝╓╞╗АЛ)              (┬.▌.■.)        Ъ┬

Ъ┬   ┐╚. ║ЦЕё═╚Б╔Ю ________________   _______________________Ъ┬
Ъ┬                    (╞╝╓╞╗АЛ)              (┬.▌.■.)        Ъ┬
.endform

//////////////////////////////////////////////////////////////
////    █╝╒═О Д╝Ю╛═ ╙╜╗ё╗ ╞╝╙Ц╞╝╙ (А 20.09.2001)          ////
//////////////////////////////////////////////////////////////

#define KS_BELARUS '112'
#define KS_RUSSIA  '643'

#doc
┼╜╗ё═ ╞╝╙Ц╞╝╙ (А 20.09.2001)
#end
.linkform 'BkPrZkF_38_Bel' prototype is 'BkPrZkF'
.NameInList '┼╜╗ё═ ╞╝╙Ц╞╝╙ (А 20.09.2001)'
.Group '┤═╙Ц╞╙╗ (│╔╚═ЮЦАЛ)'
.P 60
.create view vSFNums
from
    BookPrZk (ReadOnly)
  , KatOrg   (ReadOnly)
  , KatState (ReadOnly)
  , SchFact SchFactS (ReadOnly)
where
((
      nBookPrZk          == BookPrZk.nRec
  and BookPrZk.cSchFact  == SchFact.nRec
  and BookPrZk.cSchFactS == SchFactS.nRec
  and BookPrZk.cOrg      == KatOrg.nRec
  and KatOrg.cState      == KatState.nRec
))
;
.defo landscape
.var
 LSA       : double;
 LS2       : double;
 LS5       : double;
 LSRusNds  : double;
 ISRusNds20: double;
 ISRusNds10: double;
 strNum1: string;
 strNum2: string;
 isBelarus: boolean;
 isRussia : boolean;
.endvar
.{
.{CheckEnter BkPrZkVal
.fields
 If (RegTips=0,'┼╜╗ё═ ╞╝╙Ц╞╝╙','░╔╔АБЮ ╖═╞╗А╔╘ (╞╝╙Ц╞╙╗)')
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')

 MyInn
 FiltTxt

 CommonFormHeader
 If (RegTips=0,'┼█┬┐─ ▐▌┼⌠▐▌┼','░┘┘▒▓░ ┤─▐┬▒┘┴ (▐▌┼⌠▐┼┬)')
 MyOrg
 MyInn
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')

 FiltTxt

 Nds1
 Nds2

 if (longint(DatOpr) = 0, '', DateToStr(DatOpr, 'DD/MM/YYYY')) + strNum1
 if (longint(DatOpl) = 0, '', DateToStr(DatOpl, 'DD/MM/YYYY')) + strNum2
 KontrName + if (not isBelarus, ' (' + vSFNums.KatState.Name + ')', '')
 KontrInn

 SummA
 if (not isRussia, Summ1, 0)
 if (not isRussia, Summ2, 0)
 if (not isRussia, Summ4, 0)
 if (not isRussia, Summ5, 0)
 if (isRussia, Summ1 + Summ4, 0)
 if (isRussia, Summ2 + Summ5, 0)

 LSA LS2 LS5 LSRusNds

 ISummA
 ISumm2 - ISRusNds20
 ISumm5 - ISRusNds10
 ISRusNds20 + ISRusNds10

 sGetTune('Boss')
 sGetTune('MainBuh')
.endfields
.[h OVERWRITE SKIP
.begin
 LSA := 0.0;
 LS2 := 0.0;
 LS5 := 0.0;
 LSRusNds := 0.0;
end.
Ъ░ ^ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└ ⌠██ Ъ└@@@@@@@@@@@@@@@@@Ъ└ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@               ▀╗АБ Ъ└ @np@ Ъ└ ╗╖ _____Ъ░
Ъ≤здддддддддддддддддбдддддддддддддддддбддддддддддддддддддддддддддбдддддддддддбддддддддддддддддбдддддддддддддддбдддддддддддддддбдддддддддддддддбдддддддддддддддбддддддддддддддддбддддддддддддддд©Ъ≤
Ъ≤Ё      (1)        Ё       (2)       Ё           (3)            Ё    (4)    Ё       (5)      Ё      (6═)     Ё     (6║)      Ё      (7═)     Ё      (7║)     Ё       (8═)     Ё      (8║)     ЁЪ≤
Ъ≤цдддддддддддддддддедддддддддддддддддеддддддддддддддддддддддддддедддддддддддеддддддддддддддддедддддддддддддддедддддддддддддддедддддддддддддддедддддддддддддддеддддддддддддддддеддддддддддддддд╢Ъ≤
.]h
.begin
 LSA := 0.0;
 LS2 := 0.0;
 LS5 := 0.0;
 LSRusNds   := 0.0;
 ISRusNds20 := 0.0;
 ISRusNds10 := 0.0;
end.
^

Ъ│                                @~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ│


Ъ┬ █═╚╝ё╝╞╚═Б╔╚ЛИ╗╙-╞╝╙Ц╞═Б╔╚Л Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ⌠██ ╞╝╙Ц╞═Б╔╚О Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ▐╝╙Ц╞╙═ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└Ъ┬

Ъ░ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                               ▀╗АБ Ъ└ 1 Ъ└ ╗╖ _____Ъ░
Ъ≤здддддддддддддддддбдддддддддддддддддбддддддддддддддддддддддддддбдддддддддддбддддддддддддддддбдддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд©Ъ≤
Ъ≤Ё└═Б═ ╞Ю╗╝║Ю╔Б╔╜╗ОЁ  └═Б═ ╝╞╚═БК    Ё █═╗╛╔╜╝╒═╜╗╔ ╞Ю╝╓═╒Ф═    Ё   ⌠██     Ё     ┌А╔ё╝      Ё                                      ┌ Б╝╛ Г╗А╚╔                                               ЁЪ≤
Ъ≤Ё╗ ╜╝╛╔Ю ╓╝╙Ц╛╔╜Б═Ё╗ ╜╝╛╔Ю ╓╝╙Ц╛╔╜Б═Ё                          Ё ╞Ю╝╓═╒Ф═  Ё    ╞╝╙Ц╞╝╙,    Ё                                                                                                ЁЪ≤
Ъ≤Ё                 Ё                 Ё                          Ё           Ё  ╒╙╚НГ═О █└▒   Ё                                                                                                ЁЪ≤
Ъ≤Ё                 Ё                 Ё                          Ё           Ё                цдддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбдддддддддддддддддддддддддддддддд╢Ъ≤
Ъ≤Ё                 Ё                 Ё                          Ё           Ё                Ё       ▐╝╙Ц╞╙╗, ╝║╚═ё═╔╛К╔ ╜═╚╝ё╝╛ ╞╝ АБ═╒╙╔, ║╔╖ ░■           Ё           ▐╝╙Ц╞╙╗ ╒ ░■         ЁЪ≤
Ъ≤Ё                 Ё                 Ё                          Ё           Ё                цдддддддддддддддддддддддддддддддбддддддддддддддддддддддддддддддд╢                                ЁЪ≤
Ъ≤Ё                 Ё                 Ё                          Ё           Ё                Ё            &&. % (6)          Ё          &&. % (7)            Ё               (8)              ЁЪ≤
Ъ≤Ё                 Ё                 Ё                          Ё           Ё                цдддддддддддддддбдддддддддддддддедддддддддддддддбдддддддддддддддеддддддддддддддддбддддддддддддддд╢Ъ≤
Ъ≤Ё                 Ё                 Ё                          Ё           Ё                Ё   АБ╝╗╛╝АБЛ   Ё     АЦ╛╛═     Ё   АБ╝╗╛╝АБЛ   Ё     АЦ╛╛═     Ё    АБ╝╗╛╝АБЛ   Ё     АЦ╛╛═     ЁЪ≤
Ъ≤Ё                 Ё                 Ё                          Ё           Ё                Ё╞╝╙Ц╞╝╙ ║╔╖ █└▒Ё      █└▒      Ё╞╝╙Ц╞╝╙ ║╔╖ █└▒Ё      █└▒      Ё╞╝╙Ц╞╝╙ ║╔╖ █└▒ Ё      █└▒      ЁЪ≤
Ъ≤цдддддддддддддддддедддддддддддддддддеддддддддддддддддддддддддддедддддддддддеддддддддддддддддедддддддддддддддедддддддддддддддедддддддддддддддедддддддддддддддеддддддддддддддддеддддддддддддддд╢Ъ≤
Ъ≤Ё       (1)       Ё       (2)       Ё           (3)            Ё    (4)    Ё       (5)      Ё      (6═)     Ё     (6║)      Ё      (7═)     Ё      (7║)     Ё       (8═)     Ё      (8║)     ЁЪ≤
Ъ≤цдддддддддддддддддедддддддддддддддддеддддддддддддддддддддддддддедддддддддддеддддддддддддддддедддддддддддддддедддддддддддддддедддддддддддддддедддддддддддддддеддддддддддддддддеддддддддддддддд╢Ъ≤
.{CheckEnter BkPrZkMain
.if TipUsersGroup
.end //if
.if PodrGroup
.end
.if GroupBKObjectStroi
.end
.{CheckEnter BookZk
.}
.begin
 strNum1 := '';
 strNum2 := '';

 if (vSFNums.GetFirst BookPrZk = 0) {
   strNum1 := if (vSFNums.GetFirst SchFact = 0,
                  if (ZeroPrint,
                    LPadCh(vSFNums.SchFact.Num, ' ', Length(vSFNums.SchFact.Num) + 1),
                    LPadCh(Ltrim(vSFNums.SchFact.Num, '0'), ' ', Length(vSFNums.SchFact.Num) + 1)
                  ),
                  ''
              );
   strNum2 := if (vSFNums.GetFirst SchFactS = 0,
                  if (ZeroPrint,
                    LPadCh(vSFNums.SchFactS.Num, ' ', Length(vSFNums.SchFactS.Num) + 1),
                    LPadCh(Ltrim(vSFNums.SchFactS.Num, '0'), ' ', Length(vSFNums.SchFactS.Num) + 1)
                  ),
                  ''
              );
 }

 isBelarus:= true;
 isRussia := false;
 if (vSFNums.GetFirst KatState = 0) {
   isBelarus := trim(vSFNums.KatState.KOD) = #KS_BELARUS;
   isRussia  := trim(vSFNums.KatState.KOD) = #KS_RUSSIA;
 }
 if (isRussia) {
   LSRusNds   := LSRusNds + Summ2 + Summ5;
   ISRusNds20 := ISRusNds20 + Summ2;
   ISRusNds10 := ISRusNds10 + Summ5;
 }
 else {
   LS2 := LS2 + Summ2;
   LS5 := LS5 + Summ5;
 }
 LSA := LSA + SummA;
end.
Ъ≤Ё@@@@@@@@@@@@@@@@@Ё@@@@@@@@@@@@@@@@@Ё@@@@@@@@@@@@@@@@@@@@@@@@@@Ё@~@@@@@@@@@Ё&'&&&&&&&&&&&.&&Ё&'&&&&&&&&&&.&&Ё&'&&&&&&&&&&.&&Ё&'&&&&&&&&&&.&&Ё&'&&&&&&&&&&.&&Ё&'&&&&&&&&&&&.&&Ё&'&&&&&&&&&&.&&ЁЪ≤
.[f
Ъ≤цдддддддддддддддддадддддддддддддддддаддддддддддддддддддддддддддадддддддддддаддддддддддддддддедддддддддддддддедддддддддддддддедддддддддддддддедддддддддддддддеддддддддддддддддеддддддддддддддд╢Ъ≤
Ъ≤Ё┌▒┘┐▌ ╞╝ ╚╗АБЦ Э @np@                                                      &'&&&&&&&&&&&.&&Ё       X       Ё&'&&&&&&&&&&.&&Ё       X       Ё&'&&&&&&&&&&.&&Ё       X        Ё&'&&&&&&&&&&.&&ЁЪ≤
Ъ≤юдддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддадддддддддддддддадддддддддддддддадддддддддддддддадддддддддддддддаддддддддддддддддадддддддддддддддыЪ≤
.]f
.}
Ъ≤здддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбдддддддддддддддбдддддддддддддддбдддддддддддддддбдддддддддддддддбддддддддддддддддбддддддддддддддд©Ъ≤
Ъ≤Ё ┌▒┘┐▌                                                                     &'&&&&&&&&&&&.&&Ё       X       Ё&'&&&&&&&&&&.&&Ё       X       Ё&'&&&&&&&&&&.&&Ё       X        Ё&'&&&&&&&&&&.&&ЁЪ≤
Ъ≤юдддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддадддддддддддддддадддддддддддддддадддддддддддддддадддддддддддддддаддддддддддддддддадддддддддддддддыЪ≤

.}
.{CheckEnter BkPrZkAllVal
.}
.}

Ъ┬                                        ^Ъ┬
Ъ┬   ░Ц╙╝╒╝╓╗Б╔╚Л      ________________   _______________________Ъ┬
Ъ┬                        (╞╝╓╞╗АЛ)       (┬╛О, ▌БГ╔АБ╒╝, ■═╛╗╚╗О)Ъ┬
Ъ┬                                        ^Ъ┬
Ъ┬   ┐╚═╒╜К╘ ║ЦЕё═╚Б╔Ю ________________   _______________________Ъ┬
Ъ┬                        (╞╝╓╞╗АЛ)       (┬╛О, ▌БГ╔АБ╒╝, ■═╛╗╚╗О)Ъ┬
.endform

//////////////////////////////////////////////////////////////
////    █╝╒═О Д╝Ю╛═ ╙╜╗ё╗ ╞╝╙Ц╞╝╙ (А 01.04.2004)          ////
//////////////////////////////////////////////////////////////

#define KS_BELARUS '112'
#define KS_RUSSIA  '643'
#declare prec(sum_)
DoubleToStr(#sum_,'\'+string(pNumParam)+'p[|-]3666`666`666`666`666.'+PadCh('','8',pNumParam))
#end


#doc
┼╜╗ё═ ╞╝╙Ц╞╝╙ (А 01.04.2004)
#end
.linkform 'BkPrZkF_39_Bel' prototype is 'BkPrZkF'
.NameInList '┼╜╗ё═ ╞╝╙Ц╞╝╙ (А 01.04.2004)'
.Group '┤═╙Ц╞╙╗ (│╔╚═ЮЦАЛ)'
.P 60
.create view vSFNums
from
    BookPrZk
  , KatOrg
  , KatState
  , SchFact SchFactS
where
((
      nBookPrZk          == BookPrZk.nRec
  and BookPrZk.cSchFact  == SchFact.nRec
  and BookPrZk.cSchFactS == SchFactS.nRec
  and BookPrZk.cOrg      == KatOrg.nRec
  and KatOrg.cState      == KatState.nRec
))
;
.defo landscape
.var
 LSA       : double;
 LS2       : double;
 LS5       : double;
 LSRusNds  : double;
 ISRusNds20: double;
 ISRusNds10: double;
 strNum1: string;
 strNum2: string;
 isBelarus: boolean;
 isRussia : boolean;
.endvar
.{
.{CheckEnter BkPrZkVal
.fields
 If (RegTips=0,'┼╜╗ё═ ╞╝╙Ц╞╝╙','░╔╔АБЮ ╖═╞╗А╔╘ (╞╝╙Ц╞╙╗)')
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')

 MyInn
 FiltTxt

 CommonFormHeader
 If (RegTips=0,'┼█┬┐─ ▐▌┼⌠▐▌┼','░┘┘▒▓░ ┤─▐┬▒┘┴ (▐▌┼⌠▐┼┬)')
 MyOrg
 MyInn
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')

! FiltTxt

 Nds1
 Nds2

 if (longint(DatOpr) = 0, '', DateToStr(DatOpr, 'DD/MM/YYYY')) + strNum1
 if (longint(DatOpl) = 0, '', DateToStr(DatOpl, 'DD/MM/YYYY')) + strNum2
 KontrNameNazn + if (not isBelarus, ' (' + vSFNums.KatState.Name + ')', '')
 KontrInn

 #prec(SummA/1000)
 #prec(if (not isRussia, Summ1/1000, 0))
 #prec(if (not isRussia, Summ2/1000, 0))
 #prec(if (not isRussia, Summ4/1000, 0))
 #prec(if (not isRussia, Summ5/1000, 0))
 #prec(if (isRussia, (Summ1 + Summ4)/1000, 0))
 #prec(if (isRussia, (Summ2 + Summ5)/1000, 0))

 #prec(LSA/1000)
 #prec(LS2/1000)
 #prec(LS5/1000)
 #prec(LSRusNds/1000)

 #prec(ISummA/1000)
 #prec((ISumm2 - ISRusNds20)/1000)
 #prec((ISumm5 - ISRusNds10)/1000)
 #prec((ISRusNds20 + ISRusNds10)/1000)

 sGetTune('Boss')
 sGetTune('MainBuh')
.endfields
.[h OVERWRITE SKIP
.begin
 LSA := 0.0;
 LS2 := 0.0;
 LS5 := 0.0;
 LSRusNds := 0.0;
end.
Ъ░ ^ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└ ⌠██ Ъ└@@@@@@@@@@@@@@@@@Ъ└ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                           ▀╗АБ Ъ└ @np@ Ъ└ ╗╖ _____Ъ░
Ъ≤зддддддддддддддддддддбддддддддддддддддддддбдддддддддддддддддддддддддддддддддддддддбддддддддддддбдддддддддддддддддбдддддддддддддбдддддддддддддбдддддддддддддбдддддддддддддбддддддддддддддбддддддддддддд©Ъ≤
Ъ≤Ё         1          Ё          2         Ё                   3                   Ё      4     Ё        5        Ё      6═     Ё     6║      Ё      7═     Ё      7║     Ё       8═     Ё      8║     ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддедддддддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддедддддддддддддедддддддддддддедддддддддддддедддддддддддддеддддддддддддддеддддддддддддд╢Ъ≤
.]h
.begin
 LSA := 0.0;
 LS2 := 0.0;
 LS5 := 0.0;
 LSRusNds   := 0.0;
 ISRusNds20 := 0.0;
 ISRusNds10 := 0.0;
end.
^
                                                                                         ⌠Б╒╔Ю╕╓╔╜═
                                                                                 ▐╝АБ═╜╝╒╚╔╜╗╔╛ ▄█▒
                                                                                 ╝Б 31.01.2004 Э 16

Ъ│@~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ│


Ъ┬ ▐╚═Б╔╚ЛИ╗╙-╞╝╙Ц╞═Б╔╚Л Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ⌠█▐ ╞╝╙Ц╞═Б╔╚О Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ▐╝╙Ц╞╙═ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└Ъ┬

!Ъ░ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                               ▀╗АБ Ъ└ 1 Ъ└ ╗╖ _____Ъ░Ъ░
                                                                                                                                                        (БКА.ЮЦ║.)Ъ░
Ъ≤зддддддддддддддддддддбддддддддддддддддддддбдддддддддддддддддддддддддддддддддддддддбддддддддддддбдддддддддддддддддбдддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд©Ъ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё                                    ┌ Б╝╛ Г╗А╚╔                                     ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 цдддддддддддддддддддддддддддддддддддддддддддддддддддддддбдддддддддддддддддддддддддддд╢Ъ≤
Ъ≤Ё └═Б═ ╞Ю╗╝║Ю╔Б╔╜╗О  Ё    └═Б═ ╝╞╚═БК     Ё           █═╗╛╔╜╝╒═╜╗╔ ╞Ю╝╓═╒Ф═       Ё    ⌠█▐     Ё     ┌А╔ё╝       Ё    ╞╝╙Ц╞╙╗, ╝║╚═ё═╔╛К╔ ╜═╚╝ё╝╛ ╞╝ АБ═╒╙╔              Ё          ╞╝╙Ц╞╙╗ ╒         ЁЪ≤
Ъ≤Ё ╗ ╜╝╛╔Ю ╓╝╙Ц╛╔╜Б═  Ё ╗ ╜╝╛╔Ю ╓╝╙Ц╛╔╜Б═  Ё                                       Ё  ╞Ю╝╓═╒Ф═  Ё    ╞╝╙Ц╞╝╙,     Ё    (╖═ ╗А╙╚НГ╔╜╗╔╛ ╞╝╙Ц╞╝╙ ╒ ░╝АА╗╘А╙╝╘ ■╔╓╔Ю═Ф╗╗)    Ё    ░╝АА╗╘А╙╝╘ ■╔╓╔Ю═Ф╗╗    ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё  ╒╙╚НГ═О █└▒    цдддддддддддддддддддддддддддбдддддддддддддддддддддддддддедддддддддддддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё           &&.%            Ё            &&.%           Ё              8             ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 цдддддддддддддддддддддддддддедддддддддддддддддддддддддддеддддддддддддддбддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё             6             Ё             7             Ё  АБ╝╗╛╝АБЛ   Ё    АЦ╛╛═    ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 цдддддддддддддбдддддддддддддедддддддддддддбддддддддддддд╢   ╞╝╙Ц╞╝╙    Ё     █└▒     ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё  АБ╝╗╛╝АБЛ  Ё    АЦ╛╛═    Ё  АБ╝╗╛╝АБЛ  Ё    АЦ╛╛═    Ё   ║╔╖ █└▒    Ё             ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё   ╞╝╙Ц╞╝╙   Ё     █└▒     Ё   ╞╝╙Ц╞╝╙   Ё     █└▒     Ё              Ё             ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё   ║╔╖ █└▒   Ё             Ё   ║╔╖ █└▒   Ё             Ё              Ё             ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддедддддддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддедддддддддддддедддддддддддддедддддддддддддедддддддддддддеддддддддддддддеддддддддддддд╢Ъ≤
Ъ≤Ё         1          Ё          2         Ё                   3                   Ё      4     Ё        5        Ё      6═     Ё      6║     Ё      7═     Ё     7║      Ё      8═      Ё      8║     ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддедддддддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддедддддддддддддедддддддддддддедддддддддддддедддддддддддддеддддддддддддддеддддддддддддд╢Ъ≤
.{CheckEnter BkPrZkMain
.if TipUsersGroup
.end //if
.if PodrGroup
.end
.if GroupBKObjectStroi
.end
.{CheckEnter BookZk
.}
.begin
 strNum1 := '';
 strNum2 := '';

 if (vSFNums.GetFirst BookPrZk = 0) {
   strNum1 := if (vSFNums.GetFirst SchFact = 0,
                  if (ZeroPrint,
                    LPadCh(vSFNums.SchFact.Num, ' ', Length(vSFNums.SchFact.Num) + 1),
                    LPadCh(Ltrim(vSFNums.SchFact.Num, '0'), ' ', Length(vSFNums.SchFact.Num) + 1)
                  ),
                  ''
              );
   strNum2 := if (vSFNums.GetFirst SchFactS = 0,
                  if (ZeroPrint,
                    LPadCh(vSFNums.SchFactS.Num, ' ', Length(vSFNums.SchFactS.Num) + 1),
                    LPadCh(Ltrim(vSFNums.SchFactS.Num, '0'), ' ', Length(vSFNums.SchFactS.Num) + 1)
                  ),
                  ''
              );
 }

 isBelarus:= true;
 isRussia := false;
 if (vSFNums.GetFirst KatState = 0) {
   isBelarus := trim(vSFNums.KatState.KOD) = #KS_BELARUS;
   isRussia  := trim(vSFNums.KatState.KOD) = #KS_RUSSIA;
 }
 if (isRussia) {
   LSRusNds   := LSRusNds + Summ2 + Summ5;
   ISRusNds20 := ISRusNds20 + Summ2;
   ISRusNds10 := ISRusNds10 + Summ5;
 }
 else {
   LS2 := LS2 + Summ2;
   LS5 := LS5 + Summ5;
 }
 LSA := LSA + SummA;
end.
Ъ≤Ё@@@@@@@@@@@@@@@@@@@@Ё@@@@@@@@@@@@@@@@@@@@Ё@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ё@~@@@@@@@@@@Ё&&&&&&&&&&&&&&&&&Ё&&&&&&&&&&&&&Ё&&&&&&&&&&&&&Ё&&&&&&&&&&&&&Ё&&&&&&&&&&&&&Ё&&&&&&&&&&&&&&Ё&&&&&&&&&&&&&ЁЪ≤
.[f
Ъ≤цддддддддддддддддддддаддддддддддддддддддддадддддддддддддддддддддддддддддддддддддддаддддддддддддадддддддддддддддддедддддддддддддедддддддддддддедддддддддддддедддддддддддддеддддддддддддддеддддддддддддд╢Ъ≤
Ъ≤Ё┌▒┘┐▌ ╞╝ ╚╗АБЦ Э @np@                                                                          &&&&&&&&&&&&&&&&&Ё      X      Ё&&&&&&&&&&&&&Ё      X      Ё&&&&&&&&&&&&&Ё       X      Ё&&&&&&&&&&&&&ЁЪ≤
Ъ≤юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддадддддддддддддадддддддддддддадддддддддддддадддддддддддддаддддддддддддддадддддддддддддыЪ≤
.]f
.}
Ъ≤зддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбдддддддддддддбдддддддддддддбдддддддддддддбдддддддддддддбддддддддддддддбддддддддддддд©Ъ≤
Ъ≤Ё┌▒┘┐▌                                                                                          &&&&&&&&&&&&&&&&&Ё      X      Ё&&&&&&&&&&&&&Ё      X      Ё&&&&&&&&&&&&&Ё       X      Ё&&&&&&&&&&&&&ЁЪ≤
Ъ≤юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддадддддддддддддадддддддддддддадддддддддддддадддддддддддддаддддддддддддддадддддддддддддыЪ≤
.}
.{CheckEnter BkPrZkAllVal
.}
.}


Ъ┬   ░Ц╙╝╒╝╓╗Б╔╚ЛЪ┬
Ъ┬   (╗╜╓╗╒╗╓Ц═╚Л╜К╘ ╞Ю╔╓╞Ю╗╜╗╛═Б╔╚Л)      ________________Ъ┬   Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└
Ъ┬                                             Ъ≤(╞╝╓╞╗АЛ)                                              (┬. ▌. ■═╛╗╚╗О)Ъ░

Ъ┬   ┐╚═╒╜К╘ ║ЦЕё═╚Б╔Ю                     ________________Ъ┬   Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└
Ъ┬                                             Ъ≤(╞╝╓╞╗АЛ)                                              (┬. ▌. ■═╛╗╚╗О)Ъ░
.endform

//////////////////////////////////////////////////////////////
////    █╝╒═О Д╝Ю╛═ ╙╜╗ё╗ ╞╝╙Ц╞╝╙ (А 01.02.2007)          ////
//////////////////////////////////////////////////////////////
#define KS_BELARUS '112'
#define KS_RUSSIA  '643'

#doc
┼╜╗ё═ ╞╝╙Ц╞╝╙ (А 01.02.2007)
#end
.linkform 'BkPrZkF_40_Bel' prototype is 'BkPrZkF'
.NameInList '┼╜╗ё═ ╞╝╙Ц╞╝╙ (А 01.02.2007)'
.Group '┤═╙Ц╞╙╗ (│╔╚═ЮЦАЛ)'
.P 60
.create view vSFNums
from
  BookPrZk
, SchFact SchFactS
, KatOrg
, KatState
, SpSchf
, KatOS
, KatSopr

where
((
    nBookPrZk          == BookPrZk.nRec
AND BookPrZk.cSchFact  == SchFact.nRec
AND BookPrZk.cSchFactS == SchFactS.nRec
AND BookPrZk.cOrg      == KatOrg.nRec
AND KatOrg.cState      == KatState.nRec
AND SchFact.nRec       == SpSchf.cSchFact
AND SchFact.nRec       == KatSopr.cSchFact
))
;
.defo landscape
.var
 LSA:double
 LS1:double
 LS2:double
 LS3:double
 LS4:double
 LS5:double
 LS6:double
 LS23:double
 LS8:double
 LS9:double
 LS7:double
 LS10:double
 LSIn1:double
 LSIn2:double
 LSIn3:double
 LSIn4:double
 strNum1: string
 strNum2: string
 strAkt : string
 strCountry: string
 IsBelZakon2007 : boolean
 isBelarus : boolean
 isRussia  : boolean
.endvar
.{
.{CheckEnter BkPrZkVal
.fields
 If (RegTips=0,'┼╜╗ё═ ╞╝╙Ц╞╝╙','░╔╔АБЮ ╖═╞╗А╔╘ (╞╝╙Ц╞╙╗)')
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 //Dollar
 MyInn
 FiltTxt

  CommonFormHeader
 If (RegTips=0,'┼█┬┐─ ▐▌┼⌠▐▌┼','░┘┘▒▓░ ┤─▐┬▒┘┴ (▐▌┼⌠▐┼┬)')
 MyOrg
 MyInn
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 //Dollar
 FiltTxt

 Nds1
 Nds2

  strAkt + if (isRussia, if(strAkt <> '', '', '-')
             , if (longint(DatOpr) = 0, '',DateToStr(DatOpr, 'DD/MM/YYYY')) + strNum1)

 if (isRussia, if ( longint(DatOpl) = 0, '', DateToStr(DatOpl, 'DD/MM/YYYY') + strNum2 )
             , if (IsBelZakon2007
                  , '-'
                  , if ( longint(DatOpl) = 0, '', DateToStr(DatOpl, 'DD/MM/YYYY') ) + strNum2))


 KontrNameNazn + if (not isBelarus, ' (' + vSFNums.KatState.Name + ')', '')
 KontrInn

 SummA Summ1 Summ2 Summ4 Summ5 //Summ7+Summ23

 LSA LS2 LS5 //LS7+LS23      LS1 LS4

 ISummA ISumm2 ISumm5 //ISumm7+ISumm23   ISumm1  ISumm4

 sGetTune('Boss')
 sGetTune('MainBuh')
.endfields
.[h OVERWRITE SKIP
.begin
 LSA:=0.0;
 LS1:=0.0;
 LS2:=0.0;
 LS3:=0.0;
 LS4:=0.0;
 LS5:=0.0;
 LS6:=0.0;
 LS23:=0.0;
 LS8:=0.0;
 LS9:=0.0;
 LS7:=0.0;
 LS10:=0.0;
 LSIn1:=0.0;
 LSIn2:=0.0;
 LSIn3:=0.0;
 LSIn4:=0.0;
end.
Ъ░ ^ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└ ┬██ Ъ└@@@@@@@@@@@@@@@@@Ъ└ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@               ▀╗АБ Ъ└ @np@ Ъ└ ╗╖ _____Ъ░
Ъ≤зддддддддддддддддддддбддддддддддддддддддддбдддддддддддддддддддддддддддддддддддддддбддддддддддддбдддддддддддддддддбддддддддддддддддддбддддддддддддддддддбддддддддддддддддддбдддддддддддддддддд©Ъ≤
Ъ≤Ё        (1)         Ё         (2)        Ё                  (3)                  Ё     (4)    Ё       (5)       Ё       (6═)       Ё       (6║)       Ё       (7═)       Ё       (7║)       ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддедддддддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддеддддддддддддддддддеддддддддддддддддддеддддддддддддддддддедддддддддддддддддд╢Ъ≤
.]h
.begin
 LSA:=0.0;
 LS1:=0.0;
 LS2:=0.0;
 LS3:=0.0;
 LS4:=0.0;
 LS5:=0.0;
 LS6:=0.0;
 LS23:=0.0;
 LS8:=0.0;
 LS9:=0.0;
 LS7:=0.0;
 LS10:=0.0;
 LSIn1:=0.0;
 LSIn2:=0.0;
 LSIn3:=0.0;
 LSIn4:=0.0;
end.
^
                                                                         ▐Ю╗╚╝╕╔╜╗╔ 1
                                                                         ╙ ▐╝АБ═╜╝╒╚╔╜╗Н ▄█▒ ░│
                                                                         ╝Б 5.02.2007 Э 22


Ъ│                                @~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ│


Ъ┬ ▐╚═Б╔╚ЛИ╗╙-╞╝╙Ц╞═Б╔╚Л Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ⌠██ ╞╝╙Ц╞═Б╔╚О Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ▐╝╙Ц╞╙═ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└Ъ┬

Ъ░ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                               ▀╗АБ Ъ└ 1 Ъ└ ╗╖ _____Ъ░
Ъ≤зддддддддддддддддддддбддддддддддддддддддддбдддддддддддддддддддддддддддддддддддддддбддддддддддддбдддддддддддддддддбддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд©Ъ≤
Ъ≤Ё └═Б═ ╞Ю╗╝║Ю╔Б╔╜╗О  Ё    └═Б═ ╝╞╚═БК     Ё █═╗╛╔╜╝╒═╜╗╔ ╞Ю╝╓═╒Ф═                 Ё    ⌠█▐     Ё     ┌А╔ё╝       Ё                                ┌ Б╝╛ Г╗А╚╔                                ЁЪ≤
Ъ≤Ё ╗ ╜╝╛╔Ю ╓╝╙Ц╛╔╜Б═  Ё ╗ ╜╝╛╔Ю ╓╝╙Ц╛╔╜Б═  Ё                                       Ё  ╞Ю╝╓═╒Ф═  Ё    ╞╝╙Ц╞╝╙,     Ё                   ╞╝╙Ц╞╙╗, ╝║╚═ё═╔╛К╔ ╜═╚╝ё╝╛ ╞╝ АБ═╒╙╔                   ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё  ╒╙╚НГ═О █└▒    цдддддддддддддддддддддддддддддддддддддбддддддддддддддддддддддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё                &&.%                 Ё                &&.%                 ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 цдддддддддддддддддддддддддддддддддддддеддддддддддддддддддддддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё                  6                  Ё                  7                  ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 цддддддддддддддддддбддддддддддддддддддеддддддддддддддддддбдддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё    АБ╝╗╛╝АБЛ     Ё       АЦ╛╛═      Ё    АБ╝╗╛╝АБЛ     Ё      АЦ╛╛═       ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё ╞╝╙Ц╞╝╙ ║╔╖ █└▒  Ё        █└▒       Ё ╞╝╙Ц╞╝╙ ║╔╖ █└▒  Ё       █└▒        ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддедддддддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддеддддддддддддддддддеддддддддддддддддддеддддддддддддддддддедддддддддддддддддд╢Ъ≤
Ъ≤Ё         1          Ё          2         Ё                   3                   Ё     4      Ё        5        Ё        6═        Ё        6║        Ё        7═        Ё        7║        ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддедддддддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддеддддддддддддддддддеддддддддддддддддддеддддддддддддддддддедддддддддддддддддд╢Ъ≤
.{CheckEnter BkPrZkMain
.if TipUsersGroup
.end //if
.if PodrGroup
.end
.if GroupBKObjectStroi
.end
.{CheckEnter BookZk
.}
.begin
 strNum1 := '';
 strNum2 := '';
 strAkt  := '';

 IsBelZakon2007 := FALSE;


 if (vSFNums.GetFirst BookPrZk = 0)
 {
   IsBelZakon2007 := if (vSFNums.GetFirst SchFact = 0
                       , if (Date(1, 1, 2007) <= vSFNums.SchFact.dFact, TRUE, FALSE)
                       , FALSE) AND wGetTune('Nalog.UchPolicy') = 0;


//   KatSopr.VidSopr = cgDoc_0111  - ²Б╝ ─╙Б ╜═ ╞Ю╗╔╛ ЦА╚Цё
//   KatSopr.wADoc = cgCustomAkt - ═ МБ╝ Ц╕╔ ┐▓└

   strAkt  := if (vSFNums.GetFirst SchFact = 0,
                  if(vSFNums.KatSopr.VidSopr <> cgDoc_0111
                     , if(vSFNums.KatSopr.VidSopr = cgDoc_0101 OR vSFNums.KatSopr.VidSopr = cgDoc_0102
                       OR vSFNums.KatSopr.VidSopr = cgDoc_0103 OR vSFNums.KatSopr.VidSopr = cgDoc_0106
                       OR vSFNums.KatSopr.VidSopr = cgDoc_0201 OR vSFNums.KatSopr.VidSopr = cgDoc_0202
                       OR vSFNums.KatSopr.VidSopr = cgDoc_0203
                           , ' █═╙╚═╓╜═О ╝Б ' + DateToStr(vSFNums.KatSopr.dSopr, 'DD/MM/YYYY') + ' Э ' + vSFNums.KatSopr.NSopr + ' '
                           , '' )
                     , if (vSFNums.KatSopr.wADoc <> cgCustomAkt
                           , ' ─╙Б ╝Б '
                           , ' ┐▓└ ╝Б ')
                  + DateToStr(vSFNums.KatSopr.dSopr, 'DD/MM/YYYY') + ' Э ' + vSFNums.KatSopr.NSopr + ' '),
                 ''
                );

   strNum1 := if (vSFNums.GetFirst SchFact = 0,
                  if (ZeroPrint, LPadCh(vSFNums.SchFact.Num, ' ', 9),
                                 LPadCh( Ltrim(vSFNums.SchFact.Num, '0'), ' ', 9) ),
                  ''
                );
   if (strAkt <> '' AND Pos ('─╙Б', strAkt) <> 0)
      strNum1 := if(strAkt <> '', ' ▒■-1 Э', '') + strNum1;

   strNum2 := if (vSFNums.GetFirst SchFactS = 0,
                  if (ZeroPrint, LPadCh(vSFNums.SchFactS.Num, ' ', 9),
                                 LPadCh( Ltrim(vSFNums.SchFactS.Num, '0'), ' ', 9) ),
                  ''
                );
 }

 if (vSFNums.GetFirst KatState = 0)
 {
   strCountry := if (vSFNums.KatState.Name <> '│╔╚═ЮЦАЛ',
                      ' (' + vSFNums.KatState.Name + ')', '');
 } else strCountry := '';

 isBelarus:= true;
 isRussia := false;
 if (vSFNums.GetFirst KatState = 0) {
   isBelarus := trim(vSFNums.KatState.KOD) = #KS_BELARUS;
   isRussia  := trim(vSFNums.KatState.KOD) = #KS_RUSSIA;
 }

 LSA:=LSA+SummA;
 LS1:=LS1+Summ1;
 LS2:=LS2+Summ2;
 LS3:=LS3+Summ3;
 LS4:=LS4+Summ4;
 LS5:=LS5+Summ5;
 LS6:=LS6+Summ6;
 LS23:=LS23+Summ23;
 LS8:=LS8+Summ8;
 LS9:=LS9+Summ9;
 LS7:=LS7+Summ7;
 LS10:=LS10+Summ10;
 LSIn1:=LSIn1+SumIn1;
 LSIn2:=LSIn2+SumIn2;
 LSIn3:=LSIn3+SumIn3;
 LSIn4:=LSIn4+SumIn4;
end.
Ъ≤Ё@@@@@@@@@@@@@@@@@@@@Ё@@@@@@@@@@@@@@@@@@@@Ё@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ё@~@@@@@@@@@@Ё&'&&&&&&&&&&&&&&&Ё&'&&&&&&&&&&&&&&&&Ё&'&&&&&&&&&&&&&&&&Ё&'&&&&&&&&&&&&&&&&Ё&'&&&&&&&&&&&&&&&&ЁЪ≤
.[f
Ъ≤цддддддддддддддддддддаддддддддддддддддддддадддддддддддддддддддддддддддддддддддддддаддддддддддддадддддддддддддддддеддддддддддддддддддеддддддддддддддддддеддддддддддддддддддедддддддддддддддддд╢Ъ≤
Ъ≤Ё      ┌▒┘┐▌ ╞╝ ╚╗АБЦ Э @np@                                                                    &'&&&&&&&&&&&&&&&Ё        X         Ё&'&&&&&&&&&&&&&&&&Ё         X        Ё&'&&&&&&&&&&&&&&&&ЁЪ≤
Ъ≤юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддддддддаддддддддддддддддддаддддддддддддддддддаддддддддддддддддддыЪ≤
.]f
.}
Ъ≤зддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддддддддбддддддддддддддддддбддддддддддддддддддбдддддддддддддддддд©Ъ≤
Ъ≤Ё      ┌▒┘┐▌                                                                                    &'&&&&&&&&&&&&&&&Ё        X         Ё&'&&&&&&&&&&&&&&&&Ё         X        Ё&'&&&&&&&&&&&&&&&&ЁЪ≤
Ъ≤юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддддддддаддддддддддддддддддаддддддддддддддддддаддддддддддддддддддыЪ≤
.}
.{CheckEnter BkPrZkAllVal
.}
.}

Ъ┬ ░Ц╙╝╒╝╓╗Б╔╚ЛЪ┬
Ъ┬ (╗╜╓╗╒╗╓Ц═╚Л╜К╘ ╞Ю╔╓╞Ю╗╜╗╛═Б╔╚Л)      ________________Ъ┬   Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└
Ъ┬                                             Ъ≤(╞╝╓╞╗АЛ)                                              (┬. ▌. ■═╛╗╚╗О)Ъ░

Ъ┬ ┐╚═╒╜К╘ ║ЦЕё═╚Б╔Ю                     ________________Ъ┬   Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└
Ъ┬                                             Ъ≤(╞╝╓╞╗АЛ)                                              (┬. ▌. ■═╛╗╚╗О)Ъ░


.endform
#doc
┼╜╗ё═ ╞╝╙Ц╞╝╙ (А 01.02.2007) ╒ БКА. ЮЦ║╚ОЕ
#end

.linkform 'BkPrZkF_41_Bel' prototype is 'BkPrZkF'
.NameInList '┼╜╗ё═ ╞╝╙Ц╞╝╙ (А 01.02.2007) ╒ БКА. ЮЦ║╚ОЕ'
.Group '┤═╙Ц╞╙╗ (│╔╚═ЮЦАЛ)'
.P 60
.create view vSFNums
from
    BookPrZk
  , KatOrg
  , KatState
  , SchFact SchFactS
  , KatSopr
where
((
    nBookPrZk          == BookPrZk.nRec
AND BookPrZk.cSchFact  == SchFact.nRec
AND BookPrZk.cSchFactS == SchFactS.nRec
AND BookPrZk.cOrg      == KatOrg.nRec
AND KatOrg.cState      == KatState.nRec
AND SchFact.nRec       == SpSchf.cSchFact
AND SchFact.nRec       == KatSopr.cSchFact
))
;
.defo landscape
.var
 LSA       : double;
 LS2       : double;
 LS5       : double;
 LSRusNds  : double;
 ISRusNds20: double;
 ISRusNds10: double;
 strNum1: string;
 strNum2: string;
 strAkt : string
 isBelarus: boolean;
 isRussia : boolean;
 IsBelZakon2007 : boolean
.endvar
.{
.{CheckEnter BkPrZkVal
.fields
 If (RegTips=0,'┼╜╗ё═ ╞╝╙Ц╞╝╙','░╔╔АБЮ ╖═╞╗А╔╘ (╞╝╙Ц╞╙╗)')
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')

 MyInn
 FiltTxt

 CommonFormHeader
 If (RegTips=0,'┼█┬┐─ ▐▌┼⌠▐▌┼','░┘┘▒▓░ ┤─▐┬▒┘┴ (▐▌┼⌠▐┼┬)')
 MyOrg
 MyInn
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 Nds1
 Nds2

 strAkt + if (isRussia, if(strAkt <> '', '', '-')
             , if (longint(DatOpr) = 0, '', DateToStr(DatOpr, 'DD/MM/YYYY')) + strNum1)

 if (isRussia, if ( longint(DatOpl) = 0, '', DateToStr(DatOpl, 'DD/MM/YYYY') + strNum2 )
             , if (IsBelZakon2007
                  , '-'
                  , if ( longint(DatOpl) = 0, '', DateToStr(DatOpl, 'DD/MM/YYYY') ) + strNum2))

 KontrNameNazn + if (not isBelarus, ' (' + vSFNums.KatState.Name + ')', '')
 KontrInn

 #prec(SummA/1000)
 #prec(Summ1/1000)
 #prec(Summ2/1000)
 #prec(Summ4/1000)
 #prec(Summ5/1000)

 #prec(LSA/1000)
 #prec(LS2/1000)
 #prec(LS5/1000)

 #prec(ISummA/1000)
 #prec((ISumm2 - ISRusNds20)/1000)
 #prec((ISumm5 - ISRusNds10)/1000)

 sGetTune('Boss')
 sGetTune('MainBuh')
.endfields
.[h OVERWRITE SKIP
.begin
 LSA := 0.0;
 LS2 := 0.0;
 LS5 := 0.0;
 LSRusNds := 0.0;
end.
Ъ░ ^ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└ ⌠██ Ъ└@@@@@@@@@@@@@@@@@Ъ└ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                    ▀╗АБ Ъ└ @np@ Ъ└ ╗╖ _____Ъ░
Ъ≤зддддддддддддддддддддбддддддддддддддддддддбдддддддддддддддддддддддддддддддддддддддбддддддддддддбдддддддддддддддддбддддддддддддддддддбддддддддддддддддддбддддддддддддддддддбдддддддддддддддддд©Ъ≤
Ъ≤Ё        (1)         Ё         (2)        Ё                  (3)                  Ё     (4)    Ё       (5)       Ё       (6═)       Ё       (6║)       Ё       (7═)       Ё       (7║)       ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддедддддддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддеддддддддддддддддддеддддддддддддддддддеддддддддддддддддддедддддддддддддддддд╢Ъ≤
.]h
.begin
 LSA := 0.0;
 LS2 := 0.0;
 LS5 := 0.0;
 LSRusNds   := 0.0;
 ISRusNds20 := 0.0;
 ISRusNds10 := 0.0;
end.
^
                                                                         ▐Ю╗╚╝╕╔╜╗╔ 1
                                                                         ╙ ▐╝АБ═╜╝╒╚╔╜╗Н ▄█▒ ░│
                                                                         ╝Б 5.02.2007 Э 22

Ъ│@~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ│


Ъ┬ ▐╚═Б╔╚ЛИ╗╙-╞╝╙Ц╞═Б╔╚Л Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ⌠█▐ ╞╝╙Ц╞═Б╔╚О Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ▐╝╙Ц╞╙═ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└Ъ┬

!Ъ░@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                                  ▀╗АБ Ъ└ 1 Ъ└ ╗╖ _____Ъ░Ъ░
                                                                                                                                                 (БКА.ЮЦ║.)Ъ░
Ъ≤зддддддддддддддддддддбддддддддддддддддддддбдддддддддддддддддддддддддддддддддддддддбддддддддддддбдддддддддддддддддбддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд©Ъ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё                   ┌ Б╝╛ Г╗А╚╔                                             ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 цддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд╢Ъ≤
Ъ≤Ё └═Б═ ╞Ю╗╝║Ю╔Б╔╜╗О  Ё    └═Б═ ╝╞╚═БК     Ё           █═╗╛╔╜╝╒═╜╗╔ ╞Ю╝╓═╒Ф═       Ё    ⌠█▐     Ё     ┌А╔ё╝       Ё    ╞╝╙Ц╞╙╗, ╝║╚═ё═╔╛К╔ ╜═╚╝ё╝╛ ╞╝ АБ═╒╙╔                                  ЁЪ≤
Ъ≤Ё ╗ ╜╝╛╔Ю ╓╝╙Ц╛╔╜Б═  Ё ╗ ╜╝╛╔Ю ╓╝╙Ц╛╔╜Б═  Ё                                       Ё  ╞Ю╝╓═╒Ф═  Ё    ╞╝╙Ц╞╝╙,     цдддддддддддддддддддддддддддддддддддддбддддддддддддддддддддддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё  ╒╙╚НГ═О █└▒    Ё                &&.%                 Ё                &&.%                 ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 цдддддддддддддддддддддддддддддддддддддеддддддддддддддддддддддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё                  6                  Ё                  7                  ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 цддддддддддддддддддбддддддддддддддддддеддддддддддддддддддбдддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё  АБ╝╗╛╝АБЛ       Ё      АЦ╛╛═       Ё  АБ╝╗╛╝АБЛ       Ё    АЦ╛╛═         ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё   ╞╝╙Ц╞╝╙        Ё       █└▒        Ё   ╞╝╙Ц╞╝╙        Ё     █└▒          ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё   ║╔╖ █└▒        Ё                  Ё   ║╔╖ █└▒        Ё                  ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддедддддддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддеддддддддддддддддддеддддддддддддддддддеддддддддддддддддддедддддддддддддддддд╢Ъ≤
Ъ≤Ё         1          Ё          2         Ё                   3                   Ё      4     Ё        5        Ё        6═        Ё        6║        Ё        7═        Ё        7║        ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддедддддддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддеддддддддддддддддддеддддддддддддддддддеддддддддддддддддддедддддддддддддддддд╢Ъ≤
.{CheckEnter BkPrZkMain
.if TipUsersGroup
.end //if
.if PodrGroup
.end
.if GroupBKObjectStroi
.end
.{CheckEnter BookZk
.}
.begin
 strNum1 := '';
 strNum2 := '';
 strAkt  := '';
 IsBelZakon2007 := FALSE;

 if (vSFNums.GetFirst BookPrZk = 0) {
   IsBelZakon2007 := if (vSFNums.GetFirst SchFact = 0
                       , if (Date(1, 1, 2007) <= vSFNums.SchFact.dFact, TRUE, FALSE)
                       , FALSE) AND wGetTune('Nalog.UchPolicy') = 0;

   strAkt  := if (vSFNums.GetFirst SchFact = 0,
                  if(vSFNums.KatSopr.VidSopr <> cgDoc_0111
                     , if(vSFNums.KatSopr.VidSopr = cgDoc_0101 OR vSFNums.KatSopr.VidSopr = cgDoc_0102
                       OR vSFNums.KatSopr.VidSopr = cgDoc_0103 OR vSFNums.KatSopr.VidSopr = cgDoc_0106
                       OR vSFNums.KatSopr.VidSopr = cgDoc_0201 OR vSFNums.KatSopr.VidSopr = cgDoc_0202
                       OR vSFNums.KatSopr.VidSopr = cgDoc_0203
                           , ' █═╙╚═╓╜═О ╝Б ' + DateToStr(vSFNums.KatSopr.dSopr, 'DD/MM/YYYY') + ' Э ' + vSFNums.KatSopr.NSopr + ' '
                           , '' )
                     , if (vSFNums.KatSopr.wADoc <> cgCustomAkt
                           , ' ─╙Б ╝Б '
                           , ' ┐▓└ ╝Б ')
                  + DateToStr(vSFNums.KatSopr.dSopr, 'DD/MM/YYYY') + ' Э ' + vSFNums.KatSopr.NSopr + ' '),
                 ''
                );

   strNum1 := if (vSFNums.GetFirst SchFact = 0,
                  if (ZeroPrint,
                    LPadCh(vSFNums.SchFact.Num, ' ', Length(vSFNums.SchFact.Num) + 1),
                    LPadCh(Ltrim(vSFNums.SchFact.Num, '0'), ' ', Length(vSFNums.SchFact.Num) + 1)
                  ),
                  ''
              );
   if (strAkt <> '' AND Pos ('─╙Б', strAkt) <> 0)
      strNum1 := if(strAkt <> '', ' ▒■-1 Э', '') + strNum1;


   strNum2 := if (vSFNums.GetFirst SchFactS = 0,
                  if (ZeroPrint,
                    LPadCh(vSFNums.SchFactS.Num, ' ', Length(vSFNums.SchFactS.Num) + 1),
                    LPadCh(Ltrim(vSFNums.SchFactS.Num, '0'), ' ', Length(vSFNums.SchFactS.Num) + 1)
                  ),
                  ''
              );
 }

 isBelarus:= true;
 isRussia := false;
 if (vSFNums.GetFirst KatState = 0) {
   isBelarus := trim(vSFNums.KatState.KOD) = #KS_BELARUS;
   isRussia  := trim(vSFNums.KatState.KOD) = #KS_RUSSIA;
 }

 LS2 := LS2 + Summ2;
 LS5 := LS5 + Summ5;
 LSA := LSA + SummA;
end.
Ъ≤Ё@@@@@@@@@@@@@@@@@@@@Ё@@@@@@@@@@@@@@@@@@@@Ё@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ё@~@@@@@@@@@@Ё&&&&&&&&&&&&&&&&&Ё&&&&&&&&&&&&&&&&&&Ё&&&&&&&&&&&&&&&&&&Ё&&&&&&&&&&&&&&&&&&Ё&&&&&&&&&&&&&&&&&&ЁЪ≤
.[f
Ъ≤цддддддддддддддддддддаддддддддддддддддддддадддддддддддддддддддддддддддддддддддддддаддддддддддддадддддддддддддддддеддддддддддддддддддеддддддддддддддддддеддддддддддддддддддедддддддддддддддддд╢Ъ≤
Ъ≤Ё┌▒┘┐▌ ╞╝ ╚╗АБЦ Э @np@                                                                          &&&&&&&&&&&&&&&&&Ё        X         Ё&&&&&&&&&&&&&&&&&&Ё         X        Ё&&&&&&&&&&&&&&&&&&ЁЪ≤
Ъ≤юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддддддддаддддддддддддддддддаддддддддддддддддддаддддддддддддддддддыЪ≤
.]f
.}
Ъ≤зддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддддддддбддддддддддддддддддбддддддддддддддддддбдддддддддддддддддд©Ъ≤
Ъ≤Ё┌▒┘┐▌                                                                                          &&&&&&&&&&&&&&&&&Ё        X         Ё&&&&&&&&&&&&&&&&&&Ё         X        Ё&&&&&&&&&&&&&&&&&&ЁЪ≤
Ъ≤юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддддддддаддддддддддддддддддаддддддддддддддддддаддддддддддддддддддыЪ≤
.}
.{CheckEnter BkPrZkAllVal
.}
.}


Ъ┬ ░Ц╙╝╒╝╓╗Б╔╚ЛЪ┬
Ъ┬ (╗╜╓╗╒╗╓Ц═╚Л╜К╘ ╞Ю╔╓╞Ю╗╜╗╛═Б╔╚Л)      ________________Ъ┬   Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└
Ъ┬                                             Ъ≤(╞╝╓╞╗АЛ)                                              (┬. ▌. ■═╛╗╚╗О)Ъ░

Ъ┬ ┐╚═╒╜К╘ ║ЦЕё═╚Б╔Ю                     ________________Ъ┬   Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└
Ъ┬                                             Ъ≤(╞╝╓╞╗АЛ)                                              (┬. ▌. ■═╛╗╚╗О)Ъ░
.endform


//////////////////////////////////////////////////////////////
////    █╝╒═О Д╝Ю╛═ ╙╜╗ё╗ ╞╝╙Ц╞╝╙ (А 01.10.2007)          ////
//////////////////////////////////////////////////////////////
#define KS_BELARUS '112'
#define KS_RUSSIA  '643'

#doc
┼╜╗ё═ ╞╝╙Ц╞╝╙ (А 01.10.2007)
#end
.linkform 'BkPrZkF_42_Bel' prototype is 'BkPrZkF'
.NameInList '┼╜╗ё═ ╞╝╙Ц╞╝╙ (А 01.10.2007)'
.Group '┤═╙Ц╞╙╗ (│╔╚═ЮЦАЛ)'
.P 60
.create view vSFNums
from
    BookPrZk
  , KatOrg
  , KatState
  , SchFact SchFactS
  , KatSopr
  , SoprHoz
  , PlPor PlPor_AO
  , PlPor PlPor_RKO
  , DocPodot DocPodot_RKO
  , RashDoc
where
((
    nBookPrZk           == BookPrZk.nRec
AND BookPrZk.cSchFact   == SchFact.nRec
AND BookPrZk.cSchFactS  == SchFactS.nRec
AND BookPrZk.cOrg       == KatOrg.nRec
AND KatOrg.cState       == KatState.nRec
AND SchFact.nRec        == SpSchf.cSchFact
AND SchFact.nRec        == KatSopr.cSchFact
AND SchFactS.cSoprHoz   == SoprHoz.NRec
AND SoprHoz.cSoprDoc    == PlPor_RKO.nRec
AND cgDoc_0009          == DocPodot_RKO.TipDoc
AND PlPor_RKO.nRec      == DocPodot_RKO.cVtDoc
AND DocPodot_RKO.cPrDoc == PlPor_AO.nRec
AND cgDoc_0009          == RashDoc.TipDoc
AND PlPor_AO.NRec       == RashDoc.cSoprDoc
))
;
.defo landscape
.var
 LSA       : double;
 LS2       : double;
 LS5       : double;
 LS24      : double;
 LSRusNds  : double;
 ISRusNds20: double;
 ISRusNds10: double;
 ISNds24   : double;
 ISOsnNds  : double;
 ISSumm24  : double;
 ISOsnSumm : double;
 ItogSumm2 : double;
 ILS24     : double;
 strNum1      : String;
 strNum2      : String;
 strNum2_Copy : String;
 strNumRKO1: string;
 strNumRKO2: string;
 strAkt : string
 isBelarus: boolean;
 isRussia : boolean;
 IsBelZakon2007 : boolean;
 dSFSost : date;
 exAttr  : iExtAttr;
.endvar
.{
.{CheckEnter BkPrZkVal
.fields
 If (RegTips=0,'┼╜╗ё═ ╞╝╙Ц╞╝╙','░╔╔АБЮ ╖═╞╗А╔╘ (╞╝╙Ц╞╙╗)')
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')

 MyInn
 FiltTxt

 CommonFormHeader
 If (RegTips=0,'┼█┬┐─ ▐▌┼⌠▐▌┼','░┘┘▒▓░ ┤─▐┬▒┘┴ (▐▌┼⌠▐┼┬)')
 MyOrg
 MyInn
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 Nds1
 Nds2

 if (isRussia, '', strNum1)
 strNum2

 KontrNameNazn + if (not isBelarus, ' (' + vSFNums.KatState.Name + ')', '')
 KontrInn

 SummA
 ISOsnSumm
 ISOsnNds
 Summ4
 Summ5

 ISSumm24
 ISNds24

 LSA
 LS2
 LS5
 LS24

 ISummA
 ItogSumm2
 ISumm5
 ILS24

 sGetTune('Boss')
 sGetTune('MainBuh')
.endfields
.[h OVERWRITE SKIP
.begin
 LSA := 0.0;
 LS2 := 0.0;
 LS5 := 0.0;
 LS24 := 0.0;
 LSRusNds := 0.0;
end.
Ъ░ ^ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└ ⌠██ Ъ└@@@@@@@@@@@@@@@@@Ъ└ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                    ▀╗АБ Ъ└ @np@ Ъ└ ╗╖ _____Ъ░
Ъ≤зддддддддддддддддддддбддддддддддддддддддддбдддддддддддддддддддддддддддддддддддддддбддддддддддддбдддддддддддддддддбддддддддддддддддддбддддддддддддддддбддддддддддддддддддбддддддддддддддддбддддддддддддддддддбдддддддддддддддд©Ъ≤
Ъ≤Ё        (1)         Ё         (2)        Ё                  (3)                  Ё     (4)    Ё       (5)       Ё       (6═)       Ё       (6║)     Ё       (7═)       Ё       (7║)     Ё       (8═)       Ё      (8║)      ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддедддддддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддеддддддддддддддддддеддддддддддддддддеддддддддддддддддддеддддддддддддддддеддддддддддддддддддедддддддддддддддд╢Ъ≤
.]h
.begin
 LSA := 0.0;
 LS2 := 0.0;
 LS5 := 0.0;
 LS24 := 0.0;
 LSRusNds   := 0.0;
 ISRusNds20 := 0.0;
 ISRusNds10 := 0.0;
 ItogSumm2  := 0.0;
 ILS24      := 0.0;
end.
^
                                                                         ▐Ю╗╚╝╕╔╜╗╔ 1
                                                                         ╙ ▐╝АБ═╜╝╒╚╔╜╗Н ▄█▒ ░│
                                                                         ╝Б 5.02.2007 Э 22

Ъ│@~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ│


Ъ┬ ▐╚═Б╔╚ЛИ╗╙-╞╝╙Ц╞═Б╔╚Л Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ⌠█▐ ╞╝╙Ц╞═Б╔╚О Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ▐╝╙Ц╞╙═ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└Ъ┬

!Ъ░@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                                  ▀╗АБ Ъ└ 1 Ъ└ ╗╖ _____Ъ░Ъ░
                                                                                                                                                                                   Ъ░
Ъ≤зддддддддддддддддддддбддддддддддддддддддддбдддддддддддддддддддддддддддддддддддддддбддддддддддддбдддддддддддддддддбддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд©Ъ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё                                              ┌ Б╝╛ Г╗А╚╔                                                  ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 цддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд╢Ъ≤
Ъ≤Ё └═Б═ ╞Ю╗╝║Ю╔Б╔╜╗О  Ё    └═Б═ ╝╞╚═БК     Ё           █═╗╛╔╜╝╒═╜╗╔ ╞Ю╝╓═╒Ф═       Ё    ⌠█▐     Ё     ┌А╔ё╝       Ё                                   ╞╝╙Ц╞╙╗, ╝║╚═ё═╔╛К╔ ╜═╚╝ё╝╛ ╞╝ АБ═╒╙╔                                   ЁЪ≤
Ъ≤Ё ╗ ╜╝╛╔Ю ╓╝╙Ц╛╔╜Б═  Ё ╗ ╜╝╛╔Ю ╓╝╙Ц╛╔╜Б═  Ё                                       Ё  ╞Ю╝╓═╒Ф═  Ё    ╞╝╙Ц╞╝╙,     цдддддддддддддддддддддддддддддддддддбдддддддддддддддддддддддддддддддддддбддддддддддддддддддддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё  ╒╙╚НГ═О █└▒    Ё                &&.%               Ё                &&.%               Ё                24%                ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 цдддддддддддддддддддддддддддддддддддедддддддддддддддддддддддддддддддддддеддддддддддддддддддддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё                  6                Ё                  7                Ё                  8                ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 цддддддддддддддддддбддддддддддддддддеддддддддддддддддддбддддддддддддддддеддддддддддддддддддбдддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё  АБ╝╗╛╝АБЛ       Ё     АЦ╛╛═      Ё  АБ╝╗╛╝АБЛ       Ё    АЦ╛╛═       Ё  АБ╝╗╛╝АБЛ       Ё    АЦ╛╛═       ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё   ╞╝╙Ц╞╝╙        Ё      █└▒       Ё   ╞╝╙Ц╞╝╙        Ё     █└▒        Ё   ╞╝╙Ц╞╝╙        Ё     █└▒        ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё   ║╔╖ █└▒        Ё                Ё   ║╔╖ █└▒        Ё                Ё   ║╔╖ █└▒        Ё                ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддедддддддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддеддддддддддддддддддеддддддддддддддддеддддддддддддддддддеддддддддддддддддеддддддддддддддддддедддддддддддддддд╢Ъ≤
Ъ≤Ё         1          Ё          2         Ё                   3                   Ё      4     Ё        5        Ё        6═        Ё       6║       Ё        7═        Ё       7║       Ё        8═        Ё       8║       ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддедддддддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддеддддддддддддддддддеддддддддддддддддеддддддддддддддддддеддддддддддддддддеддддддддддддддддддедддддддддддддддд╢Ъ≤
.{CheckEnter BkPrZkMain
.if TipUsersGroup
.end //if
.if PodrGroup
.end
.if GroupBKObjectStroi
.end
.{CheckEnter BookZk
.}
.begin
  strNum1 := '';
  strNum2 := '';
  strAkt  := '';
  ISNds24  := 0 ;
  ISSumm24 := 0 ;
  ISOsnSumm := Summ1;
  ISOsnNds  := Summ2;

  IsBelZakon2007 := FALSE;

  isBelarus := True;
  isRussia  := False;

  if (vSFNums.GetFirst BookPrZk = 0)
  {
    if (vSFNums.GetFirst KatState = 0)
    {
      IsBelarus := Trim(vSFNums.KatState.KOD) = #KS_BELARUS;
      IsRussia  := Trim(vSFNums.KatState.KOD) = #KS_RUSSIA;
    }

    // ░╔ё╗АБЮ═Ф╗О ┐▓└ ╒ ╙╜╗ё╔ ╞╝╙Ц╞╝╙
    if (vSFNums.BookPrZk.SubTip = 5)
    {
      IsBelarus := False;
      IsRussia  := False;
      strNum1 := DateToStr(vSFNums.BookPrZk.dOpr, 'DD/MM/YYYY') + ' Э' + vSFNums.BookPrZk.Num;
      strNum2 := exAttr.sGetAttr(coKatSopr, vSFNums.BookPrZk.cSopr, sGetTune('Nalog.Bel.Attr_GTDPlat'));

      if (Trim(strNum2) = '')
        strNum2 := '-';
    }
    else
    {
      if (vSFNums.SchFact.SubTip AND 16)<>0
        IsBelZakon2007 := if (vSFNums.GetFirst SchFact = 0
                            , if (Date(1, 1, 2007) <= vSFNums.SchFact.dFact, TRUE, FALSE)
                            , FALSE) AND wGetTune('Nalog.UchPolicy') = 0;
      else
        IsBelZakon2007 := if (vSFNums.GetFirst SchFactS= 0
                            , if (Date(1, 1, 2007) <= vSFNums.SchFactS.dFact, TRUE, FALSE)
                            , FALSE) AND wGetTune('Nalog.UchPolicy') = 0;

      strAkt  := if (vSFNums.GetFirst SchFact = 0,
                     if(vSFNums.KatSopr.VidSopr <> cgDoc_0111
                        , if(vSFNums.KatSopr.VidSopr = cgDoc_0101 OR vSFNums.KatSopr.VidSopr = cgDoc_0102
                          OR vSFNums.KatSopr.VidSopr = cgDoc_0103 OR vSFNums.KatSopr.VidSopr = cgDoc_0106
                          OR vSFNums.KatSopr.VidSopr = cgDoc_0201 OR vSFNums.KatSopr.VidSopr = cgDoc_0202
                          OR vSFNums.KatSopr.VidSopr = cgDoc_0203
                              , ' █═╙╚═╓╜═О ╝Б '+ DateToStr(vSFNums.KatSopr.dSopr, 'DD/MM/YYYY') + ' Э ' + vSFNums.KatSopr.NSopr + ' '
                              , '' )
                        , if (vSFNums.KatSopr.wADoc <> cgCustomAkt
                              , ' ─╙Б ╝Б '
                              , ' ┐▓└ ╝Б ')
                     + DateToStr(vSFNums.KatSopr.dSopr, 'DD/MM/YYYY') + ' Э ' + vSFNums.KatSopr.NSopr + ' '),
                    ''
                   );

      strNum1 := if (vSFNums.GetFirst SchFact = 0,
                     if (ZeroPrint,
                       LPadCh(vSFNums.SchFact.Num, ' ', Length(vSFNums.SchFact.Num) + 1),
                       LPadCh(Ltrim(vSFNums.SchFact.Num, '0'), ' ', Length(vSFNums.SchFact.Num) + 1)), '');

      if (strAkt <> '' AND Pos ('─╙Б', strAkt) <> 0)
      {
        dSFSost := vSFNums.SchFact.dFact;

        strNum1 :=  strAkt + ', ▒■-1 Э' + strNum1 + ' ╝Б ' + if (longint(dSFSost) = 0, '', DateToStr(dSFSost, 'DD/MM/YYYY'));
      }
      else
        strNum1 := if (strAkt <> '', strAkt, if (longint(DatOpr) = 0, '', DateToStr(DatOpr, 'DD/MM/YYYY')) + if (strNum1 = '', '', ' Э ' + strNum1));

      strNum2 := if (vSFNums.GetFirst SchFactS = 0,
                     if (ZeroPrint,
                       LPadCh(vSFNums.SchFactS.Num, ' ', Length(vSFNums.SchFactS.Num) + 1),
                       LPadCh(Ltrim(vSFNums.SchFactS.Num, '0'), ' ', Length(vSFNums.SchFactS.Num) + 1)), '');

      strNumRKO1 := '';
      strNumRKO2 := '';

      if (vSFNums.GetFirst SoprHoz = 0)
        if (vSFNums.GetFirst PlPor_RKO = 0)
          if (vSFNums.GetFirst PlPor_AO = 0)
            if (vSFNums.PlPor_AO.TiDkGal = cgDoc_0009) // ═╒═╜А╝╒К╘ ╝БГ╔Б
            {
              if (vSFNums.GetFirst RashDoc = 0)
                strNumRKO1 := '≈╔╙ Э ' + vSFNums.RashDoc.NomKvit;


              strNumRKO1 := strNumRKO1 + ' ─╒.╝БГ╔Б Э ' + vSFNums.PlPor_AO.NoDok
                                 + ' ╝Б ' + DateToStr(vSFNums.PlPor_AO.DatOb, 'DD/MM/YYYY ');

              strNumRKO2 := '░┼▌ Э ' + vSFNums.PlPor_RKO.NoDok
                                 + ' ╝Б ' + DateToStr(vSFNums.PlPor_RKO.DatOb, 'DD/MM/YYYY ');
            }

      strNum1 := Trim(if (Trim(strNumRKO1) <> '', strNumRKO1, strNum1));

      if (strNum1 = '')
        strNum2_Copy := strNum2;

      strNum2 := if (isRussia,
                   if (LongInt(DatOpl) = 0, '', DateToStr(DatOpl, 'DD/MM/YYYY') +
                                                if (strNum2 = '', '', ' Э ' + strNum2)),
                   if (IsBelZakon2007, '-',
                     if (Trim(strNumRKO2) <> '', strNumRKO2,
                       if (LongInt(DatOpl) = 0, '', DateToStr(DatOpl, 'DD/MM/YYYY')) +
                                                    if (strNum2 = '', '', ' Э ' + strNum2))));

      strNum2 := Trim(strNum2);

      // ▒╗БЦ═Ф╗О, ╙╝ё╓═ IsBelZakon2007, ═ Ц ╖═╞╗А╗ Б╝╚Л╙╝ ААК╚╙═ ╜═ ╞╚═Б╔╕ SchFactS.
      // ▒Ц╛╛╝╒═О Ю═╖╜╗Ф═, ╜═╞Ю╗╛╔Ю
      if ((strNum1 = '') and ((strNum2 = '-') or (strNum2 = '') or (strNum2 = 'Э')))
      {
        strNum2 := if (LongInt(DatOpl) = 0, '', DateToStr(DatOpl, 'DD/MM/YYYY')) +
                   if (strNum2_Copy = '', '', ' Э ' + strNum2_Copy)
      }

      if (Trim(strNum2) = '')
        strNum2 := '-';

      vSFNums._LOOP SpSchf
        if (vSFNums.SpSchf.PercNDS = 24)
        {
          ISNds24  := ISNds24 + vSFNums.SpSchf.NDS;
          ISSumm24 := ISSumm24 + vSFNums.SpSchf.Sum;
        }

      ISOsnSumm := ISOsnSumm - ISSumm24;
      ISOsnNds  := ISOsnNds  - ISNds24;
    }
  }

  ItogSumm2 := ItogSumm2 + ISOsnNds;
  LS24:= LS24 + ISNds24;
  ILS24 := ILS24 + ISNds24;
  LS2 := LS2 + ISOsnNds;
  LS5 := LS5 + Summ5;
  LSA := LSA + SummA;
end.
Ъ≤Ё@@@@@@@@@@@@@@@@@@@@Ё@@@@@@@@@@@@@@@@@@@@Ё@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ё@~@@@@@@@@@@Ё&&&&&&&&&&&&&&&&&Ё&&&&&&&&&&&&&&&&&&Ё&&&&&&&&&&&&&&&&Ё&&&&&&&&&&&&&&&&&&Ё&&&&&&&&&&&&&&&&Ё&&&&&&&&&&&&&&&&&&Ё&&&&&&&&&&&&&&&&ЁЪ≤
.[f
Ъ≤цддддддддддддддддддддаддддддддддддддддддддадддддддддддддддддддддддддддддддддддддддаддддддддддддадддддддддддддддддеддддддддддддддддддеддддддддддддддддеддддддддддддддддддеддддддддддддддддеддддддддддддддддддедддддддддддддддд╢Ъ≤
Ъ≤Ё┌▒┘┐▌ ╞╝ ╚╗АБЦ Э @np@                                                                          &&&&&&&&&&&&&&&&&Ё        X         Ё&&&&&&&&&&&&&&&&Ё         X        Ё&&&&&&&&&&&&&&&&Ё         X        Ё&&&&&&&&&&&&&&&&ЁЪ≤
Ъ≤юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддддддддаддддддддддддддддаддддддддддддддддддаддддддддддддддддаддддддддддддддддддаддддддддддддддддыЪ≤
.]f
.}
Ъ≤зддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддддддддбддддддддддддддддбддддддддддддддддддбддддддддддддддддбддддддддддддддддддбдддддддддддддддд©Ъ≤
Ъ≤Ё┌▒┘┐▌                                                                                          &&&&&&&&&&&&&&&&&Ё        X         Ё&&&&&&&&&&&&&&&&Ё         X        Ё&&&&&&&&&&&&&&&&Ё         X        Ё&&&&&&&&&&&&&&&&ЁЪ≤
Ъ≤юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддддддддаддддддддддддддддаддддддддддддддддддаддддддддддддддддаддддддддддддддддддаддддддддддддддддыЪ≤
.}
.{CheckEnter BkPrZkAllVal
.}
.}


Ъ┬ ░Ц╙╝╒╝╓╗Б╔╚ЛЪ┬
Ъ┬ (╗╜╓╗╒╗╓Ц═╚Л╜К╘ ╞Ю╔╓╞Ю╗╜╗╛═Б╔╚Л)      ________________Ъ┬   Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└
Ъ┬                                             Ъ≤(╞╝╓╞╗АЛ)                                              (┬. ▌. ■═╛╗╚╗О)Ъ░

Ъ┬ ┐╚═╒╜К╘ ║ЦЕё═╚Б╔Ю                     ________________Ъ┬   Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└
Ъ┬                                             Ъ≤(╞╝╓╞╗АЛ)                                              (┬. ▌. ■═╛╗╚╗О)Ъ░
.endform

#doc
┼╜╗ё═ ╞╝╙Ц╞╝╙ (А 01.10.2007 ╒ БКА. ЮЦ║╚ОЕ)
#end
.linkform 'BkPrZkF_43_Bel' prototype is 'BkPrZkF'
.NameInList '┼╜╗ё═ ╞╝╙Ц╞╝╙ (А 01.10.2007) ╒ БКА. ЮЦ║╚ОЕ'
.Group '┤═╙Ц╞╙╗ (│╔╚═ЮЦАЛ)'
.P 60
.create view vSFNums
from
    BookPrZk
  , KatOrg
  , KatState
  , SchFact SchFactS
  , KatSopr
  , SoprHoz
  , PlPor PlPor_AO
  , PlPor PlPor_RKO
  , DocPodot DocPodot_RKO
  , RashDoc
where
((
    nBookPrZk           == BookPrZk.nRec
AND BookPrZk.cSchFact   == SchFact.nRec
AND BookPrZk.cSchFactS  == SchFactS.nRec
AND BookPrZk.cOrg       == KatOrg.nRec
AND KatOrg.cState       == KatState.nRec
AND SchFact.nRec        == SpSchf.cSchFact
AND SchFact.nRec        == KatSopr.cSchFact
AND SchFactS.cSoprHoz   == SoprHoz.NRec
AND SoprHoz.cSoprDoc    == PlPor_RKO.nRec
AND cgDoc_0009          == DocPodot_RKO.TipDoc
AND PlPor_RKO.nRec      == DocPodot_RKO.cVtDoc
AND DocPodot_RKO.cPrDoc == PlPor_AO.nRec
AND cgDoc_0009          == RashDoc.TipDoc
AND PlPor_AO.NRec       == RashDoc.cSoprDoc
))
;
.defo landscape
.var
 LSA       : double;
 LS2       : double;
 LS5       : double;
 LS24      : double;
 LSRusNds  : double;
 ISRusNds20: double;
 ISRusNds10: double;
 ISNds24   : double;
 ISOsnNds  : double;
 ISSumm24  : double;
 ISOsnSumm : double;
 ItogSumm2 : double;
 ILS24     : double;

 strNum1      : String;
 strNum2      : String;
 strNum2_Copy : String;
 strNumRKO1: string;
 strNumRKO2: string;
 strAkt : string
 isBelarus: boolean;
 isRussia : boolean;
 IsBelZakon2007 : boolean;
 dSFSost : date;
 exAttr  : iExtAttr;
.endvar
.{
.{CheckEnter BkPrZkVal
.fields
 If (RegTips=0,'┼╜╗ё═ ╞╝╙Ц╞╝╙','░╔╔АБЮ ╖═╞╗А╔╘ (╞╝╙Ц╞╙╗)')
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')

 MyInn
 FiltTxt

 CommonFormHeader
 If (RegTips=0,'┼█┬┐─ ▐▌┼⌠▐▌┼','░┘┘▒▓░ ┤─▐┬▒┘┴ (▐▌┼⌠▐┼┬)')
 MyOrg
 MyInn
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 Nds1
 Nds2

 if (isRussia, '', strNum1)
 strNum2

 KontrNameNazn + if (not isBelarus, ' (' + vSFNums.KatState.Name + ')', '')
 KontrInn

 #prec(SummA/1000)
 #prec(ISOsnSumm/1000)
 #prec(ISOsnNds/1000)
 #prec(Summ4/1000)
 #prec(Summ5/1000)

 #prec(ISSumm24/1000)
 #prec(ISNds24/1000)

 #prec(LSA/1000)
 #prec(LS2/1000)
 #prec(LS5/1000)
 #prec(LS24/1000)

 #prec(ISummA/1000)
 #prec(ItogSumm2/1000)
 #prec(ISumm5/1000)
 #prec(ILS24/1000)

 sGetTune('Boss')
 sGetTune('MainBuh')
.endfields
.[h OVERWRITE SKIP
.begin
 LSA := 0.0;
 LS2 := 0.0;
 LS5 := 0.0;
 LS24 := 0.0;
 LSRusNds := 0.0;
end.
Ъ░ ^ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└ ⌠██ Ъ└@@@@@@@@@@@@@@@@@Ъ└ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                    ▀╗АБ Ъ└ @np@ Ъ└ ╗╖ _____Ъ░
Ъ≤зддддддддддддддддддддбддддддддддддддддддддбдддддддддддддддддддддддддддддддддддддддбддддддддддддбдддддддддддддддддбддддддддддддддддддбддддддддддддддддбддддддддддддддддддбддддддддддддддддбддддддддддддддддддбдддддддддддддддд©Ъ≤
Ъ≤Ё        (1)         Ё         (2)        Ё                  (3)                  Ё     (4)    Ё       (5)       Ё       (6═)       Ё       (6║)     Ё       (7═)       Ё       (7║)     Ё       (8═)       Ё      (8║)      ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддедддддддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддеддддддддддддддддддеддддддддддддддддеддддддддддддддддддеддддддддддддддддеддддддддддддддддддедддддддддддддддд╢Ъ≤
.]h
.begin
 LSA := 0.0;
 LS2 := 0.0;
 LS5 := 0.0;
 LS24 := 0.0;
 LSRusNds   := 0.0;
 ISRusNds20 := 0.0;
 ISRusNds10 := 0.0;
 ItogSumm2  := 0.0;
 ILS24      := 0.0;
end.
^
                                                                         ▐Ю╗╚╝╕╔╜╗╔ 1
                                                                         ╙ ▐╝АБ═╜╝╒╚╔╜╗Н ▄█▒ ░│
                                                                         ╝Б 5.02.2007 Э 22

Ъ│@~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ│


Ъ┬ ▐╚═Б╔╚ЛИ╗╙-╞╝╙Ц╞═Б╔╚Л Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ⌠█▐ ╞╝╙Ц╞═Б╔╚О Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└Ъ┬

Ъ┬ ▐╝╙Ц╞╙═ ╖═ ╞╔Ю╗╝╓ А Ъ└@@@@@@@@@@Ъ└ ╞╝ Ъ└@@@@@@@@@@Ъ└Ъ┬

!Ъ░@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                                  ▀╗АБ Ъ└ 1 Ъ└ ╗╖ _____Ъ░Ъ░
                                                                                                                                                                                   (БКА.ЮЦ║.)Ъ░
Ъ≤зддддддддддддддддддддбддддддддддддддддддддбдддддддддддддддддддддддддддддддддддддддбддддддддддддбдддддддддддддддддбддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд©Ъ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё                                              ┌ Б╝╛ Г╗А╚╔                                                  ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 цддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд╢Ъ≤
Ъ≤Ё └═Б═ ╞Ю╗╝║Ю╔Б╔╜╗О  Ё    └═Б═ ╝╞╚═БК     Ё           █═╗╛╔╜╝╒═╜╗╔ ╞Ю╝╓═╒Ф═       Ё    ⌠█▐     Ё     ┌А╔ё╝       Ё                                   ╞╝╙Ц╞╙╗, ╝║╚═ё═╔╛К╔ ╜═╚╝ё╝╛ ╞╝ АБ═╒╙╔                                   ЁЪ≤
Ъ≤Ё ╗ ╜╝╛╔Ю ╓╝╙Ц╛╔╜Б═  Ё ╗ ╜╝╛╔Ю ╓╝╙Ц╛╔╜Б═  Ё                                       Ё  ╞Ю╝╓═╒Ф═  Ё    ╞╝╙Ц╞╝╙,     цдддддддддддддддддддддддддддддддддддбдддддддддддддддддддддддддддддддддддбддддддддддддддддддддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё  ╒╙╚НГ═О █└▒    Ё                &&.%               Ё                &&.%               Ё                24%                ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 цдддддддддддддддддддддддддддддддддддедддддддддддддддддддддддддддддддддддеддддддддддддддддддддддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё                  6                Ё                  7                Ё                  8                ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 цддддддддддддддддддбддддддддддддддддеддддддддддддддддддбддддддддддддддддеддддддддддддддддддбдддддддддддддддд╢Ъ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё  АБ╝╗╛╝АБЛ       Ё     АЦ╛╛═      Ё  АБ╝╗╛╝АБЛ       Ё    АЦ╛╛═       Ё  АБ╝╗╛╝АБЛ       Ё    АЦ╛╛═       ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё   ╞╝╙Ц╞╝╙        Ё      █└▒       Ё   ╞╝╙Ц╞╝╙        Ё     █└▒        Ё   ╞╝╙Ц╞╝╙        Ё     █└▒        ЁЪ≤
Ъ≤Ё                    Ё                    Ё                                       Ё            Ё                 Ё   ║╔╖ █└▒        Ё                Ё   ║╔╖ █└▒        Ё                Ё   ║╔╖ █└▒        Ё                ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддедддддддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддеддддддддддддддддддеддддддддддддддддеддддддддддддддддддеддддддддддддддддеддддддддддддддддддедддддддддддддддд╢Ъ≤
Ъ≤Ё         1          Ё          2         Ё                   3                   Ё      4     Ё        5        Ё        6═        Ё       6║       Ё        7═        Ё       7║       Ё        8═        Ё       8║       ЁЪ≤
Ъ≤цддддддддддддддддддддеддддддддддддддддддддедддддддддддддддддддддддддддддддддддддддеддддддддддддедддддддддддддддддеддддддддддддддддддеддддддддддддддддеддддддддддддддддддеддддддддддддддддеддддддддддддддддддедддддддддддддддд╢Ъ≤
.{CheckEnter BkPrZkMain
.if TipUsersGroup
.end //if
.if PodrGroup
.end
.if GroupBKObjectStroi
.end
.{CheckEnter BookZk
.}
.begin
  strNum1 := '';
  strNum2 := '';
  strAkt  := '';
  ISNds24 := 0 ;
  ISSumm24  := 0 ;
  ISOsnSumm := Summ1;
  ISOsnNds  := Summ2;

  IsBelZakon2007 := FALSE;

  isBelarus := True;
  isRussia  := False;

  if (vSFNums.GetFirst BookPrZk = 0)
  {
    if (vSFNums.GetFirst KatState = 0)
    {
      IsBelarus := Trim(vSFNums.KatState.KOD) = #KS_BELARUS;
      IsRussia  := Trim(vSFNums.KatState.KOD) = #KS_RUSSIA;
    }

    // ░╔ё╗АБЮ═Ф╗О ┐▓└ ╒ ╙╜╗ё╔ ╞╝╙Ц╞╝╙
    if (vSFNums.BookPrZk.SubTip = 5)
    {
      IsBelarus := False;
      IsRussia  := False;
      strNum1 := DateToStr(vSFNums.BookPrZk.dOpr, 'DD/MM/YYYY') + ' Э' + vSFNums.BookPrZk.Num;
      strNum2 := exAttr.sGetAttr(coKatSopr, vSFNums.BookPrZk.cSopr, sGetTune('Nalog.Bel.Attr_GTDPlat'));

      if (Trim(strNum2) = '')
        strNum2 := '-';
    }
    else
    {
      if (vSFNums.SchFact.SubTip AND 16)<>0
        IsBelZakon2007 := if (vSFNums.GetFirst SchFact = 0
                            , if (Date(1, 1, 2007) <= vSFNums.SchFact.dFact, TRUE, FALSE)
                            , FALSE) AND wGetTune('Nalog.UchPolicy') = 0;
      else
        IsBelZakon2007 := if (vSFNums.GetFirst SchFactS= 0
                            , if (Date(1, 1, 2007) <= vSFNums.SchFactS.dFact, TRUE, FALSE)
                            , FALSE) AND wGetTune('Nalog.UchPolicy') = 0;

      strAkt  := if (vSFNums.GetFirst SchFact = 0,
                     if(vSFNums.KatSopr.VidSopr <> cgDoc_0111
                        , if(vSFNums.KatSopr.VidSopr = cgDoc_0101 OR vSFNums.KatSopr.VidSopr = cgDoc_0102
                          OR vSFNums.KatSopr.VidSopr = cgDoc_0103 OR vSFNums.KatSopr.VidSopr = cgDoc_0106
                          OR vSFNums.KatSopr.VidSopr = cgDoc_0201 OR vSFNums.KatSopr.VidSopr = cgDoc_0202
                          OR vSFNums.KatSopr.VidSopr = cgDoc_0203
                              , ' █═╙╚═╓╜═О ╝Б '+ DateToStr(vSFNums.KatSopr.dSopr, 'DD/MM/YYYY') + ' Э ' + vSFNums.KatSopr.NSopr + ' '
                              , '' )
                        , if (vSFNums.KatSopr.wADoc <> cgCustomAkt
                              , ' ─╙Б ╝Б '
                              , ' ┐▓└ ╝Б ')
                     + DateToStr(vSFNums.KatSopr.dSopr, 'DD/MM/YYYY') + ' Э ' + vSFNums.KatSopr.NSopr + ' '), '');

      strNum1 := if (vSFNums.GetFirst SchFact = 0,
                     if (ZeroPrint,
                       LPadCh(vSFNums.SchFact.Num, ' ', Length(vSFNums.SchFact.Num) + 1),
                       LPadCh(Ltrim(vSFNums.SchFact.Num, '0'), ' ', Length(vSFNums.SchFact.Num) + 1)), '');

      if (strAkt <> '' AND Pos ('─╙Б', strAkt) <> 0)
      {
        dSFSost := vSFNums.SchFact.dFact;

        strNum1 := strAkt + ', ▒■-1 Э' + strNum1 + ' ╝Б ' + if (longint(dSFSost) = 0, '', DateToStr(dSFSost, 'DD/MM/YYYY'));
      }
      else
        strNum1 := if (strAkt <> '', strAkt, if (longint(DatOpr) = 0, '', DateToStr(DatOpr, 'DD/MM/YYYY')) + if (strNum1 = '', '', ' Э ' + strNum1));

      strNum2 := if (vSFNums.GetFirst SchFactS = 0,
                     if (ZeroPrint,
                       LPadCh(vSFNums.SchFactS.Num, ' ', Length(vSFNums.SchFactS.Num) + 1),
                       LPadCh(Ltrim(vSFNums.SchFactS.Num, '0'), ' ', Length(vSFNums.SchFactS.Num) + 1)), '');

      strNumRKO1 := '';
      strNumRKO2 := '';

      if (vSFNums.GetFirst SoprHoz = 0)
        if (vSFNums.GetFirst PlPor_RKO = 0)
          if (vSFNums.GetFirst PlPor_AO = 0)
            if (vSFNums.PlPor_AO.TiDkGal = cgDoc_0009) // ═╒═╜А╝╒К╘ ╝БГ╔Б
            {
              if (vSFNums.GetFirst RashDoc = 0)
                strNumRKO1 := '≈╔╙ Э ' + vSFNums.RashDoc.NomKvit;


              strNumRKO1 := strNumRKO1 + ' ─╒.╝БГ╔Б Э ' + vSFNums.PlPor_AO.NoDok
                                 + ' ╝Б ' + DateToStr(vSFNums.PlPor_AO.DatOb, 'DD/MM/YYYY ');

              strNumRKO2 := '░┼▌ Э ' + vSFNums.PlPor_RKO.NoDok
                                 + ' ╝Б ' + DateToStr(vSFNums.PlPor_RKO.DatOb, 'DD/MM/YYYY ');
            }

      strNum1 := Trim(if (Trim(strNumRKO1) <> '', strNumRKO1, strNum1));

      if (strNum1 = '')
        strNum2_Copy := strNum2;

      strNum2 := if (isRussia,
                   if (LongInt(DatOpl) = 0, '', DateToStr(DatOpl, 'DD/MM/YYYY') +
                                                if (strNum2 = '', '', ' Э ' + strNum2)),
                   if (IsBelZakon2007, '-',
                     if (Trim(strNumRKO2) <> '', strNumRKO2,
                       if (LongInt(DatOpl) = 0, '', DateToStr(DatOpl, 'DD/MM/YYYY')) +
                                                    if (strNum2 = '', '', ' Э ' + strNum2))));

      strNum2 := Trim(strNum2);

      // ▒╗БЦ═Ф╗О, ╙╝ё╓═ IsBelZakon2007, ═ Ц ╖═╞╗А╗ Б╝╚Л╙╝ ААК╚╙═ ╜═ ╞╚═Б╔╕ SchFactS.
      // ▒Ц╛╛╝╒═О Ю═╖╜╗Ф═, ╜═╞Ю╗╛╔Ю
      if ((strNum1 = '') and ((strNum2 = '-') or (strNum2 = '') or (strNum2 = 'Э')))
      {
        strNum2 := if (LongInt(DatOpl) = 0, '', DateToStr(DatOpl, 'DD/MM/YYYY')) +
                   if (strNum2_Copy = '', '', ' Э ' + strNum2_Copy)
      }

      if (Trim(strNum2) = '')
        strNum2 := '-';

      vSFNums._LOOP SpSchf
        if (vSFNums.SpSchf.PercNDS = 24)
        {
          ISNds24  := ISNds24 + vSFNums.SpSchf.NDS;
          ISSumm24 := ISSumm24 + vSFNums.SpSchf.Sum;
        }

      ISOsnSumm := ISOsnSumm - ISSumm24;
      ISOsnNds  := ISOsnNds  - ISNds24;
    }
  }

  ItogSumm2 := ItogSumm2 + ISOsnNds;
  LS24:= LS24 + ISNds24;
  ILS24 := ILS24 + ISNds24;
  LS2 := LS2 + ISOsnNds;
  LS5 := LS5 + Summ5;
  LSA := LSA + SummA;
end.
Ъ≤Ё@@@@@@@@@@@@@@@@@@@@Ё@@@@@@@@@@@@@@@@@@@@Ё@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ё@~@@@@@@@@@@Ё&&&&&&&&&&&&&&&&&Ё&&&&&&&&&&&&&&&&&&Ё&&&&&&&&&&&&&&&&Ё&&&&&&&&&&&&&&&&&&Ё&&&&&&&&&&&&&&&&Ё&&&&&&&&&&&&&&&&&&Ё&&&&&&&&&&&&&&&&ЁЪ≤
.[f
Ъ≤цддддддддддддддддддддаддддддддддддддддддддадддддддддддддддддддддддддддддддддддддддаддддддддддддадддддддддддддддддеддддддддддддддддддеддддддддддддддддеддддддддддддддддддеддддддддддддддддеддддддддддддддддддедддддддддддддддд╢Ъ≤
Ъ≤Ё┌▒┘┐▌ ╞╝ ╚╗АБЦ Э @np@                                                                          &&&&&&&&&&&&&&&&&Ё        X         Ё&&&&&&&&&&&&&&&&Ё         X        Ё&&&&&&&&&&&&&&&&Ё         X        Ё&&&&&&&&&&&&&&&&ЁЪ≤
Ъ≤юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддддддддаддддддддддддддддаддддддддддддддддддаддддддддддддддддаддддддддддддддддддаддддддддддддддддыЪ≤
.]f
.}
Ъ≤зддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбддддддддддддддддддбддддддддддддддддбддддддддддддддддддбддддддддддддддддбддддддддддддддддддбдддддддддддддддд©Ъ≤
Ъ≤Ё┌▒┘┐▌                                                                                          &&&&&&&&&&&&&&&&&Ё        X         Ё&&&&&&&&&&&&&&&&Ё         X        Ё&&&&&&&&&&&&&&&&Ё         X        Ё&&&&&&&&&&&&&&&&ЁЪ≤
Ъ≤юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддаддддддддддддддддддаддддддддддддддддаддддддддддддддддддаддддддддддддддддаддддддддддддддддддаддддддддддддддддыЪ≤
.}
.{CheckEnter BkPrZkAllVal
.}
.}


Ъ┬ ░Ц╙╝╒╝╓╗Б╔╚ЛЪ┬
Ъ┬ (╗╜╓╗╒╗╓Ц═╚Л╜К╘ ╞Ю╔╓╞Ю╗╜╗╛═Б╔╚Л)      ________________Ъ┬   Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└
Ъ┬                                             Ъ≤(╞╝╓╞╗АЛ)                                              (┬. ▌. ■═╛╗╚╗О)Ъ░

Ъ┬ ┐╚═╒╜К╘ ║ЦЕё═╚Б╔Ю                     ________________Ъ┬   Ъ└@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ└
Ъ┬                                             Ъ≤(╞╝╓╞╗АЛ)                                              (┬. ▌. ■═╛╗╚╗О)Ъ░
.endform

#doc
┼╜╗ё═ ╞╝╙Ц╞╝╙ c Ю═АГ╔Б╜К╛╗ АБ═╒╙═╛╗
#end
.linkform 'BkPrZkF_7' prototype is 'BkPrZkF'
.NameInList '┼╜╗ё═ ╞╝╙Ц╞╝╙ c Ю═АГ╔Б╜К╛╗ АБ═╒╙═╛╗ (2007ё.)'
.Group '┤═╙Ц╞╙╗ (│╔╚═ЮЦАЛ)'
.P 60

.create view vSFNums
from
    BookPrZk
  , KatOrg
  , KatState
  , SchFact SchFactS
  , KatSopr
  , SoprHoz
  , PlPor PlPor_AO
  , PlPor PlPor_RKO
  , DocPodot DocPodot_RKO
  , RashDoc
where
((
    nBookPrZk           == BookPrZk.nRec
AND BookPrZk.cSchFact   == SchFact.nRec
AND BookPrZk.cSchFactS  == SchFactS.nRec
AND BookPrZk.cOrg       == KatOrg.nRec
AND KatOrg.cState       == KatState.nRec
AND SchFact.nRec        == SpSchf.cSchFact
AND SchFact.nRec        == KatSopr.cSchFact
AND SchFactS.cSoprHoz   == SoprHoz.NRec
AND SoprHoz.cSoprDoc    == PlPor_RKO.nRec
AND cgDoc_0009          == DocPodot_RKO.TipDoc
AND PlPor_RKO.nRec      == DocPodot_RKO.cVtDoc
AND DocPodot_RKO.cPrDoc == PlPor_AO.nRec
AND cgDoc_0009          == RashDoc.TipDoc
AND PlPor_AO.NRec       == RashDoc.cSoprDoc
))
;
.defo landscape
.var
 LSA       : double;
 LS2       : double;
 LS5       : double;
 LS24      : double;
 LS_R      : double; // ┬Б╝ё╝╒═О АЦ╛╛═ ╞╝ ╚╗АБЦ ╞╝ Ю═АГ╔Б╜К╛ АБ═╒╙═╛
 LSRusNds  : double;
 ISRusNds20: double;
 ISRusNds10: double;
 ISNds24   : double;
 ISNds_R   : double; // ▒Ц╛╛═ █└▒ ╞╝ Ю═АГ╔Б╜К╛ АБ═╒╙═╛
 ISOsnNds  : double;
 ISDopNds  : double;
 ISSumm24  : double;
 ISSumm_R  : double; // ▒Ц╛╛═ А █└▒ ╞╝ Ю═АГ╔Б╜К╛ АБ═╒╙═╛
 ISOsnSumm : double;
 ISDopSumm : double;
 ItogSumm2 : double;
 ItogSumm5 : double;
 ILS24     : double;
 ILS_R     : double; // ┬Б╝ё╝╒═О АЦ╛╛═ ╞╝ ╝БГ╔БЦ ╞╝ Ю═АГ╔Б╜К╛ АБ═╒╙═╛

 strNum1      : String;
 strNum2      : String;
 strNum2_Copy : String;
 strNumRKO1: string;
 strNumRKO2: string;
 strAkt : string
 isBelarus: boolean;
 isRussia : boolean;
 IsBelZakon2007  : Boolean
 bIsRasch_Stavka : Boolean;
 dSFSost : date;
 exAttr  : iExtAttr;
.endvar
.{
.{CheckEnter BkPrZkVal
.fields
 If (RegTips=0,'┼╜╗ё═ ╞╝╙Ц╞╝╙','░╔╔АБЮ ╖═╞╗А╔╘ (╞╝╙Ц╞╙╗)')
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')

 MyInn
 FiltTxt

 CommonFormHeader
 If (RegTips=0,'┼█┬┐─ ▐▌┼⌠▐▌┼','░┘┘▒▓░ ┤─▐┬▒┘┴ (▐▌┼⌠▐┼┬)')
 MyOrg
 MyInn
 DateToStr(BegDate,'DD/MM/YYYY')
 DateToStr(EndDate,'DD/MM/YYYY')
 Nds1
 Nds2

 if (isRussia, '', strNum1)
 strNum2

 KontrNameNazn + if (not isBelarus, ' (' + vSFNums.KatState.Name + ')', '')
 KontrInn

 SummA
 ISOsnSumm
 ISOsnNds
 ISDopSumm
 ISDopNds

 ISSumm24
 ISNds24

 ISSumm_R
 ISNds_R

 LSA
 LS2
 LS5
 LS24
 LS_R

 ISummA
 ItogSumm2
 ItogSumm5
 ILS24
 ILS_R

 sGetTune('Boss')
 sGetTune('MainBuh')
.endfields
.[h OVERWRITE SKIP
.begin
 LSA  := 0.0;
 LS2  := 0.0;
 LS5  := 0.0;
 LS24 := 0.0;
 LS_R := 0.0;
 LSRusNds := 0.0;
end.
Ъ≤ ^ ╖═ ╞╔Ю╗╝╓ А @@@@@@@@@@ ╞╝ @@@@@@@@@@ ⌠██ @@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                    ▀╗АБ  @np@  ╗╖ _____
здддддддддддддддддбдддддддддддддддддбддддддддддддддддддддддддбдддддддддддбдддддддддддддддддбдддддддддддддддддбддддддддддддддддбдддддддддддддддбдддддддддддддддбдддддддддддддддбдддддддддддддддбддддддддддддддддбддддддддддддддд©
Ё       (1)       Ё        (2)      Ё          (3)           Ё    (4)    Ё       (5)       Ё      (6═)       Ё      (6║)      Ё      (7═)     Ё     (7║)      Ё     (8═)      Ё     (8║)      Ё      (9═)      Ё      (9║)     Ё
цдддддддддддддддддедддддддддддддддддеддддддддддддддддддддддддедддддддддддедддддддддддддддддедддддддддддддддддеддддддддддддддддедддддддддддддддедддддддддддддддедддддддддддддддедддддддддддддддеддддддддддддддддеддддддддддддддд╢Ъ≤
.]h
.begin
 LSA  := 0.0;
 LS2  := 0.0;
 LS5  := 0.0;
 LS24 := 0.0;
 LS_R := 0.0;
 LSRusNds   := 0.0;
 ISRusNds20 := 0.0;
 ISRusNds10 := 0.0;
 ItogSumm2  := 0.0;
 ItogSumm5  := 0.0;
 ILS24      := 0.0;
 ILS_R      := 0.0;
end.
Ъ┬^
                                                                         ▐Ю╗╚╝╕╔╜╗╔ 1
                                                                         ╙ ▐╝АБ═╜╝╒╚╔╜╗Н ▄█▒ ░│
                                                                         ╝Б 5.02.2007 Э 22

@~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@


 ▐╚═Б╔╚ЛИ╗╙-╞╝╙Ц╞═Б╔╚Л @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

 ⌠█▐ ╞╝╙Ц╞═Б╔╚О @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

 ▐╝╙Ц╞╙═ ╖═ ╞╔Ю╗╝╓ А @@@@@@@@@@ ╞╝ @@@@@@@@@@Ъ┬

Ъ≤здддддддддддддддддбдддддддддддддддддбддддддддддддддддддддддддбдддддддддддбдддддддддддддддддбддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд©
Ё                 Ё                 Ё                        Ё           Ё                 Ё                                              ┌ Б╝╛ Г╗А╚╔                                                                          Ё
Ё                 Ё                 Ё                        Ё           Ё                 цддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддд╢
Ё└═Б═ ╞Ю╗╝║Ю╔Б╔╜╗ОЁ   └═Б═ ╝╞╚═БК   Ё  █═╗╛╔╜╝╒═╜╗╔ ╞Ю╝╓═╒Ф═ Ё    ⌠█▐    Ё     ┌А╔ё╝       Ё                                   ╞╝╙Ц╞╙╗, ╝║╚═ё═╔╛К╔ ╜═╚╝ё╝╛ ╞╝ АБ═╒╙╔                                                           Ё
Ё╗ ╜╝╛╔Ю ╓╝╙Ц╛╔╜Б═Ё╗ ╜╝╛╔Ю ╓╝╙Ц╛╔╜Б═Ё                        Ё  ╞Ю╝╓═╒Ф═ Ё    ╞╝╙Ц╞╝╙,     цддддддддддддддддддддддддддддддддддбдддддддддддддддддддддддддддддддбдддддддддддддддддддддддддддддддбдддддддддддддддддддддддддддддддд╢
Ё                 Ё                 Ё                        Ё           Ё  ╒╙╚НГ═О █└▒    Ё               &&.%               Ё              &&.%             Ё             24%               Ё          ░═АГ╔Б╜═О АБ═╒╙═      Ё
Ё                 Ё                 Ё                        Ё           Ё                 цддддддддддддддддддддддддддддддддддедддддддддддддддддддддддддддддддедддддддддддддддддддддддддддддддедддддддддддддддддддддддддддддддд╢
Ё                 Ё                 Ё                        Ё           Ё                 Ё                 6                Ё               7               Ё               8               Ё                9               Ё
Ё                 Ё                 Ё                        Ё           Ё                 цдддддддддддддддддбддддддддддддддддедддддддддддддддбдддддддддддддддедддддддддддддддбдддддддддддддддеддддддддддддддддбддддддддддддддд╢
Ё                 Ё                 Ё                        Ё           Ё                 Ё   АБ╝╗╛╝АБЛ     Ё     АЦ╛╛═      Ё   АБ╝╗╛╝АБЛ   Ё    АЦ╛╛═      Ё  АБ╝╗╛╝АБЛ    Ё    АЦ╛╛═      Ё   АБ╝╗╛╝АБЛ    Ё    АЦ╛╛═      Ё
Ё                 Ё                 Ё                        Ё           Ё                 Ё    ╞╝╙Ц╞╝╙      Ё      █└▒       Ё    ╞╝╙Ц╞╝╙    Ё     █└▒       Ё   ╞╝╙Ц╞╝╙     Ё     █└▒       Ё    ╞╝╙Ц╞╝╙     Ё     █└▒       Ё
Ё                 Ё                 Ё                        Ё           Ё                 Ё    ║╔╖ █└▒      Ё                Ё    ║╔╖ █└▒    Ё               Ё   ║╔╖ █└▒     Ё               Ё    ║╔╖ █└▒     Ё               Ё
цдддддддддддддддддедддддддддддддддддеддддддддддддддддддддддддедддддддддддедддддддддддддддддедддддддддддддддддеддддддддддддддддедддддддддддддддедддддддддддддддедддддддддддддддедддддддддддддддеддддддддддддддддеддддддддддддддд╢
Ё        1        Ё         2       Ё          3             Ё     4     Ё        5        Ё        6═       Ё       6║       Ё      7═       Ё       7║      Ё      8═       Ё       8║      Ё       9═       Ё       9║      Ё
цдддддддддддддддддедддддддддддддддддеддддддддддддддддддддддддедддддддддддедддддддддддддддддедддддддддддддддддеддддддддддддддддедддддддддддддддедддддддддддддддедддддддддддддддедддддддддддддддеддддддддддддддддеддддддддддддддд╢Ъ≤
.{CheckEnter BkPrZkMain
.if TipUsersGroup
.end //if
.if PodrGroup
.end
.if GroupBKObjectStroi
.end
.{CheckEnter BookZk
.}
.begin
  strNum1  := '';
  strNum2  := '';
  strAkt   := '';
  ISNds24  := 0;
  ISSumm24 := 0;
  ISNds_R  := 0;
  ISSumm_R := 0;
  ISOsnSumm := Summ1;
  ISOsnNds  := Summ2;
  ISDopSumm := Summ4;
  ISDopNds  := Summ5;

  IsBelZakon2007 := FALSE;

  isBelarus := True;
  isRussia  := False;

  if (vSFNums.GetFirst BookPrZk = 0)
  {
    if (vSFNums.GetFirst KatState = 0)
    {
      IsBelarus := Trim(vSFNums.KatState.KOD) = #KS_BELARUS;
      IsRussia  := Trim(vSFNums.KatState.KOD) = #KS_RUSSIA;
    }

    // ░╔ё╗АБЮ═Ф╗О ┐▓└ ╒ ╙╜╗ё╔ ╞╝╙Ц╞╝╙
    if (vSFNums.BookPrZk.SubTip = 5)
    {
      IsBelarus := False;
      IsRussia  := False;
      strNum1 := DateToStr(vSFNums.BookPrZk.dOpr, 'DD/MM/YYYY') + ' Э' + vSFNums.BookPrZk.Num;
      strNum2 := exAttr.sGetAttr(coKatSopr, vSFNums.BookPrZk.cSopr, sGetTune('Nalog.Bel.Attr_GTDPlat'));

      if (Trim(strNum2) = '')
        strNum2 := '-';
    }
    else
    {
      if (vSFNums.SchFact.SubTip AND 16)<>0
        IsBelZakon2007 := if (vSFNums.GetFirst SchFact = 0
                            , if (Date(1, 1, 2007) <= vSFNums.SchFact.dFact, TRUE, FALSE)
                            , FALSE) AND wGetTune('Nalog.UchPolicy') = 0;
      else
        IsBelZakon2007 := if (vSFNums.GetFirst SchFactS= 0
                            , if (Date(1, 1, 2007) <= vSFNums.SchFactS.dFact, TRUE, FALSE)
                            , FALSE) AND wGetTune('Nalog.UchPolicy') = 0;

      strAkt  := if (vSFNums.GetFirst SchFact = 0,
                     if(vSFNums.KatSopr.VidSopr <> cgDoc_0111
                        , if(vSFNums.KatSopr.VidSopr = cgDoc_0101 OR vSFNums.KatSopr.VidSopr = cgDoc_0102
                          OR vSFNums.KatSopr.VidSopr = cgDoc_0103 OR vSFNums.KatSopr.VidSopr = cgDoc_0106
                          OR vSFNums.KatSopr.VidSopr = cgDoc_0201 OR vSFNums.KatSopr.VidSopr = cgDoc_0202
                          OR vSFNums.KatSopr.VidSopr = cgDoc_0203
                              , ' █═╙╚═╓╜═О ╝Б '+ DateToStr(vSFNums.KatSopr.dSopr, 'DD/MM/YYYY') + ' Э ' + vSFNums.KatSopr.NSopr + ' '
                              , '' )
                        , if (vSFNums.KatSopr.wADoc <> cgCustomAkt
                              , ' ─╙Б ╝Б '
                              , ' ┐▓└ ╝Б ')
                     + DateToStr(vSFNums.KatSopr.dSopr, 'DD/MM/YYYY') + ' Э ' + vSFNums.KatSopr.NSopr + ' '), '');

      strNum1 := if (vSFNums.GetFirst SchFact = 0,
                     if (ZeroPrint,
                       LPadCh(vSFNums.SchFact.Num, ' ', Length(vSFNums.SchFact.Num) + 1),
                       LPadCh(Ltrim(vSFNums.SchFact.Num, '0'), ' ', Length(vSFNums.SchFact.Num) + 1)), '');

      if (strAkt <> '' AND Pos ('─╙Б', strAkt) <> 0)
      {
        dSFSost := vSFNums.SchFact.dFact;

        strNum1 := strAkt + ', ▒■-1 Э' + strNum1 + ' ╝Б ' + if (longint(dSFSost) = 0, '', DateToStr(dSFSost, 'DD/MM/YYYY'));
      }
      else
        strNum1 := if (strAkt <> '', strAkt, if (longint(DatOpr) = 0, '', DateToStr(DatOpr, 'DD/MM/YYYY')) + if (strNum1 = '', '', ' Э ' + strNum1));

      strNum2 := if (vSFNums.GetFirst SchFactS = 0,
                     if (ZeroPrint,
                       LPadCh(vSFNums.SchFactS.Num, ' ', Length(vSFNums.SchFactS.Num) + 1),
                       LPadCh(Ltrim(vSFNums.SchFactS.Num, '0'), ' ', Length(vSFNums.SchFactS.Num) + 1)), '');

      bIsRasch_Stavka := False;

      if (vSFNums.GetFirst SchFactS = 0)
        if (vSFNums.SchFactS.TipUser = 7318) // ▐╚═Б╔╕ ╞╝ Ю═АГ╔Б╜╝╘ АБ═╒╙╔, ╜═╚╝ё╗ ╜╔ АБ═╜╓═ЮБ╜К╔
          bIsRasch_Stavka := True;

      if (vSFNums.GetFirst SchFact = 0)
        if (vSFNums.SchFact.TipUser = 7304) // █═╙╚═╓╜═О ╞╝АБ═╒И╗╙═ ╞╝ Ю═АГ╔Б╜╝╘ АБ═╒╙╔, ╜═╚╝ё╗ ╜╔ АБ═╜╓═ЮБ╜К╔
          bIsRasch_Stavka := True;

      if (bIsRasch_Stavka)
      {
        ISSumm_R := Summ1 + Summ4;
        ISNds_R  := Summ2 + Summ5;

        ISOsnSumm := 0;
        ISOsnNds  := 0;
        ISDopSumm := 0;
        ISDopNds  := 0;
      }
      else
      {
        vSFNums._LOOP SpSchf
          if (vSFNums.SpSchf.PercNDS = 24)
          {
            ISNds24  := ISNds24  + vSFNums.SpSchf.NDS;
            ISSumm24 := ISSumm24 + vSFNums.SpSchf.Sum;
          }

        ISOsnSumm := ISOsnSumm - ISSumm24;
        ISOsnNds  := ISOsnNds  - ISNds24;
      }

      strNumRKO1 := '';
      strNumRKO2 := '';

      if (vSFNums.GetFirst SoprHoz = 0)
        if (vSFNums.GetFirst PlPor_RKO = 0)
          if (vSFNums.GetFirst PlPor_AO = 0)
            if (vSFNums.PlPor_AO.TiDkGal = cgDoc_0009) // ═╒═╜А╝╒К╘ ╝БГ╔Б
              {
                if (vSFNums.GetFirst RashDoc = 0)
                  strNumRKO1 := '≈╔╙ Э ' + vSFNums.RashDoc.NomKvit;


                strNumRKO1 := strNumRKO1 + ' ─╒.╝БГ╔Б Э ' + vSFNums.PlPor_AO.NoDok
                                   + ' ╝Б ' + DateToStr(vSFNums.PlPor_AO.DatOb, 'DD/MM/YYYY ');

                strNumRKO2 := '░┼▌ Э ' + vSFNums.PlPor_RKO.NoDok
                                   + ' ╝Б ' + DateToStr(vSFNums.PlPor_RKO.DatOb, 'DD/MM/YYYY ')

              }

      strNum1 := Trim(if (Trim(strNumRKO1) <> '', strNumRKO1, strNum1));

      if (strNum1 = '')
        strNum2_Copy := strNum2;

      strNum2 := if (isRussia,
                   if (LongInt(DatOpl) = 0, '', DateToStr(DatOpl, 'DD/MM/YYYY') +
                                                if (strNum2 = '', '', ' Э ' + strNum2)),
                   if (IsBelZakon2007, '-',
                     if (Trim(strNumRKO2) <> '', strNumRKO2,
                       if (LongInt(DatOpl) = 0, '', DateToStr(DatOpl, 'DD/MM/YYYY')) +
                                                    if (strNum2 = '', '', ' Э ' + strNum2))));

      strNum2 := Trim(strNum2);

      // ▒╗БЦ═Ф╗О, ╙╝ё╓═ IsBelZakon2007, ═ Ц ╖═╞╗А╗ Б╝╚Л╙╝ ААК╚╙═ ╜═ ╞╚═Б╔╕ SchFactS.
      // ▒Ц╛╛╝╒═О Ю═╖╜╗Ф═, ╜═╞Ю╗╛╔Ю
      if ((strNum1 = '') and ((strNum2 = '-') or (strNum2 = '') or (strNum2 = 'Э')))
        strNum2 := if (LongInt(DatOpl) = 0, '', DateToStr(DatOpl, 'DD/MM/YYYY')) +
                   if (strNum2_Copy = '', '', ' Э ' + strNum2_Copy)

      if (Trim(strNum2) = '')
        strNum2 := '-';
    }
  }

  ItogSumm2 := ItogSumm2 + ISOsnNds;
  ItogSumm5 := ItogSumm5 + ISDopNds;
  LS24  := LS24  + ISNds24;
  ILS24 := ILS24 + ISNds24;
  LS_R  := LS_R  + ISNds_R;
  ILS_R := ILS_R + ISNds_R;
  LS2   := LS2   + ISOsnNds;
  LS5   := LS5   + ISDopNds;
  LSA   := LSA   + SummA;
end.
Ъ≤Ё@@@@@@@@@@@@@@@@@Ё@@@@@@@@@@@@@@@@@Ё@@@@@@@@@@@@@@@@@@@@@@@@Ё@~@@@@@@@@@Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&&.&&Ё&'&&&&&&&&&&&.&&Ё&'&&&&&&&&&&.&&Ё&'&&&&&&&&&&&.&Ё&'&&&&&&&&&&.&&Ё&'&&&&&&&&&&.&&Ё&'&&&&&&&&&&&.&&Ё&'&&&&&&&&&&.&&ЁЪ≤
.[f
Ъ≤цдддддддддддддддддадддддддддддддддддаддддддддддддддддддддддддадддддддддддадддддддддддддддддедддддддддддддддддеддддддддддддддддедддддддддддддддедддддддддддддддедддддддддддддддедддддддддддддддеддддддддддддддддеддддддддддддддд╢
Ё┌▒┘┐▌ ╞╝ ╚╗АБЦ Э @np@                                                  &'&&&&&&&&&&&&&&.&&Ё        X        Ё&'&&&&&&&&&&&.&&Ё       X       Ё&'&&&&&&&&&&.&&Ё       X       Ё&'&&&&&&&&&&.&&Ё       X        Ё&'&&&&&&&&&&.&&Ё
юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддадддддддддддддддддаддддддддддддддддадддддддддддддддадддддддддддддддадддддддддддддддадддддддддддддддаддддддддддддддддадддддддддддддддыЪ≤
.]f
.}
Ъ≤зддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддбдддддддддддддддддбддддддддддддддддбдддддддддддддддбдддддддддддддддбдддддддддддддддбдддддддддддддддбддддддддддддддддбддддддддддддддд©
Ё┌▒┘┐▌                                                                  &'&&&&&&&&&&&&&&.&&Ё        X        Ё&'&&&&&&&&&&&.&&Ё       X       Ё&'&&&&&&&&&&.&&Ё       X       Ё&'&&&&&&&&&&.&&Ё       X        Ё&'&&&&&&&&&&.&&Ё
юддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддддадддддддддддддддддаддддддддддддддддадддддддддддддддадддддддддддддддадддддддддддддддадддддддддддддддаддддддддддддддддадддддддддддддддыЪ≤
.}
.{CheckEnter BkPrZkAllVal
.}
.}


Ъ┬ ░Ц╙╝╒╝╓╗Б╔╚Л
 (╗╜╓╗╒╗╓Ц═╚Л╜К╘ ╞Ю╔╓╞Ю╗╜╗╛═Б╔╚Л)      ________________   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ┬
Ъ≤                                                                       (╞╝╓╞╗АЛ)                    (┬. ▌. ■═╛╗╚╗О)Ъ≤

Ъ┬ ┐╚═╒╜К╘ ║ЦЕё═╚Б╔Ю                     ________________   @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@Ъ┬
Ъ≤                                                                       (╞╝╓╞╗АЛ)                    (┬. ▌. ■═╛╗╚╗О)Ъ≤
.endform
