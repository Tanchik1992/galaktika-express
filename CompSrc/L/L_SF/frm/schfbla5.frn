/*
╔═══════════════════════════════════════════════════════════════════════════╗
║                     (c) 1994,2000 корпорация ГАЛАКТИКА                    ║
║ Проект        : ГАЛАКТИКА                                                 ║
║ Система       : Оперативный контур                                        ║
║ Версия        : 5.8                                                       ║
║ Назначение    : Печать счетов-фактур (бланки РБ)                          ║
║ Ответственный : Полежай Алексей Геннадьевич                               ║
║ Параметры     : нет                                                       ║
╚═══════════════════════════════════════════════════════════════════════════╝
*/
#declare r_(Sum_)
if (abs(#Sum_) > 0.001,
    if((cSchfVal <> 0 and (not isNDEEqual)), string(#Sum_,0,2), string(#Sum_,0,0)), '')
#end

#doc
Счет-фактура по НДС
#end
.linkform 'Schfrees_Bel_01' prototype is 'Schfrees'
.NameInList 'Счет-фактура по НДС'
.Group 'Бланки счетов-фактур (Беларусь)'
!-------------------------------------------------------------------
.create view vSchFact
from
  KatDoc  (ReadOnly)
, KatSopr (ReadOnly)
where ((
    cSopr           == KatSopr.nRec
and KatSopr.VidSopr == KatDoc.TiDkGal
));
!-------------------------------------------------------------------
.var
  strSoprDoc: string[80];
.endvar
!-------------------------------------------------------------------
.begin
  strSoprDoc := '';
end.
.if SetDateRange
.end
.{CheckEnter Schf
.if HeaderGroup
.end
.if Dopol
.end
.{CheckEnter SchfKatSopr
.begin
  if (vSchFact.GetFirst KatSopr = 0)
    if (vSchFact.GetFirst KatDoc = 0)
      strSoprDoc := vSchFact.KatDoc.Name + ' от ' +
        DateToStr(dSopr, '"DD" Mon YYYY г.') + ' N' + nSopr;
end.
.{CheckEnter SchfSpSopr
.{CheckEnter SchfSpSoprNalog
.} // SchfSpSoprNalog
.} // SchfSpSopr
.} // SchfKatSopr
.fields
  NSF
  if (longint(dFact)<>0, DateToStr(dFact, '"DD" Mon YYYY г.'), '')

  if (Direct = 1, MyOrgName, OrgName)
  If (Direct = 1, MyOrgAddr, OrgAddr)
  UnnOrInn
  If (Direct = 1 ,MyOrgINN, OrgINN)
  strSoprDoc

  if (Direct <> 1, MyOrgName, OrgName)
  if (Direct <> 1, MyOrgAddr, OrgAddr)
  UnnOrInn
  if (Direct <> 1, MyOrgINN, OrgINN)
  if (isNDEEqual, sValNDE, SimvolV) if (isNDEEqual, sValNDE, SimvolV)
  if (isNDEEqual, sValNDE, SimvolV) if (isNDEEqual, sValNDE, SimvolV)
.endfields
 И  1-й экз. - покупателю (заказчику)                                 Типовая Форма № СФ-1 И
 И  2-й экз. - продавцу (подрядчику)                                            Приложение И
 И                                                   к постановлению Министерства финансов И
 И                                                                     Республики Беларусь И
 И                                                           ____________2003 № __________ И

 И Серия И

 И                            Счет-фактура по НДС №  Д@@@@@@@@@@@@ Д И
 И                                  Д@@@@@@@@@@@@@@@@@@@@@@ Д        И

 И Продавец(подрядчик) работ(услуг)  Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д И
 И Адрес  Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д И
 И @@@ продавца(подрядчика)      Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д И
 И Счет-фактура прилагается      Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д И
 И Покупатель(заказчик) работ(услуг) Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д И
 И Адрес  Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д И
 И @@@ покупателя(заказчика)     Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д И

 Ш┌──────────────────────────────────────────────────────┬──────────────────────┬───────────────────┬──────┬────────────────────┬──────────────────────┐ Ш
 Ш│Наименование выполненных работ (оказанных услуг)      │Стоимость работ       │В том числе акциз, │Ставка│Сумма НДС,          │Стоимость             │ Ш
 Ш│                                                      │(услуг), всего без    │@@@@@@@@@@@@@@@@@@@│НДС,  │@@@@@@@@@@@@@@@@@@@@│работ (услуг),        │ Ш
 Ш│                                                      │НДС, @@@@@@@@@@@@@@@@@│                   │%     │                    │всего с учетом НДС,   │ Ш
 Ш│                                                      │                      │                   │      │                    │@@@@@@@@@@@@@@@@@@@@@@│ Ш
 Ш├──────────────────────────────────────────────────────┼──────────────────────┼───────────────────┼──────┼────────────────────┼──────────────────────┤ Ш
 Ш│                        1                             │           2          │         3         │   4  │          5         │           6          │ Ш
 Ш├──────────────────────────────────────────────────────┼──────────────────────┼───────────────────┼──────┼────────────────────┼──────────────────────┤ Ш
.{CheckEnter SpSchf
.fields
  SpName
  #r_(SpSumNoNDS)
  #r_(SpAkciz)
  if (SpExistNDS or SpPerc <> 0, string(SpPerc, 3, 0) + ' %', '')
  #r_(SpNDS)
  #r_(SpSumma)
.endfields
 Ш│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│&#&&&&&&&&&&&&&&&&&&&&│&#&&&&&&&&&&&&&&&&&│@~#@@@│&#&&&&&&&&&&&&&&&&&&│&#&&&&&&&&&&&&&&&&&&&&│ Ш
.} // SpSchf
.{CheckEnter KazSt
.}
.{CheckEnter NalogFinSchf
.} // NalogFinSchf
.if ItogoGroup       // итого по группе. Если true, то не печатать Итого
.end
.fields
  #r_(ItSumNoNDS)
  #r_(ItAkciz)
  #r_(ItNDS)
  #r_(ItSumma)
.endfields
 Ш├──────────────────────────────────────────────────────┼──────────────────────┼───────────────────┼──────┼────────────────────┼──────────────────────┤ Ш
 Ш│Итого                                                 │&#&&&&&&&&&&&&&&&&&&&&│&#&&&&&&&&&&&&&&&&&│      │&#&&&&&&&&&&&&&&&&&&│&#&&&&&&&&&&&&&&&&&&&&│ Ш
 Ш└──────────────────────────────────────────────────────┴──────────────────────┴───────────────────┴──────┴────────────────────┴──────────────────────┘ Ш
.fields
  strNDS
  strSumma
  Director
  Main_Buh
.endfields

 Ш  Cумма НДС                                              Д @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д Ш
 Ш                                                           прописью Ш
 Ш  Всего выполнено работ(оказано услуг) на сумму с НДС    Д @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д Ш
 Ш                                                           прописью Ш
        Ш
       Руководитель организации(индивидуальный предприниматель)                        Главный бухгалтер(реквизиты свидетельства о государственной
                                                                                       регистрации индивидуального предпринимателя)
                                  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                      @@@@@@@@@@@@@@@@@@@@@@@@@@@@@
       ────────────────────────────────────────────────────────                        ───────────────────────────────────────────────────────────
                ПОДПИСЬ                Ф.И.О.                                                   ПОДПИСЬ                Ф.И.О.
                М.П.

       Выдал___________________________________________________                        Получил____________________________________________________
       подпись ф.и.о. ответственного лица от продавца (подрядчика)                     подпись ф.и.о. ответственного лица от покупателя (заказчика)
       Дата выдачи                                                                     Дата получения
                  _____________________                                                             _____________________
                    число, месяц, год                                                                  число, месяц, год
        Ш

.} // Schf
.endform

#doc
Счет-фактура по НДС (для бланка)
#end
.linkform 'Schfrees_Bel_02' prototype is 'Schfrees'
.NameInList 'Счет-фактура по НДС (для бланка)'
.Group 'Бланки счетов-фактур (Беларусь)'
.Defo Portrait
!-------------------------------------------------------------------
.create view vSchFact
from
  KatDoc  (ReadOnly)
, KatSopr (ReadOnly)
where ((
    cSopr           == KatSopr.nRec
and KatSopr.VidSopr == KatDoc.TiDkGal
));
!-------------------------------------------------------------------
.var
  strSoprDoc: string[80];
.endvar
!-------------------------------------------------------------------
.begin
  strSoprDoc := '';
end.
.if SetDateRange
.end
.{CheckEnter Schf
.if HeaderGroup
.end
.if Dopol
.end
.{CheckEnter SchfKatSopr
.begin
  if (vSchFact.GetFirst KatSopr = 0)
    if (vSchFact.GetFirst KatDoc = 0)
      strSoprDoc := vSchFact.KatDoc.Name + ' от ' +
        DateToStr(dSopr, '"DD" Mon YYYY г.') + ' N' + nSopr;
end.
.{CheckEnter SchfSpSopr
.{CheckEnter SchfSpSoprNalog
.} // SchfSpSoprNalog
.} // SchfSpSopr
.} // SchfKatSopr
.fields
  if (longint(dFact)<>0, DateToStr(dFact, '"DD" Mon YYYY г.'), '')

  if (Direct = 1, MyOrgName, OrgName)
  If (Direct = 1, MyOrgAddr, OrgAddr)
  UnnORInn
  If (Direct = 1 ,MyOrgINN, OrgINN)
  strSoprDoc

  if (Direct <> 1, MyOrgName, OrgName)
  if (Direct <> 1, MyOrgAddr, OrgAddr)
  UnnORInn
  if (Direct <> 1, MyOrgINN, OrgINN)
  if (isNDEEqual, sValNDE, SimvolV) if (isNDEEqual, sValNDE, SimvolV)
  if (isNDEEqual, sValNDE, SimvolV) if (isNDEEqual, sValNDE, SimvolV)
.endfields







 И                                  Д@@@@@@@@@@@@@@@@@@@@@@ Д        И

 И Продавец(подрядчик) работ(услуг)  Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д И
 И Адрес  Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д И
 И @@@ продавца(подрядчика)      Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д И
 И Счет-фактура прилагается      Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д И
 И Покупатель(заказчик) работ(услуг) Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д И
 И Адрес  Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д И
 И @@@ покупателя(заказчика)     Д@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д И

 Ш┌─────────────────────────────────────────────┬──────────────────────┬───────────────────┬──────┬────────────────────┬──────────────────────┐ Ш
 Ш│Наименование выполненных работ               │Стоимость работ       │В том числе акциз, │Ставка│Сумма НДС,          │Стоимость             │ Ш
 Ш│(оказанных услуг)                            │(услуг), всего без    │@@@@@@@@@@@@@@@@@@@│НДС,  │@@@@@@@@@@@@@@@@@@@@│работ (услуг),        │ Ш
 Ш│                                             │НДС, @@@@@@@@@@@@@@@@@│                   │%     │                    │всего с учетом НДС,   │ Ш
 Ш│                                             │                      │                   │      │                    │@@@@@@@@@@@@@@@@@@@@@@│ Ш
 Ш├─────────────────────────────────────────────┼──────────────────────┼───────────────────┼──────┼────────────────────┼──────────────────────┤ Ш
 Ш│                        1                    │           2          │         3         │   4  │          5         │           6          │ Ш
 Ш├─────────────────────────────────────────────┼──────────────────────┼───────────────────┼──────┼────────────────────┼──────────────────────┤ Ш
.{CheckEnter SpSchf
.fields
  SpName
  #r_(SpSumNoNDS)
  #r_(SpAkciz)
  if (SpExistNDS or SpPerc <> 0, string(SpPerc, 3, 0) + ' %', '')
  #r_(SpNDS)
  #r_(SpSumma)
.endfields
 Ш│@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@│&#&&&&&&&&&&&&&&&&&&&&│&#&&&&&&&&&&&&&&&&&│@~#@@@│&#&&&&&&&&&&&&&&&&&&│&#&&&&&&&&&&&&&&&&&&&&│ Ш
.} // SpSchf
.{CheckEnter KazSt
.}
.{CheckEnter NalogFinSchf
.} // NalogFinSchf
.if ItogoGroup       // итого по группе. Если true, то не печатать Итого
.end
.fields
  #r_(ItSumNoNDS)
  #r_(ItAkciz)
  #r_(ItNDS)
  #r_(ItSumma)
.endfields
 Ш├─────────────────────────────────────────────┼──────────────────────┼───────────────────┼──────┼────────────────────┼──────────────────────┤ Ш
 Ш│Итого                                        │&#&&&&&&&&&&&&&&&&&&&&│&#&&&&&&&&&&&&&&&&&│      │&#&&&&&&&&&&&&&&&&&&│&#&&&&&&&&&&&&&&&&&&&&│ Ш
 Ш└─────────────────────────────────────────────┴──────────────────────┴───────────────────┴──────┴────────────────────┴──────────────────────┘ Ш
.fields
  strNDS
  strSumma
  Director
  Main_Buh
.endfields

 Ш  Cумма НДС                                              Д @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д Ш
 Ш                                                           прописью Ш
 Ш  Всего выполнено работ(оказано услуг) на сумму с НДС    Д @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Д Ш
 Ш                                                           прописью Ш
        Ш
       Руководитель организации(индивидуальный предприниматель)                  Главный бухгалтер(реквизиты свидетельства о государственной
                                                                                 регистрации индивидуального предпринимателя)
                                  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                @@@@@@@@@@@@@@@@@@@@@@@@@@@@@
       ────────────────────────────────────────────────────────                  ───────────────────────────────────────────────────────────
                ПОДПИСЬ                Ф.И.О.                                             ПОДПИСЬ                Ф.И.О.
                М.П.
       Выдал___________________________________________________                  Получил____________________________________________________
       подпись ф.и.о. ответственного лица от продавца (подрядчика)               подпись ф.и.о. ответственного лица от покупателя (заказчика)
       Дата выдачи                                                               Дата получения
                  _____________________                                                       _____________________
                    число, месяц, год                                                            число, месяц, год
        Ш

.} // Schf
.endform
