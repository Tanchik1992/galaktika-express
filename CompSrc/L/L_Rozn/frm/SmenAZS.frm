#doc
Сменный отчет АЗС
#end
.form  'SmenAZS'
.hide
!#include format2.frn
.var
  ZeroSim : String[1];
  Density, Density1 : Double;
.endvar
.begin
 ZeroSim := '-';  //символ вместо 0
end.
.fields
  Дата :Date

  Организация
  Организация_УНН
  Организация_ОКПО
  Организация_ОКДП
  Организация_Банк

  prLitrKg :Byte   //способ показа результатов (литры/кг)
  Kol_Pr           //число знаков для количества
  Cena_Pr          //число знаков для цен

! КОЛОНКИ, ПЫЛЕСОСЫ
!.{
   тип_ГСМ_1
   баркод_ГСМ_1
   Pезервуар_1

   номер_резервуара

   Остаток_на_начало_смены_резервуар : double
   Остаток_на_начало_смены_резервуар_деньги : double

   Остаток_на_конец_смены_резервуар : double
   Остаток_на_конец_смены_резервуар_деньги : double

   Счетчики_Нач_см_резервуар : double
   Счетчики_Кон_см_резервуар : double
   Поступило_за_смену : double
   Естественная_убыль_за_смену : double

   Уровень_топлива_в_см : double
   Уровень_воды_в_см : double
   плотность_1 : double
   температура_1 : double

! .{
    номер_устройства_ТРК_колонка

    Счетчики_Нач_см_колонка : double
    Счетчики_Кон_см_колонка : double

    погрешность_ТРК : double
! .}

!.}


! ПРИХОД ПО НАКЛАДНЫМ
!.{
   номер_ТТН

   тип_ГСМ_3
   баркод_ГСМ_3
   Pезервуар_3

   Поставщик

   вес_нетто : double
   вес_тары : double
   плотность_3 : double
   температура_3 : double

   количество_учетное : double
   количество_фактическое : double
!.}

! ПО ВИДАМ РЕАЛИЗАЦИИ (рубли)
!.{
   тип_ГСМ_4
   баркод_ГСМ_4
   Pезервуар_4

! .{
    нал_реализация_литры_4 : double
    нал_реализация_деньги_4 : double

    безнал_реализация_литры_4 : double
    безнал_реализация_деньги_4 : double

    технологический_отпуск_литры_4 : double

    наличная_цена_4 : double
    безналичная_цена_4 : double
! .}
!.}
.endfields
  Дата  ^

  Организация       ^
  Организация_УНН   ^
  Организация_ОКПО  ^
  Организация_ОКДП  ^
  Организация_Банк  ^

  prLitrKg  ^

  Kol_Pr    ^
  Cena_Pr   ^

===============================================================================
таблица: КОЛОНКИ, ПЫЛЕСОСЫ
===============================================================================
.{
  тип_ГСМ_1      ^
  баркод_ГСМ_1   ^
  Pезервуар_1    ^

  номер_резервуара  ^

  Остаток_на_начало_смены_резервуар         ^
  Остаток_на_начало_смены_резервуар_деньги  ^

  Остаток_на_конец_смены_резервуар          ^
  Остаток_на_конец_смены_резервуар_деньги   ^

  Счетчики_Нач_см_резервуар          ^
  Счетчики_Кон_см_резервуар          ^

  Поступило_за_смену                 ^
  Естественная_убыль_за_смену        ^

  Уровень_топлива_в_см               ^
  Уровень_воды_в_см                  ^
  плотность_1                        ^
  температура_1                      ^

.begin
  Density := 1;
  if плотность_1 <> 0.0
   Density := плотность_1;
end.
.{
   ____________________________________________________________________________
   номер_устройства_ТРК_колонка  ^

   Счетчики_Нач_см_колонка       ^
   Счетчики_Кон_см_колонка       ^

   погрешность_ТРК               ^
.}

-------------------------------------------------------------------------------
.}


===============================================================================
таблица: ПРИХОД ПО НАКЛАДНЫМ
===============================================================================
.{
   номер_ТТН  ^

   тип_ГСМ_3      ^
   баркод_ГСМ_3   ^
   Pезервуар_3    ^

   Поставщик  ^

   вес_нетто               ^
   вес_тары                ^
   плотность_3             ^
   температура_3           ^

.begin
  Density1 := 1;
  if плотность_3 <> 0.0
   Density1 := плотность_3;
end.
   количество_учетное      ^
   количество_фактическое  ^
-------------------------------------------------------------------------------
.}


===============================================================================
таблица: ПО ВИДАМ РЕАЛИЗАЦИИ (рубли)
===============================================================================
.{
   тип_ГСМ_4      ^
   баркод_ГСМ_4   ^
   Pезервуар_4    ^

.{
   ____________________________________________________________________________
   нал_реализация_литры_4           ^
   нал_реализация_деньги_4          ^

   безнал_реализация_литры_4        ^
   безнал_реализация_деньги_4       ^

   технологический_отпуск_литры_4   ^

   наличная_цена_4                  ^
   безналичная_цена_4               ^
.}
-------------------------------------------------------------------------------
.}
.endform


#doc
Сменный отчет АЗС
#end
.LinkForm 'Сменный отчет АЗС (форма №25-НП от 15.09.1985)' prototype is SmenAZS
.Defo Landscape
.P 57
.Set Filler = '-'
.var
  Itigo_SumBeg, Itigo_SumEnd,
  ItogoNal, ItogoNalSum, ItogoBNal, ItogoBNalSum, ItogoTeh : Double;
  tLitrKg : string[11];
.endvar
.{?Internal; (prLitrKg = 1)
.begin
  tLitrKg := 'литры';
end.
.}
.{?Internal; (prLitrKg = 2)
.begin
  tLitrKg := 'кг';
end.
.}
.{?Internal; (prLitrKg = 3)
.begin
  tLitrKg := 'литры/кг';
end.
.}
.fields
  Организация

  DateToStr(Дата, 'DD mon YYYY г. (day)')
.endfields
Госкомнефтепродукт _________________________________                                         Форма № 25-НП
_________________________________________ управление
__________________________________________ нефтебаза                                            Утверждена
____________________________________________________                             Госкомнефтепродуктом СССР
АЗС  З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ З                                  15 августа 1985 года
                                                                                             № 06/21-8-446

Состав смены (Ф.И.О.)
Ст. смены  _________________________________________
Операторы: _________________________________________
           _________________________________________


                                         БСменный отчет АЗС № _______ Б

@~@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@


                                                                                            Смена  с ___ ч
                                                                                                  до ___ ч
                                                                                            Плашки № ____

.begin
  Itigo_SumBeg := 0;
end.
.{
.fields
  tLitrKg
  tLitrKg
  tLitrKg
  tLitrKg
  tLitrKg
  tLitrKg
  tLitrKg
  tLitrKg
  tLitrKg
  tLitrKg
  tLitrKg


!.{?Internal; (prLitrKg = 1)
  тип_ГСМ_1
  баркод_ГСМ_1

  if(Остаток_на_начало_смены_резервуар <> 0.0,
     DoubleToStr(Остаток_на_начало_смены_резервуар, Kol_Pr), ZeroSim)
  if(Поступило_за_смену <> 0.0, DoubleToStr(Поступило_за_смену / Density, Kol_Pr), ZeroSim)

  if(Счетчики_Кон_см_резервуар <> 0.0,
     DoubleToStr(Счетчики_Кон_см_резервуар, Kol_Pr), ZeroSim)
  if(Счетчики_Нач_см_резервуар <> 0.0,
     DoubleToStr(Счетчики_Нач_см_резервуар, Kol_Pr), ZeroSim)
  if((Счетчики_Кон_см_резервуар - Счетчики_Нач_см_резервуар) <> 0.0,
      DoubleToStr(Счетчики_Кон_см_резервуар - Счетчики_Нач_см_резервуар, Kol_Pr),
     ZeroSim)


  номер_резервуара
  Уровень_топлива_в_см + Уровень_воды_в_см * 10
  Уровень_воды_в_см * 10
  Уровень_топлива_в_см * 10

  if(Остаток_на_конец_смены_резервуар <> 0.0,
     DoubleToStr(Остаток_на_конец_смены_резервуар, Kol_Pr), ZeroSim)
  if((Остаток_на_начало_смены_резервуар + Поступило_за_смену / Density  -
      (Счетчики_Кон_см_резервуар - Счетчики_Нач_см_резервуар)) <> 0.0,
     DoubleToStr(Остаток_на_начало_смены_резервуар + Поступило_за_смену / Density -
                 (Счетчики_Кон_см_резервуар - Счетчики_Нач_см_резервуар), Kol_Pr),
     ZeroSim)

  if (Остаток_на_конец_смены_резервуар -
      (Остаток_на_начало_смены_резервуар + Поступило_за_смену / Density -
       (Счетчики_Кон_см_резервуар - Счетчики_Нач_см_резервуар)) > 0.0,
      DoubleToStr(Остаток_на_конец_смены_резервуар -
                  (Остаток_на_начало_смены_резервуар + Поступило_за_смену / Density -
                  (Счетчики_Кон_см_резервуар - Счетчики_Нач_см_резервуар)),
                  Kol_Pr), ZeroSim)
  if ((Остаток_на_начало_смены_резервуар + Поступило_за_смену / Density -
       (Счетчики_Кон_см_резервуар - Счетчики_Нач_см_резервуар)) -
      Остаток_на_конец_смены_резервуар > 0.0,
      DoubleToStr((Остаток_на_начало_смены_резервуар + Поступило_за_смену / Density -
                   (Счетчики_Кон_см_резервуар - Счетчики_Нач_см_резервуар)) -
                   Остаток_на_конец_смены_резервуар, Kol_Pr), ZeroSim)

  if (Естественная_убыль_за_смену > 0.0,
      DoubleToStr(Естественная_убыль_за_смену / Density, Kol_Pr), ZeroSim)
!.}


!.{?Internal; (prLitrKg = 2)
  тип_ГСМ_1
  баркод_ГСМ_1

  if(Остаток_на_начало_смены_резервуар <> 0.0,
     DoubleToStr(Остаток_на_начало_смены_резервуар * Density, Kol_Pr), ZeroSim)
  if(Поступило_за_смену <> 0.0, DoubleToStr(Поступило_за_смену, Kol_Pr), ZeroSim)

  if(Счетчики_Кон_см_резервуар <> 0.0,
     DoubleToStr(Счетчики_Кон_см_резервуар * Density, Kol_Pr), ZeroSim)
  if(Счетчики_Нач_см_резервуар <> 0.0,
     DoubleToStr(Счетчики_Нач_см_резервуар * Density, Kol_Pr), ZeroSim)
  if((Счетчики_Кон_см_резервуар - Счетчики_Нач_см_резервуар) <> 0.0,
      DoubleToStr(Счетчики_Кон_см_резервуар * Density -
                  Счетчики_Нач_см_резервуар * Density, Kol_Pr),
     ZeroSim)

  номер_резервуара
  Уровень_топлива_в_см + Уровень_воды_в_см * 10
  Уровень_воды_в_см * 10
  Уровень_топлива_в_см * 10

  if(Остаток_на_конец_смены_резервуар <> 0.0,
     DoubleToStr(Остаток_на_конец_смены_резервуар * Density, Kol_Pr), ZeroSim)
  if((Остаток_на_начало_смены_резервуар * Density + Поступило_за_смену  -
      (Счетчики_Кон_см_резервуар * Density - Счетчики_Нач_см_резервуар * Density)) <> 0.0,
     DoubleToStr(Остаток_на_начало_смены_резервуар * Density + Поступило_за_смену -
                 (Счетчики_Кон_см_резервуар * Density - Счетчики_Нач_см_резервуар * Density), Kol_Pr),
     ZeroSim)

  if (Остаток_на_конец_смены_резервуар * Density -
      (Остаток_на_начало_смены_резервуар * Density + Поступило_за_смену -
       (Счетчики_Кон_см_резервуар * Density - Счетчики_Нач_см_резервуар * Density)) > 0.0,
      DoubleToStr(Остаток_на_конец_смены_резервуар * Density -
                  (Остаток_на_начало_смены_резервуар * Density + Поступило_за_смену -
                  (Счетчики_Кон_см_резервуар * Density - Счетчики_Нач_см_резервуар * Density)),
                  Kol_Pr), ZeroSim)
  if ((Остаток_на_начало_смены_резервуар * Density + Поступило_за_смену -
       (Счетчики_Кон_см_резервуар * Density - Счетчики_Нач_см_резервуар * Density)) -
      Остаток_на_конец_смены_резервуар * Density > 0.0,
      DoubleToStr((Остаток_на_начало_смены_резервуар * Density + Поступило_за_смену -
                   (Счетчики_Кон_см_резервуар * Density - Счетчики_Нач_см_резервуар * Density)) -
                   Остаток_на_конец_смены_резервуар * Density, Kol_Pr), ZeroSim)

  if (Естественная_убыль_за_смену > 0.0,
      DoubleToStr(Естественная_убыль_за_смену, Kol_Pr), ZeroSim)
!.}


!.{?Internal; (prLitrKg = 3)
!============================== 1-я строка ====================================
  тип_ГСМ_1
  баркод_ГСМ_1

  if(Остаток_на_начало_смены_резервуар <> 0.0,
     DoubleToStr(Остаток_на_начало_смены_резервуар, Kol_Pr), ZeroSim)
  if(Поступило_за_смену <> 0.0, DoubleToStr(Поступило_за_смену / Density, Kol_Pr), ZeroSim)

  if(Счетчики_Кон_см_резервуар <> 0.0,
     DoubleToStr(Счетчики_Кон_см_резервуар, Kol_Pr), ZeroSim)
  if(Счетчики_Нач_см_резервуар <> 0.0,
     DoubleToStr(Счетчики_Нач_см_резервуар, Kol_Pr), ZeroSim)
  if((Счетчики_Кон_см_резервуар - Счетчики_Нач_см_резервуар) <> 0.0,
      DoubleToStr(Счетчики_Кон_см_резервуар - Счетчики_Нач_см_резервуар, Kol_Pr),
     ZeroSim)

  номер_резервуара
  Уровень_топлива_в_см + Уровень_воды_в_см * 10
  Уровень_воды_в_см * 10
  Уровень_топлива_в_см * 10

  if(Остаток_на_конец_смены_резервуар <> 0.0,
     DoubleToStr(Остаток_на_конец_смены_резервуар, Kol_Pr), ZeroSim)
  if((Остаток_на_начало_смены_резервуар + Поступило_за_смену / Density  -
      (Счетчики_Кон_см_резервуар - Счетчики_Нач_см_резервуар)) <> 0.0,
     DoubleToStr(Остаток_на_начало_смены_резервуар + Поступило_за_смену / Density -
                 (Счетчики_Кон_см_резервуар - Счетчики_Нач_см_резервуар), Kol_Pr),
     ZeroSim)

  if (Остаток_на_конец_смены_резервуар -
      (Остаток_на_начало_смены_резервуар + Поступило_за_смену / Density -
       (Счетчики_Кон_см_резервуар - Счетчики_Нач_см_резервуар)) > 0.0,
      DoubleToStr(Остаток_на_конец_смены_резервуар -
                  (Остаток_на_начало_смены_резервуар + Поступило_за_смену / Density -
                  (Счетчики_Кон_см_резервуар - Счетчики_Нач_см_резервуар)),
                  Kol_Pr), ZeroSim)
  if ((Остаток_на_начало_смены_резервуар + Поступило_за_смену / Density -
       (Счетчики_Кон_см_резервуар - Счетчики_Нач_см_резервуар)) -
      Остаток_на_конец_смены_резервуар > 0.0,
      DoubleToStr((Остаток_на_начало_смены_резервуар + Поступило_за_смену / Density -
                   (Счетчики_Кон_см_резервуар - Счетчики_Нач_см_резервуар)) -
                   Остаток_на_конец_смены_резервуар, Kol_Pr), ZeroSim)

  if (Естественная_убыль_за_смену > 0.0,
      DoubleToStr(Естественная_убыль_за_смену / Density, Kol_Pr), ZeroSim)

!============================== 2-я строка ====================================
  if(Остаток_на_начало_смены_резервуар <> 0.0,
     DoubleToStr(Остаток_на_начало_смены_резервуар * Density, Kol_Pr), ZeroSim)
  if(Поступило_за_смену <> 0.0, DoubleToStr(Поступило_за_смену, Kol_Pr), ZeroSim)

  if(Счетчики_Кон_см_резервуар <> 0.0,
     DoubleToStr(Счетчики_Кон_см_резервуар * Density, Kol_Pr), ZeroSim)
  if(Счетчики_Нач_см_резервуар <> 0.0,
     DoubleToStr(Счетчики_Нач_см_резервуар * Density, Kol_Pr), ZeroSim)
  if((Счетчики_Кон_см_резервуар - Счетчики_Нач_см_резервуар) <> 0.0,
      DoubleToStr(Счетчики_Кон_см_резервуар * Density -
                  Счетчики_Нач_см_резервуар * Density, Kol_Pr),
     ZeroSim)

  if(Остаток_на_конец_смены_резервуар <> 0.0,
     DoubleToStr(Остаток_на_конец_смены_резервуар * Density, Kol_Pr), ZeroSim)
  if((Остаток_на_начало_смены_резервуар * Density + Поступило_за_смену  -
      (Счетчики_Кон_см_резервуар * Density - Счетчики_Нач_см_резервуар * Density)) <> 0.0,
     DoubleToStr(Остаток_на_начало_смены_резервуар * Density + Поступило_за_смену -
                 (Счетчики_Кон_см_резервуар * Density - Счетчики_Нач_см_резервуар * Density), Kol_Pr),
     ZeroSim)

  if (Остаток_на_конец_смены_резервуар * Density -
      (Остаток_на_начало_смены_резервуар * Density + Поступило_за_смену -
       (Счетчики_Кон_см_резервуар * Density - Счетчики_Нач_см_резервуар * Density)) > 0.0,
      DoubleToStr(Остаток_на_конец_смены_резервуар * Density -
                  (Остаток_на_начало_смены_резервуар * Density + Поступило_за_смену -
                  (Счетчики_Кон_см_резервуар * Density - Счетчики_Нач_см_резервуар * Density)),
                  Kol_Pr), ZeroSim)
  if ((Остаток_на_начало_смены_резервуар * Density + Поступило_за_смену -
       (Счетчики_Кон_см_резервуар * Density - Счетчики_Нач_см_резервуар * Density)) -
      Остаток_на_конец_смены_резервуар * Density > 0.0,
      DoubleToStr((Остаток_на_начало_смены_резервуар * Density + Поступило_за_смену -
                   (Счетчики_Кон_см_резервуар * Density - Счетчики_Нач_см_резервуар * Density)) -
                   Остаток_на_конец_смены_резервуар * Density, Kol_Pr), ZeroSim)

  if (Естественная_убыль_за_смену > 0.0,
      DoubleToStr(Естественная_убыль_за_смену, Kol_Pr), ZeroSim)
!.}


!.{
!.{?Internal; (prLitrKg = 1)
   номер_устройства_ТРК_колонка

   if(Счетчики_Кон_см_колонка <> 0.0,
      DoubleToStr(Счетчики_Кон_см_колонка, Kol_Pr), ZeroSim)
   if(Счетчики_Нач_см_колонка <> 0.0,
      DoubleToStr(Счетчики_Нач_см_колонка, Kol_Pr), ZeroSim)
   if((Счетчики_Кон_см_колонка - Счетчики_Нач_см_колонка) <> 0.0,
      DoubleToStr(Счетчики_Кон_см_колонка - Счетчики_Нач_см_колонка, Kol_Pr),
      ZeroSim)

   погрешность_ТРК
   if((Счетчики_Кон_см_колонка - Счетчики_Нач_см_колонка) /
      100 * погрешность_ТРК<> 0.0,
      DoubleToStr((Счетчики_Кон_см_колонка - Счетчики_Нач_см_колонка) /
                   100 * погрешность_ТРК, Kol_Pr), ZeroSim)
!.}


!.{?Internal; (prLitrKg = 2)
   номер_устройства_ТРК_колонка

   if(Счетчики_Кон_см_колонка <> 0.0,
      DoubleToStr(Счетчики_Кон_см_колонка * Density, Kol_Pr), ZeroSim)
   if(Счетчики_Нач_см_колонка <> 0.0,
      DoubleToStr(Счетчики_Нач_см_колонка * Density, Kol_Pr), ZeroSim)
   if((Счетчики_Кон_см_колонка - Счетчики_Нач_см_колонка) <> 0.0,
      DoubleToStr(Счетчики_Кон_см_колонка * Density - Счетчики_Нач_см_колонка * Density, Kol_Pr),
      ZeroSim)

   погрешность_ТРК
   if((Счетчики_Кон_см_колонка - Счетчики_Нач_см_колонка) /
      100 * погрешность_ТРК <> 0.0,
      DoubleToStr(((Счетчики_Кон_см_колонка - Счетчики_Нач_см_колонка) /
                    100 * погрешность_ТРК) * Density, Kol_Pr), ZeroSim)
!.}


!.{?Internal; (prLitrKg = 3)
!----------------------------- 1-я строка -------------------------------------
   номер_устройства_ТРК_колонка

   if(Счетчики_Кон_см_колонка <> 0.0,
      DoubleToStr(Счетчики_Кон_см_колонка, Kol_Pr), ZeroSim)
   if(Счетчики_Нач_см_колонка <> 0.0,
      DoubleToStr(Счетчики_Нач_см_колонка, Kol_Pr), ZeroSim)
   if((Счетчики_Кон_см_колонка - Счетчики_Нач_см_колонка) <> 0.0,
      DoubleToStr(Счетчики_Кон_см_колонка - Счетчики_Нач_см_колонка, Kol_Pr),
      ZeroSim)

   погрешность_ТРК
   if((Счетчики_Кон_см_колонка - Счетчики_Нач_см_колонка) /
      100 * погрешность_ТРК<> 0.0,
      DoubleToStr((Счетчики_Кон_см_колонка - Счетчики_Нач_см_колонка) /
                   100 * погрешность_ТРК, Kol_Pr), ZeroSim)

!----------------------------- 2-я строка -------------------------------------
   if(Счетчики_Кон_см_колонка <> 0.0,
      DoubleToStr(Счетчики_Кон_см_колонка * Density, Kol_Pr), ZeroSim)
   if(Счетчики_Нач_см_колонка <> 0.0,
      DoubleToStr(Счетчики_Нач_см_колонка * Density, Kol_Pr), ZeroSim)
   if((Счетчики_Кон_см_колонка - Счетчики_Нач_см_колонка) <> 0.0,
      DoubleToStr(Счетчики_Кон_см_колонка * Density - Счетчики_Нач_см_колонка * Density, Kol_Pr),
      ZeroSim)

   if((Счетчики_Кон_см_колонка - Счетчики_Нач_см_колонка) /
      100 * погрешность_ТРК <> 0.0,
      DoubleToStr(((Счетчики_Кон_см_колонка - Счетчики_Нач_см_колонка) /
                    100 * погрешность_ТРК) * Density, Kol_Pr), ZeroSim)
!.}
!.}
.endfields
.[h
 Ш┌──────────────────────┬─────────────┬───────────┬───────────┬───────────────────────────────────────┬────────────────────────────────────────────────────────┬───────────────────────┬─────────────────┬───────────┐ Ш
 Ш│                      │             │Фактический│           │     Показания счетных механизмов      │                 Остаток на конец смены                 │       Результат       │    Величина     │           │ Ш
 Ш│                      │             │  остаток  │ Поступило ├───┬───────────┬───────────┬───────────┼─────┬─────────┬───────┬────────┬───────────┬───────────┼───────────┬───────────┤ погрешности ТРК │   Естес-  │ Ш
 Ш│     Наименование     │     Код     │ на начало │ за смену, │   │  на конец │ на начало │           │  №  │  общий  │уровень│уровень │           │ расчетный │           │           ├─────┬───────────┤  твенная  │ Ш
 Ш│    нефтепродуктов    │             │   смены,  │@~@@@@@@@@@│ № │   смены,  │   смены,  │  расход,  │ ре- │ уровень,│ воды, │ нефте- │фактический│ (книжный),│  излишки, │ недостача,│     │           │   убыль,  │ Ш
 Ш│                      │             │@~@@@@@@@@@│           │ТРК│@~@@@@@@@@@│@~@@@@@@@@@│@~@@@@@@@@@│зер- │   мм    │  мм   │продукта│@~@@@@@@@@@│@~@@@@@@@@@│@~@@@@@@@@@│@~@@@@@@@@@│ в % │@~@@@@@@@@@│@~@@@@@@@@@│ Ш
 Ш│                      │             │           │           │   │           │           │           │вуара│         │       │   мм   │           │           │           │           │     │           │           │ Ш
 Ш├──────────────────────┼─────────────┼───────────┼───────────┼───┼───────────┼───────────┼───────────┼─────┼─────────┼───────┼────────┼───────────┼───────────┼───────────┼───────────┼─────┼───────────┼───────────┤ Ш
 Ш│          1           │      2      │     3     │     4     │ 5 │     6     │     7     │     8     │  9  │    10   │   11  │   12   │    13     │    14     │    15     │    16     │ 17  │    18     │    19     │ Ш
 Ш├──────────────────────┼─────────────┼───────────┼───────────┼───┼───────────┼───────────┼───────────┼─────┼─────────┼───────┼────────┼───────────┼───────────┼───────────┼───────────┼─────┼───────────┼───────────┤ Ш
.]h
.begin
  Itigo_SumBeg := Itigo_SumBeg + Остаток_на_начало_смены_резервуар_деньги;
end.
.{?Internal; (prLitrKg = 1)
 Ш│@@@@@@@@@@@@@@@@@@@@@@│&&&&&&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│   │&#'&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│&&&&&│&#&&&&&&&│&#&&&&&│&#&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│     │           │&#'&&&&&&&&│ Ш
.}
.{?Internal; (prLitrKg = 2)
 Ш│@@@@@@@@@@@@@@@@@@@@@@│&&&&&&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│   │&#'&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│&&&&&│&#&&&&&&&│&#&&&&&│&#&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│     │           │&#'&&&&&&&&│ Ш
.}
.{?Internal; (prLitrKg = 3)
 Ш│@@@@@@@@@@@@@@@@@@@@@@│&&&&&&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│   │&#'&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│&&&&&│&#&&&&&&&│&#&&&&&│&#&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│     │           │&#'&&&&&&&&│ Ш
 Ш│                      │             │&#'&&&&&&&&│&#'&&&&&&&&│   │&#'&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│     │         │       │        │&#'&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│     │           │&#'&&&&&&&&│ Ш
.}
.{
.{?Internal; (prLitrKg = 1)
 Ш│                      │             │           │           │&&&│&#'&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│     │         │       │        │           │           │           │           │&#.&&│&#'&&&&&&&&│           │ Ш
.}
.{?Internal; (prLitrKg = 2)
 Ш│                      │             │           │           │&&&│&#'&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│     │         │       │        │           │           │           │           │&#.&&│&#'&&&&&&&&│           │ Ш
.}
.{?Internal; (prLitrKg = 3)
 Ш│                      │             │           │           │&&&│&#'&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│     │         │       │        │           │           │           │           │&#.&&│&#'&&&&&&&&│           │ Ш
 Ш│                      │             │           │           │   │&#'&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│     │         │       │        │           │           │           │           │     │&#'&&&&&&&&│           │ Ш
.}
.}
.[f
 Ш└──────────────────────┴─────────────┴───────────┴───────────┴───┴───────────┴───────────┴───────────┴─────┴─────────┴───────┴────────┴───────────┴───────────┴───────────┴───────────┴─────┴───────────┴───────────┘ Ш
.]f
.}
!------------------------------------------------------------------------------
!----------------------------- ПРИХОД ПО НАКЛАДНЫМ ----------------------------
!------------------------------------------------------------------------------
.{
.fields
  тип_ГСМ_3
  баркод_ГСМ_3

  Поставщик

  номер_ТТН

  //количество_учетное
  if(количество_фактическое <> 0.0,
     DoubleToStr(количество_фактическое / Density1, Kol_Pr), ZeroSim)
  плотность_3
  if(количество_фактическое <> 0.0,
     DoubleToStr(количество_фактическое, Kol_Pr), ZeroSim)

  температура_3
.endfields
.[h
 И┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐ И
 И│                                                  Расшифровка поступления                                                     │ И
 И├──────────────────────┬─────────────┬────────────────────────────────────┬─────────┬──────────────────────────────────┬───────┤ И
 И│                      │             │       Нефтебаза - поставщик        │         │            Количество            │Темпе- │ И
 И│                      │             ├─────────────────────────┬──────────┤         ├───────────┬──────────┬───────────┤ратура │ И
 И│     Наименование     │     Код     │                         │          │  Номер  │           │          │           │продук-│ И
 И│    нефтепродуктов    │             │      наименование       │   код    │документа│   объем,  │плотность,│   масса,  │та в   │ И
 И│                      │             │                         │          │         │     л     │кг/куб. м │     кг    │цистер-│ И
 И│                      │             │                         │          │         │           │          │           │не, ° С│ И
 И├──────────────────────┼─────────────┼─────────────────────────┼──────────┼─────────┼───────────┼──────────┼───────────┼───────┤ И
 И│          1           │      2      │           3             │    4     │    5    │     6     │    7     │     8     │   9   │ И
 И├──────────────────────┼─────────────┼─────────────────────────┼──────────┼─────────┼───────────┼──────────┼───────────┼───────┤ И
.]h
 И│@@@@@@@@@@@@@@@@@@@@@@│&&&&&&&&&&&&&│@@@@@@@@@@@@@@@@@@@@@@@@@│          │@@@@@@@@@│&#'&&&&&&&&│&#&&&.&&&&│&#'&&&&&&&&│&#&&&&&│ И
.[f
 И└──────────────────────┴─────────────┴─────────────────────────┴──────────┴─────────┴───────────┴──────────┴───────────┴───────┘ И
.]f
.}
!------------------------------------------------------------------------------
!------------------------- ПО ВИДАМ РЕАЛИЗАЦИИ (рубли) ------------------------
!------------------------------------------------------------------------------
.begin
  Itigo_SumEnd := 0;
end.
.{
.fields
  тип_ГСМ_4
  баркод_ГСМ_4
  'литр'

  if(ItogoNal <> 0.0, DoubleToStr(ItogoNal, Kol_Pr), ZeroSim)
  if(наличная_цена_4 <> 0.0, DoubleToStr(наличная_цена_4, Cena_Pr), ZeroSim)
  if(ItogoNalSum <> 0.0, DoubleToStr(ItogoNalSum, Cena_Pr), ZeroSim)

  if(ItogoBNal <> 0.0, DoubleToStr(ItogoBNal, Kol_Pr), ZeroSim)
  if(безналичная_цена_4 <> 0.0, DoubleToStr(безналичная_цена_4, Cena_Pr), ZeroSim)
  if(ItogoBNalSum <> 0.0, DoubleToStr(ItogoBNalSum, Cena_Pr), ZeroSim)

  if(ItogoTeh <> 0.0, DoubleToStr(ItogoTeh, Kol_Pr), ZeroSim)

  if((ItogoNal + ItogoBNal + ItogoTeh) <> 0.0,
     DoubleToStr(ItogoNal + ItogoBNal + ItogoTeh, Kol_Pr), ZeroSim)
  if((ItogoNalSum + ItogoBNalSum) <> 0.0,
     DoubleToStr(ItogoNalSum + ItogoBNalSum, Cena_Pr), ZeroSim)
.endfields
.[h
 Р┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐ Р
 Р│                                                                    Расшифровка реализации                                                                                         │ Р
 Р├──────────────────────┬─────────────┬───────┬─────────────────────────────────────────────┬─────────────────────────────────────────────┬───────────┬──────────────────────────────┤ Р
 Р│     Наименование     │             │Единица│             За наличные деньги              │           За безналичные деньги             │ Технологи-│            Всего             │ Р
 Р│    нефтепродуктов    │     Код     │измере-├───────────┬──────────────┬──────────────────┼───────────┬──────────────┬──────────────────┤  ческий   ├───────────┬──────────────────┤ Р
 Р│                      │             │  ния  │количество │     цена     │      сумма       │количество │     цена     │      сумма       │  отпуск   │количество │      сумма       │ Р
 Р├──────────────────────┼─────────────┼───────┼───────────┼──────────────┼──────────────────┼───────────┼──────────────┼──────────────────┼───────────┼───────────┼──────────────────┤ Р
 Р│          1           │      2      │   3   │    4      │      5       │        6         │     7     │      8       │        9         │    10     │    11     │        12        │ Р
 Р├──────────────────────┼─────────────┼───────┼───────────┼──────────────┼──────────────────┼───────────┼──────────────┼──────────────────┼───────────┼───────────┼──────────────────┤ Р
.]h
.begin
  ItogoNal     := 0;
  ItogoNalSum  := 0;
  ItogoBNal    := 0;
  ItogoBNalSum := 0;
  ItogoTeh     := 0;
end.
.{
.begin
  ItogoNal     := ItogoNal     + нал_реализация_литры_4;
  ItogoNalSum  := ItogoNalSum  + нал_реализация_деньги_4;

  ItogoBNal    := ItogoBNal    + безнал_реализация_литры_4;
  ItogoBNalSum := ItogoBNalSum + безнал_реализация_деньги_4;

  ItogoTeh     := ItogoTeh     + технологический_отпуск_литры_4;
end.
.}
.begin
  Itigo_SumEnd := Itigo_SumEnd + ItogoNalSum + ItogoBNalSum;
end.
 Р│@@@@@@@@@@@@@@@@@@@@@@│&&&&&&&&&&&&&│@~@@@@@│&#'&&&&&&&&│&#'&&&&&&&&&&&│&#'&&&&&&&&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&&&&│&#'&&&&&&&&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&│&#'&&&&&&&&&&&&&&&│ Р
.[f
 Р└──────────────────────┴─────────────┴───────┴───────────┴──────────────┴──────────────────┴───────────┴──────────────┴──────────────────┴───────────┴───────────┴──────────────────┘ Р
.]f
.}

.fields
  DoubleToString(comp(0), FRoundRub5(Itigo_SumBeg))
  DoubleToString(comp(0), FRoundRub5(Itigo_SumEnd))
  DoubleToString(comp(0), FRoundRub5(Itigo_SumBeg + Itigo_SumEnd))
.endfields
 БДвижение наличных денег Б

Принято по смене  З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ З
                                               (прописью)

Выручка за смену  З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ З
                                               (прописью)

Итого             З@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ З
                                               (прописью)

Сдано: в банк    _________________________________________________________________________________________
                                               (прописью)

       в кассу   _________________________________________________________________________________________
                                               (прописью)

Передано по смене: наличных денег ________________________________________________________________________
                                               (прописью)

К отчету приложено __________________________________________ документов
                             (количество прописью)

Отчет составили и смену сдали ____________________________________________________________________________
                                               (подписи)
.endform



/*
.LinkForm 'Temp' prototype is SmenAZS
.{
.{
.}
.}

.{
.}

.{
.{
.}
.}
.endform
*/

/*
.LinkForm 'Сменный отчет АЗС' prototype is SmenAZS
.{
.{
.}
.}

.{
.}

.{
.{
.}
.}
.endform


#doc
Сменный отчет АЗС
#end
.LinkForm 'Сменный отчет' prototype is SmenAZS
.fields

.endfields
                               Сменный отчет

             АЗС АЗС № 5
        Центр:Лукойл-Беларусь
           4 Апрель 2001 г.           Состав смены:
               Смена 2                Ст.смены: Developer
    22.03.01 12:57-04.04.01 09:23     Операторы:____________________________


.{
.fields
  номер_устройства_ТРК
  номер_шланга
  тип_ГСМ_1

  Счетчики_Нач_см
  Счетчики_Кон_см

  Счетчики_Кон_см - Счетчики_Нач_см

  Танк_1
.endfields
.[h
                              КОЛОНКИ, ПЫЛЕСОСЫ
┌──┬─┬─────┬───────────────────┬──────────┬──────────┬────────┬────┬───────────┐
│№ │№│ Тип │     Счетчики      │Реализация│Реализация│Отклонен│Танк│Погрешность│
│  │ │ ГСМ ├─────────┬─────────┤    по    │    по    │        │    ├─────┬─────┤
│  │ │     │Нач. см. │Кон. см. │счетчикам │компьютеру│счт-кoмп│    │  %  │Литры│
├──┼─┼─────┼─────────┼─────────┼──────────┼──────────┼────────┼────┼─────┼─────┤
.]h
│&&│&│@@@@@│&'#&&&&&&│&'#&&&&&&│&'#&&&&&&&│          │        │@@@@│     │     │
.[f
└──┴─┴─────┴─────────┴─────────┴──────────┴──────────┴────────┴────┴─────┴─────┘
.]f
.}
.{
.fields
  тип_ГСМ_2

  Итого_Счетчики_Нач_см
  Итого_Счетчики_Кон_см
.endfields
.[h
┌─────────────────────────────────────────────────────────────────────────────┐
│                                Резервуары                                   │
├──┬─────┬─────────┬───────┬────────────────────────┬─────────┬───────────────┤
│  │ Тип │Расчетный│Приход │Факт. знач. на конец см.│Расчетный│  Отклонения   │
│  │ ГСМ │ книжный │       ├─────┬────┬────┬────────┤ книжный ├────────┬──────┤
│  │     │ остаток │       │уров.│уров│тру │ кол-во │ остаток │   От   │  От  │
│  │     │на начало│       │общий│воды│боп │ нефте  │на конец │расчетно│ТРК за│
│  │     │  смены  │       │     │    │ров │продукта│  смены  │го знач.│смену │
│  │     │    Л    │   Л   │ См  │ См │ Л  │   Л    │    Л    │   Л    │  Л   │
├──┼─────┼─────────┼───────┼─────┼────┼────┼────────┼─────────┼────────┼──────┤
.]h
.{?Internal; признак_печати_итогов_по_ГСМ_1
│  │@@@@@│&'#&&&&&&│       │     │    │    │        │&'#&&&&&&│        │      │
.}
.[f
└──┴─────┴─────────┴───────┴─────┴────┴────┴────────┴─────────┴────────┴──────┘
.]f
.}

.{
.fields
  номер_ТТН
  Танк_2

  количество_учетное
  количество_фактическое

  плотность
  вес_нетто
  температура

  тип_ГСМ_3
.endfields
.[h
                             ПРИХОД ПО НАКЛАДНЫМ
┌───────────┬────┬─────────────────┬─────┬─────────┬───────┬─────────┬─────────┐
│    ТТН    │Резе│   кол-во (Л)    │Плот │  факт.  │ Темпе │  Номер  │ Тип ГСМ │
│           │ №  ├────────┬────────┤ность│ Масса   │ратура │ Партии  │         │
│           │    │ по ТТН │ факт.  │     │   Кг    │       │         │         │
├───────────┼────┼────────┼────────┼─────┼─────────┼───────┼─────────┼─────────┤
.]h
│@@@@@@@@@@@│@@@@│&'#&&&&&│&'#&&&&&│&'&&&│&'#&&&&&&│&'#&&&&│         │@@@@@@@@@│
.[f
└───────────┴────┴────────┴────────┴─────┴─────────┴───────┴─────────┴─────────┘
.]f
.}
.{
.fields
  тип_ГСМ_4

  За_наличный_расчет_деньги
  За_безналичный_расчет_деньги

  За_наличный_расчет_литры
  За_безналичный_расчет_литры
  Технологический_отпуск_литры
.endfields
.[h
                            ПО  ВИДАМ  РЕАЛИЗАЦИИ
┌─────┬──────┬─────────────┬──────────┬──────────┬────────┬──────────────────┐
│Проду│      │ За наличный │   BERLIO │  Админ.  │Технол. │      ИТОГО       │
│     │      │   Расчет    │          │  Отпуск  │ Отпуск │                  │
├─────┼──────┼─────────────┼──────────┼──────────┼────────┼──────────────────┤
.]h
.{?Internal; признак_печати_итогов_по_ГСМ_2
│@@@@@│Деньги│&'#&&&&&&&&&&│&'#&&&&&&&│          │        │                  │
│     │Литры │&'#&&&&&&&&&&│&'#&&&&&&&│          │&'#&&&&&│                  │
.}
.[f
├─────┴──────┼─────────────┼──────────┼──────────┼────────┼──────────────────┤
│Всего Деньги│     31460.00│      0.00│      0.00│    0.00│          31460.00│
│В т.ч  НсП: │      2760.00│      0.00│      0.00│    0.00│           2760.00│
│В т.ч  НДС: │      3680.00│      0.00│      0.00│    0.00│           3680.00│
│Всего Литры │        69.00│      0.00│      0.00│    0.00│             69.00│
└────────────┴─────────────┴──────────┴──────────┴────────┴──────────────────┘
.]f
.}
.{
.fields
  тип_ГСМ_6

  наличная_цена
  безналичная_цена
.endfields
.[h
                     ОТПУСКНЫЕ ЦЕНЫ
┌──────────┬───────────┬──────────────┐
│ Продукт  │За наличные│За безналичный│
├──────────┼───────────┼──────────────┤
.]h
.{?Internal; признак_печати_итогов_по_ГСМ_4
│@@@@@@@@@@│&'#&&&&&&&&│&'#&&&&&&&&&&&│
.}
.[f
└──────────┴───────────┴──────────────┘
.]f
.}


                       ДВИЖЕНИЕ НАЛИЧНЫХ ДЕНЕГ

Принято по смене _____________________________________________________
______________________________________________________________________
Выручка за смену _____________________________________________________
______________________________________________________________________
ИТОГО ________________________________________________________________
______________________________________________________________________
Сдано в банк _________________________________________________________
______________________________________________________________________
Передано следующей смене _____________________________________________
______________________________________________________________________

К отчету приложено______________________________________Документов
Отчет составили и смену сдали операторы_____________________________________
Смену приняли операторы_____________________________________________________
Отчет проверил бухгалтер____________________________________________________
.endform
*/
